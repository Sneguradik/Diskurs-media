{"version":3,"sources":["webpack:///src/app/blocker/blocker.module.ts","webpack:///src/app/blocker/blocker-routing.module.ts","webpack:///src/app/blocker/blocker.component.ts","webpack:///src/app/blocker/blocker.component.html"],"names":["BlockerModule","declarations","imports","routes","path","component","BlockerRoutingModule","forChild","exports","BlockerComponent","authService","loginService","router","username","password","error","submit","event","keyCode","login$","pipe","tokens","user","navigate","ngOnDestroy$","subscribe","selector","templateUrl","styleUrls"],"mappings":"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","file":"blocker-blocker-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { BlockerRoutingModule } from './blocker-routing.module';\nimport { BlockerComponent } from '../blocker/blocker.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [BlockerComponent],\n  imports: [\n    CommonModule,\n    BlockerRoutingModule,\n    FormsModule,\n    ReactiveFormsModule\n  ]\n})\nexport class BlockerModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BlockerComponent } from './blocker.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BlockerComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class BlockerRoutingModule { }\n","import { Component } from '@angular/core';\nimport { AuthService } from '@api/routes/auth.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { switchMap, filter, tap, takeUntil, catchError } from 'rxjs/operators';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\nimport { LoginService } from '@app/services/login.service';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { Router } from '@angular/router';\nimport { of } from 'rxjs';\n\n@Component({\n  selector: 'app-blocker',\n  templateUrl: './blocker.component.html',\n  styleUrls: ['./blocker.component.scss']\n})\nexport class BlockerComponent extends AbstractComponent {\n  public username = '';\n  public password = '';\n  public error = false;\n\n  constructor(\n    private readonly authService: AuthService,\n    private readonly loginService: LoginService,\n    private readonly router: Router\n  ) { super(); }\n\n  public submit(event: any): void {\n    if (event.keyCode === 13) {\n      this.authService.login$(this.username, this.password).pipe(\n        switchMap((tokens: IApiTokens) => this.loginService.login$(tokens)),\n        filter((user: IUserView) => !!user),\n        tap(() => this.router.navigate(['/all'])),\n        catchError(() => {\n          this.error = true;\n          return of(null);\n        }),\n        takeUntil(this.ngOnDestroy$)\n      ).subscribe();\n    }\n  }\n}\n","<div class=\"blind\">\n  <div class=\"blind__logo\"><img src=\"https://ru.yachtsmanjournal.com/assets/diskurs-media.png\" alt=\"\"></div>\n  <form class=\"blind__form\" (keydown)=\"submit($event)\">\n    <input type=\"text\" class=\"blind__input\" name=\"login\" placeholder=\"Логин\" [(ngModel)]=\"username\">      \n    <input type=\"password\" class=\"blind__input\" [class.error]=\"error\" name=\"password\" placeholder=\"Пароль\" [(ngModel)]=\"password\">\n    <div *ngIf=\"error\" class=\"blind__error\">Неверные имя пользователя и/или пароль</div>\n  </form>\n</div>\n"]}