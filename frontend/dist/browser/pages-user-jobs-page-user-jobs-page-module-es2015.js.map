{"version":3,"sources":["./src/app/shared/services/users-resolver.service.ts","./src/app/modules/user/pages/user-jobs-page/user-jobs-page-routing.module.ts","./src/app/modules/user/pages/user-jobs-page/user-jobs-page.module.ts","./src/app/shared/modules/user-info/user-info.component.ts","./src/app/shared/modules/user-info/user-info.component.html","./src/app/shared/classes/pageable-conetnt.class.ts","./src/app/shared/utils/not-found.operator.ts","./src/app/modules/user/pages/user-jobs-page/user-jobs-page.component.ts","./src/app/modules/user/pages/user-jobs-page/user-jobs-page.component.html","./src/app/shared/modules/user-info/user-info.module.ts","./src/app/api/schemas/job/job-order.enum.ts"],"names":[],"mappings":"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","file":"pages-user-jobs-page-user-jobs-page-module-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, Router } from '@angular/router';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { UsersService } from '@api/routes/users.service';\nimport { Observable } from 'rxjs';\nimport { notFound } from '@shared/utils/not-found.operator';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UsersResolverService implements Resolve<IUserViewFull> {\n  constructor(\n    private readonly usersService: UsersService,\n    private readonly router: Router\n  ) { }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<IUserViewFull> {\n    return this.usersService.getSingle$(route.params.id).pipe(notFound(this.router));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { UserJobsPageComponent } from './user-jobs-page.component';\nimport { UsersResolverService } from '@shared/services/users-resolver.service';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserJobsPageComponent,\n    resolve: { data: UsersResolverService }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UserJobsPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UserJobsPageRoutingModule } from './user-jobs-page-routing.module';\nimport { UserJobsPageComponent } from './user-jobs-page.component';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { JobPreviewModule } from '@modules/jobs/job-preview/job-preview.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\n\n\n@NgModule({\n  declarations: [UserJobsPageComponent],\n  imports: [\n    CommonModule,\n    UserJobsPageRoutingModule,\n    SharedUiModule,\n    JobPreviewModule,\n    SharedComponentsModule\n  ]\n})\nexport class UserJobsPageModule { }\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { IUserViewBase } from '@api/schemas/user/user-view-base.interface';\n\n\n@Component({\n  selector: 'app-user-info',\n  templateUrl: './user-info.component.html',\n  styleUrls: ['./user-info.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class UserInfoComponent {\n  @Input() public user: IUserViewBase;\n}\n","<div class=\"v-center\">\n    <a [routerLink]=\"user ? (user | accountUrl) : ''\" class=\"v-center\">\n        <app-ui-icon class=\"margin-right-10\" [src]=\"user?.info.picture\" [textAlternative]=\"user ? (user.info | personName) : ''\"></app-ui-icon>\n        <span class=\"subtitle-1\">{{ user ? (user.info | personName) : '' }}</span>\n    </a>\n</div>\n","import { BehaviorSubject, Subject, Observable } from 'rxjs';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { debounce, filter, first, tap, mapTo } from 'rxjs/operators';\n\nexport const NO_CONTENT = Symbol('NO_CONTENT');\n\nexport class PageableContent<T, O = any> {\n  public readonly isFetching$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  public readonly content$: Subject<T[]> = new Subject<T[]>();\n  public readonly options$: BehaviorSubject<O>;\n  public readonly end$ = new Subject();\n\n  public content: T[] = [];\n  public page = -1;\n  public totalPages = 1;\n\n  private readonly fetchCommand$: Subject<never> = new Subject<never>();\n\n  constructor(\n    private readonly fetchNextFn$: (page: number, options: O) => Observable<IPageResponse<T>>,\n    options: O = null\n  ) {\n    this.options$ = new BehaviorSubject<O>(options);\n    this.fetchCommand$.pipe(debounce(() => this.isFetching$.pipe(filter((_: boolean) => !_)))).subscribe(() => this.fetchNextPage());\n  }\n\n  public fetch(): void {\n    if (this.page < this.totalPages - 1) {\n      this.fetchCommand$.next();\n    }\n  }\n\n  public reset$(hard: boolean = true): Observable<any> {\n    return this.isFetching$.pipe(\n      filter((it: boolean) => !it),\n      first(),\n      tap(() => {\n        if (hard) {\n          this.content.splice(0, this.content.length);\n        }\n        this.page = -1;\n        this.totalPages = 1;\n      }),\n    );\n  }\n\n  public setOptionsWithReset$(options: O, hard: boolean = true): Observable<O> {\n    return this.reset$(hard).pipe(\n      tap(() => {\n        this.options$.next(options);\n        this.fetch();\n      }),\n      mapTo(options),\n    );\n  }\n\n  private fetchNextPage(): void {\n    this.isFetching$.next(true);\n    this.fetchNextFn$(this.page + 1, this.options$.value).subscribe(\n      (response: IPageResponse<T>) => {\n        this.page = response.page;\n        this.totalPages = response.totalPages;\n        this.content$.next(response.content);\n        if (this.page >= this.totalPages - 1) {\n          this.end$.next();\n        }\n        this.content.push(...response.content);\n        this.isFetching$.next(false);\n      },\n      (error: any) => {\n        this.isFetching$.next(false);\n        if (error !== Symbol('NO_CONTENT')) {\n          throw error;\n        }\n      },\n    );\n  }\n}\n","import { OperatorFunction, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\nexport function notFound(router: Router): OperatorFunction<any, any> {\n    return catchError((error: HttpErrorResponse) => {\n        if (error.status === 404 || error.status === 422) {\n            router.navigateByUrl('/404');\n        }\n        return throwError(error);\n    });\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IJobView } from '@api/schemas/job/job-view.interface';\nimport { PageableContent, NO_CONTENT } from '@shared/classes/pageable-conetnt.class';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { Observable, combineLatest, throwError } from 'rxjs';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\nimport { takeUntil, map, tap, switchMap } from 'rxjs/operators';\nimport { SessionService } from '@app/services/session.service';\nimport { UsersService } from '@api/routes/users.service';\nimport { CompaniesService } from '@api/routes/companies.service';\nimport { EventFiltersEnum } from '@api/schemas/event/event-filters.enum';\nimport { PublicationStageEnum } from '@api/schemas/article/publication-stage.enum';\nimport { PermissionService } from '@app/services/permission/permission.service';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { JobOrderEnum } from '@api/schemas/job/job-order.enum';\n\n@Component({\n  selector: 'app-user-jobs-page',\n  templateUrl: './user-jobs-page.component.html',\n  styleUrls: ['./user-jobs-page.component.scss']\n})\nexport class UserJobsPageComponent extends AbstractComponent implements OnInit, OnDestroy {\n  public readonly pageable: PageableContent<IJobView, [number, IUserViewFull]> =\n    new PageableContent<IJobView, [number, IUserViewFull]>(this.fetchPageFn$.bind(this), null);\n\n  public jobs: IJobView[] = [];\n  public id$: Observable<number>;\n\n  constructor(\n    private readonly usersService: UsersService,\n    private readonly activatedRoute: ActivatedRoute,\n    private readonly sessionService: SessionService,\n    private readonly companiesService: CompaniesService,\n    private readonly permissionService: PermissionService,\n    private readonly sidebarWrapperService: SidebarWrapperService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: true, navigation: true, live: false, showSidebar: true });\n    });\n\n    this.id$ = this.activatedRoute.paramMap.pipe(\n      map((paramMap: ParamMap) => {\n        const id = paramMap.get('id');\n        return /^\\d+$/.test(id) ? parseInt(id, 10) : id;\n      }),\n      switchMap((id: string | number) => this.usersService.getSingle$(id)),\n      map((user: IUserViewFull) => user.meta.id)\n    );\n\n    this.pageable.content$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((content: IJobView[]) => {\n      this.jobs.push(...content);\n    });\n    combineLatest([this.id$, this.sessionService.user$]).pipe(\n      tap((options: [number, IUserViewFull]) => {\n        this.jobs.splice(0, this.jobs.length);\n        this.pageable.options$.next(options);\n      }),\n      switchMap(() => this.pageable.reset$()),\n      takeUntil(this.ngOnDestroy$),\n    ).subscribe(() => {\n      this.pageable.fetch();\n    });\n  }\n\n  private fetchPageFn$(page: number, options: [number, IUserViewFull, EventFiltersEnum] | null): Observable<IPageResponse<IJobView>> {\n    if (options === null) {\n      return throwError(NO_CONTENT);\n    }\n    const canSeeDrafts: boolean = options[1] !== null && (options[1].meta.id === options[0] || this.permissionService.hasAnyRole(options[1], 'EDITOR$'));\n    return this.companiesService.jobs$(options[0], page, {\n      order: JobOrderEnum.LAST_POST_TIME,\n      stages: canSeeDrafts\n        ? [\n            PublicationStageEnum.DRAFT,\n            PublicationStageEnum.REVIEWING,\n            PublicationStageEnum.PUBLISHED,\n            PublicationStageEnum.BLOCKED\n        ]\n        : [PublicationStageEnum.PUBLISHED],\n    });\n  }\n\n  public remove(job: IJobView): void {\n    this.jobs.splice(this.jobs.findIndex((it: IJobView) => it === job), 1);\n  }\n}\n","<ul class=\"block-card item-space-40\">\n    <li *ngFor=\"let job of jobs\">\n        <app-job-preview [job]=\"job\" (gone)=\"remove(job)\"></app-job-preview>\n    </li>\n</ul>\n<app-pagination [pageable]=\"pageable\"></app-pagination>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { UserInfoComponent } from './user-info.component';\n\n\n\n@NgModule({\n  declarations: [UserInfoComponent],\n  imports: [CommonModule, SharedPipesModule, RouterModule, SharedUiModule],\n  exports: [UserInfoComponent],\n})\nexport class UserInfoModule {}\n","export enum JobOrderEnum {\n  NAME = 'NAME',\n  LAST_POST_TIME = 'LAST_POST_TIME',\n  VIEWS = 'VIEWS',\n  BOOKMARKS = 'BOOKMARKS'\n}\n"],"sourceRoot":"webpack:///"}