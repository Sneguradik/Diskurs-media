{"version":3,"sources":["webpack:///src/app/modules/homepage/pages/home-page/home-page.module.ts","webpack:///src/app/modules/homepage/pages/home-page/home-page-routing.module.ts","webpack:///src/app/modules/homepage/pages/home-page/home-page.component.ts","webpack:///src/app/modules/homepage/pages/home-page/home-page.component.html"],"names":["HomePageModule","forChild","declarations","imports","routes","path","component","HomePageRoutingModule","exports","HomePageComponent","administrationService","feedService","activatedRoute","topicsService","advertisementService","platformService","homepageService","sidebarWrapperService","responsive","translateService","pageable","fetch$","bind","ngOnInit","setTimeout","params$","next","article","trending","navigation","live","showSidebar","feedSource$","PERSONAL","queryParams","pipe","params","setOptionsWithReset$","sub","ngOnDestroy$","subscribe","ngOnDestroy","NONE","onHide","content","splice","findIndex","item","meta","id","selector","templateUrl","styleUrls"],"mappings":"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","file":"pages-home-page-home-page-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HomePageRoutingModule } from './home-page-routing.module';\nimport { HomePageComponent } from './home-page.component';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { FeedModule } from '@shared/modules/feed/feed.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { ShortJobListModule } from '@shared/modules/short-job-list/short-job-list.module';\nimport { ShortEventListModule } from '@shared/modules/short-event-list/short-event-list.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n\n@NgModule({\n  declarations: [HomePageComponent],\n  imports: [\n    CommonModule,\n    HomePageRoutingModule,\n    SharedComponentsModule,\n    FeedModule,\n    SvgModule,\n    ShortJobListModule,\n    ShortEventListModule,\n    TranslateModule.forChild()\n  ]\n})\nexport class HomePageModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HomePageComponent } from './home-page.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { FeedComponent } from '@shared/classes/feed-component.class';\nimport { FeedService } from '@api/routes/feed.service';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { HomepageService } from '@shared/services/homepage.service';\nimport { FeedSourceEnum } from '@shared/enums/feed-source.enum';\nimport { IFeedParams } from '@api/schemas/feed/feed-params.interface';\nimport { PageableContent } from '@shared/classes/pageable-conetnt.class';\nimport { IArticleView } from '@api/schemas/article/article-view.interface';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { AdministrationService } from '@api/routes/administration.service';\nimport { AdvertisementService } from '@api/routes/advertisement.service';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { takeUntil, switchMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home-page.component.html',\n  styleUrls: ['./home-page.component.scss']\n})\nexport class HomePageComponent extends FeedComponent implements OnInit, OnDestroy {\n  public readonly pageable: PageableContent<[IArticleView, ITopicView], IFeedParams> =\n    new PageableContent<[IArticleView, ITopicView], IFeedParams>(this.fetch$.bind(this));\n\n  constructor(\n    administrationService: AdministrationService,\n    protected readonly feedService: FeedService,\n    protected readonly activatedRoute: ActivatedRoute,\n    protected readonly topicsService: TopicsService,\n    protected readonly advertisementService: AdvertisementService,\n    protected readonly platformService: PlatformService,\n    private readonly homepageService: HomepageService,\n    private readonly sidebarWrapperService: SidebarWrapperService,\n    public readonly responsive: ResponsiveService,\n    protected readonly translateService: TranslateService\n  ) {\n    super(feedService, topicsService, administrationService, activatedRoute, advertisementService, platformService);\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({\n        article: false,\n        trending: true,\n        navigation: true,\n        live: true,\n        showSidebar: true\n      });\n    });\n    super.ngOnInit();\n\n    this.homepageService.feedSource$.next(FeedSourceEnum.PERSONAL);\n    this.activatedRoute.queryParams.pipe(\n      switchMap((params: Params) =>\n        this.pageable.setOptionsWithReset$(params.sub ? params : { sub: ['AUTHOR', 'TOPIC'] })),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe();\n  }\n\n  ngOnDestroy(): void {\n    this.homepageService.feedSource$.next(FeedSourceEnum.NONE);\n    super.ngOnDestroy();\n  }\n\n  public onHide(article: IArticleView): void {\n    this.pageable.content.splice(\n      this.pageable.content.findIndex((item: [IArticleView, ITopicView]) => item[0].meta.id === article.meta.id),\n      1,\n    );\n  }\n}\n","<ul class=\"block-card item-space-20 no-empty\">\n    <li *ngFor=\"let item of pageable.content; let i = index\">\n        <app-feed-article-view [data]=\"item[0]\" [topic]=\"item[1]\" [options]=\"{ pictureOn: true, menuOn: true }\" (gone)=\"onHide($event)\"></app-feed-article-view>\n        <div #adElem1 (click)=\"adClicked(0)\" class=\"ad\" *ngIf=\"(ads && ads[0].content && ads[0].content[0]) && ads[0].content[adNums[0]].afterPublication - 1 === i\">\n            <ng-container [ngTemplateOutlet]=\"addContainer\" [ngTemplateOutletContext]=\"{ src: ads[0].content[adNums[0]].picture, text: ads[0].content[adNums[0]].text }\"></ng-container>\n        </div>\n        <div #adElem2 (click)=\"adClicked(1)\" class=\"ad\" *ngIf=\"(ads && ads[1].content && ads[1].content[0]) && ads[1].content[adNums[1]].afterPublication - 1 === i\">\n            <ng-container [ngTemplateOutlet]=\"addContainer\" [ngTemplateOutletContext]=\"{ src: ads[1].content[adNums[1]].picture, text: ads[1].content[adNums[1]].text }\"></ng-container>\n        </div>\n        <div #adElem3 (click)=\"adClicked(2)\" class=\"ad\" *ngIf=\"(ads && ads[2].content && ads[2].content[0]) && ads[2].content[adNums[2]].afterPublication - 1 === i\">\n            <ng-container [ngTemplateOutlet]=\"addContainer\" [ngTemplateOutletContext]=\"{ src: ads[2].content[adNums[2]].picture, text: ads[2].content[adNums[2]].text }\"></ng-container>\n        </div>\n        <app-events *ngIf=\"(i + 1) === eventsJobs.firstView.events && eventsJobs.feed.events\" [page]=\"0\" [blueClass]=\"'blue-events'\"></app-events>\n        <app-events *ngIf=\"(i + 1) === eventsJobs.secondView.events && eventsJobs.feed.events\" [page]=\"1\" [blueClass]=\"'blue-events'\"></app-events>\n        <app-events *ngIf=\"(i + 1) === eventsJobs.thirdView.events && eventsJobs.feed.events\" [page]=\"2\" [blueClass]=\"'blue-events'\"></app-events>\n        <app-jobs *ngIf=\"(i + 1) === eventsJobs.firstView.jobs && eventsJobs.feed.jobs\" [page]=\"0\"></app-jobs>\n        <app-jobs *ngIf=\"(i + 1) === eventsJobs.secondView.jobs && eventsJobs.feed.jobs\" [page]=\"1\"></app-jobs>\n        <app-jobs *ngIf=\"(i + 1) === eventsJobs.thirdView.jobs && eventsJobs.feed.jobs\" [page]=\"2\"></app-jobs>\n    </li>\n</ul>\n\n<app-pagination [pageable]=\"pageable\" [fireFirstPage]=\"true\"></app-pagination>\n\n<ng-template #addContainer let-src=\"src\" let-text=\"text\">\n    <img [src]=\"src\" alt=\"\">\n    <div class=\"ad-container\">\n        <div class=\"ad-btn\" *ngIf=\"!(responsive.lt.medium | async)\">\n            <span>{{ text }}</span>\n            <svg name=\"chevron/right\" size=\"25\" fill=\"#92929D\"></svg>\n        </div>\n    </div>\n</ng-template>\n"]}