{"version":3,"sources":["./src/app/modules/content-overview/pages/topic-list-page/filters-topics.function.ts","./src/app/modules/content-overview/pages/topic-list-page/topic-list-page-routing.module.ts","./src/app/modules/content-overview/pages/topic-list-page/topic-list-page.module.ts","./src/app/shared/functions/extract-query.function.ts","./src/app/modules/content-overview/pages/topic-list-page/topic-view/topic-view.component.ts","./src/app/modules/content-overview/pages/topic-list-page/topic-view/topic-view.component.html","./src/app/modules/content-overview/pages/topic-list-page/topic-list-page.component.ts","./src/app/modules/content-overview/pages/topic-list-page/topic-list-page.component.html","./src/app/modules/content-overview/pages/topic-list-page/ranges-topics.function.ts"],"names":[],"mappings":"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","file":"pages-topic-list-page-topic-list-page-module-es2015.js","sourcesContent":["import { TranslateService } from '@ngx-translate/core';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { ITopicQuery } from '@api/schemas/topic/topic-query.interface';\nimport { FilterEnum } from '@shared/enums/filter.enum';\nimport { TopicOrderEnum } from '@api/schemas/topic/topic-order.enum.interface';\n\nexport function filtersTopics(translateService: TranslateService): IToggleItem<FilterEnum, ITopicQuery>[] {\n    return [\n        {\n            id: 0,\n            text: translateService.instant('COMMON.MY_SUBSCRIPTIONS'),\n            query: { sub: true, order: TopicOrderEnum.LAST_POST_TIME },\n        },\n        {\n            id: 1,\n            text: translateService.instant('COMMON.RECOMMENDED'),\n            query: { order: TopicOrderEnum.RATING, 'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 7 },\n        },\n        {\n            id: 2,\n            text: translateService.instant('COMMON.RECENT'),\n            query: { order: TopicOrderEnum.LAST_POST_TIME },\n        }\n    ];\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TopicListPageComponent } from './topic-list-page.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TopicListPageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TopicListPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TopicListPageRoutingModule } from './topic-list-page-routing.module';\nimport { TopicListPageComponent } from './topic-list-page.component';\nimport { TopicViewComponent } from './topic-view/topic-view.component';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { CommonDirectivesModule } from '@shared/directives/directives.module';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { NavbarModule } from '@modules/content-overview/navbar/navbar.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FiltersModule } from '@shared/modules/filters/filters.module';\nimport { RangesModule } from '@shared/modules/ranges/ranges.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\n\n\n@NgModule({\n  declarations: [TopicListPageComponent, TopicViewComponent],\n  imports: [\n    CommonModule,\n    TopicListPageRoutingModule,\n    SharedPipesModule,\n    CommonDirectivesModule,\n    SharedUiModule,\n    NavbarModule,\n    SvgModule,\n    RouterModule,\n    TranslateModule.forChild(),\n    FiltersModule,\n    RangesModule,\n    SharedComponentsModule\n  ]\n})\nexport class TopicListPageModule { }\n","import { IToggleItem } from '@shared/interfaces/toggle-item.interface';\n\nexport function extractQuery<T, Q>(item: IToggleItem<T, Q>): Q | {} {\n    let result: Q | {};\n    if (!item || !item.query) {\n        result = {};\n    } else if (item.query instanceof Function) {\n        result = item.query();\n    } else {\n        result = item.query;\n    }\n    return result;\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ResponsiveService } from '@app/services/responsive.service';\n\n@Component({\n  selector: 'app-topic-view',\n  templateUrl: './topic-view.component.html',\n  styleUrls: ['./topic-view.component.scss']\n})\nexport class TopicViewComponent {\n  @Input() public topic: ITopicView;\n\n  @Output() public readonly subscribeEvent: EventEmitter<boolean> = new EventEmitter<boolean>();\n  @Output() public readonly gone: EventEmitter<ITopicView> = new EventEmitter<ITopicView>();\n\n  constructor(public readonly responsive: ResponsiveService) {}\n\n  public toggleSubscribe(): void {\n    this.subscribeEvent.emit(!this.topic.subscribers.you);\n  }\n}\n","<header>\n    <a class=\"title\" [routerLink]=\"['/topics', topic.info.url ? topic.info.url : topic.meta.id]\">\n        <app-ui-icon class=\"margin-right-20\" size=\"{{ (responsive.lt.medium | async) ? 'medium' : 'large' }}\" [src]=\"topic.info.picture\" [textAlternative]=\"topic.info.name\"></app-ui-icon>\n        <span>{{ topic.info.name | trunk:22 }}</span>\n    </a>\n\n    <aside>\n        <div *ngIf=\"!topic.subscribers.you\" class=\"button-1 margin-right-10 btn\" (click)=\"toggleSubscribe()\">\n            <span *ngIf=\"!(responsive.lt.medium | async)\" class=\"margin-right-10\">{{ 'COMMON.SUBSCRIBE' | translate}}</span>\n            <svg name=\"plus\" size=\"18\"></svg>\n        </div>\n        <div *ngIf=\"topic.subscribers.you\" class=\"button-1 margin-right-10 btn only-icon-click\">\n            <span *ngIf=\"!(responsive.lt.medium | async)\" class=\"margin-right-10\" style=\"color: #92929D;\">{{ 'COMMON.YOU_ARE_ALREADY' | translate }}</span>\n            <svg name=\"tick\" size=\"18\" (click)=\"toggleSubscribe()\"></svg>\n        </div>\n        <app-action-menu-topic *appLoggedIn [data]=\"topic\" (gone)=\"gone.next($event)\"></app-action-menu-topic>\n    </aside>\n</header>\n\n<p class=\"description\">{{ topic.info.description }}</p>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subject, BehaviorSubject } from 'rxjs';\nimport { filtersTopics } from './filters-topics.function';\nimport { rangesTopics } from './ranges-topics.function';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { ITopicQuery } from '@api/schemas/topic/topic-query.interface';\nimport { FilterEnum } from '@shared/enums/filter.enum';\nimport { RangeEnum } from '@shared/enums/range.enum';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { SessionService } from '@app/services/session.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { debounce, filter, takeUntil } from 'rxjs/operators';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { extractQuery } from '@shared/functions/extract-query.function';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\n\n@Component({\n  selector: 'app-topic-list-page',\n  templateUrl: './topic-list-page.component.html',\n  styleUrls: ['./topic-list-page.component.scss']\n})\nexport class TopicListPageComponent extends AbstractComponent implements OnInit, OnDestroy {\n  private readonly onRangeOrFilter$: Subject<number> = new Subject<number>();\n\n  private query: string;\n\n  public readonly filters: IToggleItem<FilterEnum, ITopicQuery>[] = filtersTopics(this.translateService);\n  public readonly ranges: IToggleItem<RangeEnum, ITopicQuery>[] = rangesTopics(this.translateService);\n  public readonly loggedIn$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  public readonly isLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  public activeFilter: number = null;\n  public activeRange: number = null;\n  public topics: ITopicView[] = [];\n  public selectedFilter: IToggleItem;\n  public selectedRange: IToggleItem = this.ranges[7];\n  public itm: string;\n\n  public currentPage = -1;\n  public totalPages = 1;\n  public isLoading = false;\n\n  constructor(\n    private readonly topicsService: TopicsService,\n    private readonly sessionService: SessionService,\n    private readonly userDropdownService: UserDropdownService,\n    private readonly translateService: TranslateService,\n    private readonly sidebarWrapperService: SidebarWrapperService,\n    public readonly responsive: ResponsiveService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: true, navigation: true, live: false, showSidebar: true });\n    });\n\n    this.subscribeToLoggedIn();\n    this.onRangeOrFilter$\n      .pipe(\n        debounce(() => this.isLoading$.pipe(\n          filter((_: boolean) => !_))),\n        takeUntil(this.ngOnDestroy$))\n      .subscribe(() => this.reset());\n    this.isLoading$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: boolean) => this.isLoading = _);\n    this.responsive.lt.medium.pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: boolean) => _\n      ? this.itm = this.translateService.instant('COMMON.TOPICS')\n      : this.itm = this.translateService.instant('COMMON.MAIN_TOPICS')\n    );\n  }\n\n  private subscribeToLoggedIn(): void {\n    this.sessionService.loggedIn$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((loggedIn: boolean) => {\n      this.loggedIn$.next(loggedIn);\n    });\n  }\n\n  public fetchNextPage(): void {\n    if (!this.isLoading && this.currentPage < this.totalPages - 1) {\n      this.isLoading$.next(true);\n      this.currentPage += 1;\n      this.topicsService.get$(this.currentPage, {\n        query: this.query || undefined,\n        ...extractQuery(this.selectedRange),\n        ...extractQuery(this.selectedFilter),\n      }).pipe(takeUntil(this.ngOnDestroy$)).subscribe((response: IPageResponse<ITopicView>) => {\n        this.topics.push(...response.content);\n        this.currentPage = response.page;\n        this.totalPages = response.totalPages;\n        this.isLoading$.next(false);\n      });\n    }\n  }\n\n  public reset(): void {\n    this.currentPage = -1;\n    this.totalPages = 1;\n    this.topics = [];\n    this.fetchNextPage();\n  }\n\n  public handleSearch(query: string): void {\n    this.query = query;\n    if (!this.isLoading) {\n      this.reset();\n    }\n  }\n\n  public handleSubscribe(item: ITopicView): void {\n    if (this.loggedIn$.value) {\n      item.subscribers.you = !item.subscribers.you;\n      this.topicsService.subscribe$(item.meta.id, !item.subscribers.you).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public filterEvent(filterEvent: IToggleItem): void {\n    this.selectedFilter = filterEvent;\n    this.activeFilter = filterEvent?.id;\n    this.selectedRange = null;\n    this.activeRange = null;\n    this.onRangeOrFilter$.next(0);\n  }\n\n  public rangeEvent(range: IToggleItem): void {\n    this.selectedRange = range;\n    this.activeRange = range?.id;\n    this.selectedFilter = null;\n    this.activeFilter = null;\n    this.onRangeOrFilter$.next(0);\n  }\n\n  public removeFromArray(topicInput: ITopicView): void {\n    this.topics = this.topics.filter((topic: ITopicView) => topic.meta.id !== topicInput.meta.id);\n  }\n}\n","<app-navbar [activeItem]=\"itm\" [searchPlaceholder]=\"'COMMON.SEARCH_BY_TOPIC' | translate\" (search)=\"handleSearch($event)\"></app-navbar>\n<app-filters [filters]=\"filters\" [activeFilter]=\"activeFilter\" (toggleFilter)=\"filterEvent($event)\"></app-filters>\n<app-ranges [ranges]=\"ranges\" [activeRange]=\"activeRange\" (toggleRange)=\"rangeEvent($event)\"></app-ranges>\n\n<ul class=\"block-card item-space-40\">\n    <li *ngFor=\"let topic of topics\">\n        <app-topic-view [topic]=\"topic\" (subscribeEvent)=\"handleSubscribe(topic)\" (gone)=\"removeFromArray($event)\"></app-topic-view>\n    </li>\n</ul>\n\n<app-pagination [page]=\"currentPage\" [maxPages]=\"totalPages\" [enabled]=\"!isLoading\" (onPage)=\"fetchNextPage()\"></app-pagination>\n","import { TranslateService } from '@ngx-translate/core';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { RangeEnum } from '@shared/enums/range.enum';\nimport { ITopicQuery } from '@api/schemas/topic/topic-query.interface';\nimport { TopicOrderEnum } from '@api/schemas/topic/topic-order.enum.interface';\nimport { LocaleEnum } from '@api/schemas/locale/locale.enum';\n\nexport function rangesTopics(translateService: TranslateService): IToggleItem<RangeEnum, ITopicQuery>[] {\n    return [\n        {\n            id: 10,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_DAY'),\n            query: () => ({\n                order: TopicOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24,\n            }),\n        },\n        {\n            id: 6,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_3_DAYS'),\n            query: () => ({\n                order: TopicOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 3,\n            }),\n        },\n        {\n            id: 7,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_WEEK'),\n            query: () => ({\n                order: TopicOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 7,\n            }),\n        },\n        {\n            id: 8,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_MONTH'),\n            query: () => ({\n                order: TopicOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 30,\n            }),\n        },\n        {\n            id: 9,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_YEAR'),\n            query: () => ({\n                order: TopicOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 30 * 12,\n            }),\n        },\n        {\n            id: 0,\n            text: translateService.instant('COMMON.SORT_BY_NUMBER_OF_SUNSCRIBERS'),\n            query: { order: TopicOrderEnum.SUB_COUNT },\n        },\n        {\n            id: 1,\n            text: translateService.instant('COMMON.SORT_BY_NUMBER_OF_PUBLICATIONS'),\n            query: { order: TopicOrderEnum.POST_COUNT },\n        },\n        {\n            id: 2,\n            text: translateService.instant('COMMON.FROM_A_TO_Z_'),\n            query: { order: TopicOrderEnum.NAME, locale: LocaleEnum.RUSSIAN, asc: true },\n        },\n        {\n            id: 3,\n            text: translateService.instant('COMMON.FROM_Z_TO_A_'),\n            query: { order: TopicOrderEnum.NAME, locale: LocaleEnum.RUSSIAN },\n        },\n        {\n            id: 4,\n            text: translateService.instant('COMMON.FROM_A_TO_Z'),\n            query: { order: TopicOrderEnum.NAME, locale: LocaleEnum.ENGLISH, asc: true },\n        },\n        {\n            id: 5,\n            text: translateService.instant('COMMON.FROM_Z_TO_A'),\n            query: { order: TopicOrderEnum.NAME, locale: LocaleEnum.ENGLISH },\n        }\n    ];\n}\n"],"sourceRoot":"webpack:///"}