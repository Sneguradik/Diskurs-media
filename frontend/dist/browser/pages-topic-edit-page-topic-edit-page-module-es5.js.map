{"version":3,"sources":["webpack:///src/app/modules/topics/pages/topic-edit-page/topic-edit-page.module.ts","webpack:///src/app/modules/topics/pages/topic-edit-page/topic-edit-page-routing.module.ts","webpack:///src/app/modules/topics/pages/topic-edit-page/topic-edit-page.component.ts","webpack:///src/app/modules/topics/pages/topic-edit-page/topic-edit-page.component.html"],"names":["TopicEditPageModule","forChild","declarations","imports","routes","path","component","TopicEditPageRoutingModule","exports","TopicEditPageComponent","router","topicsService","activatedRoute","fb","permissionService","sidebarWrapperService","topic","id","form","coverRemove","photoRemove","ngOnInit","setTimeout","params$","next","article","trending","navigation","live","showSidebar","returnOrInit","createForm$","topicViewFull","pipe","photoAlt","info","name","photoSrc","picture","coverSrc","profile","cover","group","control","description","photo","fullDescription","pathId","snapshot","params","hasAnyRole$","roles","EDITOR$","_","navigateByUrl","getOne$","meta","ngOnDestroy$","subscribe","onCoverChange","files","reader","FileReader","readAsDataURL","onload","e","target","result","onPhotoChange","onPhotoRemove","onCoverRemove","onCancel","onSubmit","observables","update$","get","value","push","updateAvatar$","updateCover$","selector","templateUrl","styleUrls"],"mappings":"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","file":"pages-topic-edit-page-topic-edit-page-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TopicEditPageRoutingModule } from './topic-edit-page-routing.module';\nimport { TopicEditPageComponent } from './topic-edit-page.component';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { AutosizeModule } from 'ngx-autosize';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [TopicEditPageComponent],\n  imports: [\n    CommonModule,\n    TopicEditPageRoutingModule,\n    SharedUiModule,\n    SharedComponentsModule,\n    SvgModule,\n    TranslateModule.forChild(),\n    AutosizeModule,\n    ReactiveFormsModule\n  ]\n})\nexport class TopicEditPageModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TopicEditPageComponent } from './topic-edit-page.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TopicEditPageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TopicEditPageRoutingModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ITopicViewFull } from '@api/schemas/topic/topic-view-full.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { Observable, of, forkJoin } from 'rxjs';\nimport { map, takeUntil, tap, switchMap } from 'rxjs/operators';\nimport { PermissionService } from '@app/services/permission/permission.service';\n\n@Component({\n  selector: 'app-topic-edit-page',\n  templateUrl: './topic-edit-page.component.html',\n  styleUrls: ['./topic-edit-page.component.scss']\n})\nexport class TopicEditPageComponent extends AbstractComponent implements OnInit, OnDestroy {\n  private topic: ITopicViewFull = null;\n  private id = -1;\n  private pathId: number | string;\n\n  public form: FormGroup = null;\n  public cover: File;\n  public coverRemove = false;\n  public coverSrc: string | ArrayBuffer;\n  public photo: File;\n  public photoRemove = false;\n  public photoSrc: string | ArrayBuffer;\n  public photoAlt: string;\n\n  constructor(\n    private readonly router: Router,\n    private readonly topicsService: TopicsService,\n    private readonly activatedRoute: ActivatedRoute,\n    private readonly fb: FormBuilder,\n    private readonly permissionService: PermissionService,\n    private readonly sidebarWrapperService: SidebarWrapperService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: true, navigation: true, live: false, showSidebar: true });\n    });\n\n    this.returnOrInit();\n  }\n\n  private createForm$(topicViewFull: ITopicViewFull): Observable<FormGroup> {\n    return of(topicViewFull).pipe(\n      map((topic: ITopicViewFull) => {\n        this.photoAlt = topic.info.name;\n        this.photoSrc = topic.info.picture;\n        this.coverSrc = topic.profile.cover;\n\n        const group: FormGroup = this.fb.group({\n          info: this.fb.group({\n            name: this.fb.control(topic.info.name),\n            description: this.fb.control(topic.info.description || ''),\n            photo: this.fb.control(topic.info.picture || ''),\n          }),\n\n          profile: this.fb.group({\n            cover: this.fb.control(topic.profile.cover || ''),\n            fullDescription: this.fb.control(topic.profile.fullDescription),\n          }),\n        });\n\n        return group;\n      }),\n    );\n  }\n\n  private returnOrInit(): void {\n    this.pathId = this.activatedRoute.snapshot.params['id'];\n    this.permissionService.hasAnyRole$(this.permissionService.roles.EDITOR$).pipe(\n      tap((_: boolean) => {\n        if (!_) {\n          this.router.navigateByUrl(`topics/${this.pathId}`);\n        }\n      }),\n      switchMap((_: boolean) => this.topicsService.getOne$(this.pathId)),\n      switchMap((_: ITopicViewFull) => {\n        this.topic = _;\n        this.id = _.meta.id;\n        return this.createForm$(this.topic);\n      }),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe((_: any) => {\n      this.form = _;\n    });\n  }\n\n  public onCoverChange(files: FileList): void {\n    this.cover = files[0];\n    this.coverRemove = false;\n    const reader: FileReader = new FileReader();\n\n    reader.readAsDataURL(files[0]);\n    reader.onload = (e: any) => {\n      this.coverSrc = e.target.result;\n    };\n  }\n\n  public onPhotoChange(files: FileList): void {\n    this.photo = files[0];\n    this.photoRemove = false;\n    const reader: FileReader = new FileReader();\n\n    reader.readAsDataURL(files[0]);\n    reader.onload = (e: any) => {\n      this.photoSrc = e.target.result;\n    };\n  }\n\n  public onPhotoRemove(): void {\n    this.photo = null;\n    this.photoSrc = null;\n    this.photoRemove = true;\n  }\n\n  public onCoverRemove(): void {\n    this.cover = null;\n    this.coverSrc = null;\n    this.coverRemove = true;\n  }\n\n  public onCancel(): void {\n    this.router.navigateByUrl(`topics/${this.id}`);\n  }\n\n  public onSubmit(): void {\n    const observables: Observable<any>[] = [\n      this.topicsService.update$(this.id, {\n        name: this.form.get('info.name').value,\n        description: this.form.get('info.description').value,\n        fullDescription: this.form.get('profile.fullDescription').value,\n      }),\n    ];\n\n    if (this.photo || this.photoRemove) {\n      observables.push(this.topicsService.updateAvatar$(this.id, this.photo));\n    }\n\n    if (this.cover || this.coverRemove) {\n      observables.push(this.topicsService.updateCover$(this.id, this.cover));\n    }\n\n    forkJoin(observables).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.router.navigateByUrl(`topics/${this.id}`);\n    });\n  }\n}\n","<app-ui-card>\n    <form *ngIf=\"form\" [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n        <header class=\"v-center margin-bottom-30 mobile-small\">\n            <span class=\"button-1 fade-5 top-small\" (click)=\"onCancel()\">{{ 'COMMON.UNDO' | translate }}</span>\n            <h6>{{ 'COMMON.EDIT_TOPIC' | translate }}</h6>\n            <div class=\"v-center top-small\">\n                <button type=\"submit\" class=\"v-center space-between align-right clickable\">\n                    <span class=\"button-1\">{{ 'COMMON.SAVE' | translate }}</span>\n                    <svg name=\"checkbox\" class=\"f-white\"></svg>\n                </button>\n            </div>\n        </header>\n  \n        <hr class=\"gray margin-bottom-30\"/>\n  \n        <div class=\"form-section\" formGroupName=\"info\">\n            <app-ui-form-control>\n                <app-ui-label><h2 style=\"margin-bottom: 0 !important;\">{{ 'COMMON.TOPIC' | translate }}</h2></app-ui-label>\n                <span class=\"caption c-caption\">{{ 'COMMON.MAXIMUM_ALLOWED_26' | translate }}</span>\n                <input class=\"ui-input-h1\" uiInput appearance=\"form\" maxlength=\"26\" placeholder=\"Напишите что-нибудь...\" formControlName=\"name\" />\n            </app-ui-form-control>\n            <h2>{{ 'COMMON.TOPIC_DESCRIPTION' | translate }}<span style=\"font-size: 14px; line-height: 16px; color: rgba(0, 183, 255); float: right; font-weight: normal;\" [ngStyle]=\"{'color': form.get('info').get('description').value.length > 300 ? 'rgb(255, 91, 54)' : 'rgba(0, 183, 255)'}\">{{ (300 - form.get('info').get('description').value.length) + '/300' }}</span></h2>\n            <textarea class=\"form-textarea\" autosize [minRows]=\"1\" formControlName=\"description\" placeholder=\"Напишите что-нибудь...\"></textarea>\n        </div>\n  \n        <div class=\"form-section\" formGroupName=\"profile\">\n            <h2>{{ 'COMMON.TOPIC_IMAGE' | translate }}</h2>\n            <img *ngIf=\"coverSrc\" class=\"pre-img\" src=\"{{ coverSrc }}\" />\n            <app-file-upload [id]=\"'cover'\" (onChange)=\"onCoverChange($event)\"></app-file-upload>\n            <p class=\"caption c-caption\">{{ 'COMMON.RECOMMENDED_IMAGE_SIZE_' | translate }}</p>\n            <span *ngIf=\"coverSrc\" class=\"sub-button btn margin-bottom-20\" (click)=\"onCoverRemove()\">{{ 'COMMON.REMOVE_THE_PHOTO' | translate }}</span>\n        </div>\n  \n  \n        <div class=\"form-section\" formGroupName=\"info\">\n            <h2>{{ 'COMMON.TOPICS_ICON' | translate }}</h2>\n            <div class=\"photo-container\">\n                <app-ui-icon [src]=\"photoSrc\" [size]=\"'xlarge'\" [textAlternative]=\"photoAlt\"></app-ui-icon>\n                <div class=\"photo-actions\">\n                    <app-file-upload [id]=\"'photo'\" (onChange)=\"onPhotoChange($event)\"></app-file-upload>\n                    <p class=\"file-upload-hint\">{{ 'COMMON.RECOMMENDED_IMAGE_SIZE__' | translate }} JPG, 250 x 250 px</p>\n                    <span *ngIf=\"photoSrc\" class=\"sub-button btn margin-bottom-20\" (click)=\"onPhotoRemove()\">{{ 'COMMON.REMOVE_THE_PHOTO' | translate }}</span>\n                </div>\n            </div>\n        </div>\n  \n        <div class=\"form-section\" formGroupName=\"profile\">\n            <h2>{{ 'COMMON.FULL_DESCRIPTION' | translate }}</h2>\n            <textarea class=\"form-textarea\" autosize [minRows]=\"1\" formControlName=\"fullDescription\" placeholder=\"Напишите что-нибудь...\"></textarea>\n        </div>\n  \n        <footer class=\"v-center space-between\">\n            <span class=\"button-1 fade-5\" (click)=\"onCancel()\">{{ 'COMMON.UNDO' | translate }}</span>\n            <button type=\"submit\" class=\"v-center space-between align-right clickable\">\n                <span class=\"button-1\">{{ 'COMMON.SAVE' | translate }}</span>\n                <svg name=\"checkbox\" class=\"f-white\"></svg>\n            </button>\n        </footer>\n    </form>\n</app-ui-card>\n"]}