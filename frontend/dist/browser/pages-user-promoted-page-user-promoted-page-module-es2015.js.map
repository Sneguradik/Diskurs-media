{"version":3,"sources":["./src/app/modules/user/pages/user-promoted-page/user-promoted-page.module.ts","./src/app/shared/functions/fetch-articles-with-topics.function.ts","./src/app/modules/user/pages/user-promoted-page/user-promoted-page-routing.module.ts","./src/app/modules/user/pages/user-promoted-page/promoted-view-item-type.enum.ts","./src/app/modules/user/pages/user-promoted-page/user-promoted-page.component.ts","./src/app/modules/user/pages/user-promoted-page/user-promoted-page.component.html"],"names":[],"mappings":"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","file":"pages-user-promoted-page-user-promoted-page-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UserPromotedPageRoutingModule } from './user-promoted-page-routing.module';\nimport { UserPromotedPageComponent } from './user-promoted-page.component';\nimport { RangesModule } from '@shared/modules/ranges/ranges.module';\nimport { UserHeaderModule } from '@modules/user/user-header/user-header.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { FeedModule } from '@shared/modules/feed/feed.module';\nimport { EventPreviewModule } from '@modules/events/event-preview/event-preview.module';\nimport { JobPreviewModule } from '@modules/jobs/job-preview/job-preview.module';\n\n\n@NgModule({\n  declarations: [UserPromotedPageComponent],\n  imports: [\n    CommonModule,\n    UserPromotedPageRoutingModule,\n    RangesModule,\n    UserHeaderModule,\n    SharedComponentsModule,\n    FeedModule,\n    EventPreviewModule,\n    JobPreviewModule\n  ]\n})\nexport class UserPromotedPageModule { }\n","import { Observable, of } from 'rxjs';\nimport { IArticleView } from '@api/schemas/article/article-view.interface';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ITopicViewFull } from '@api/schemas/topic/topic-view-full.interface';\nimport { map, defaultIfEmpty } from 'rxjs/operators';\nimport { TopicsService } from '@api/routes/topics.service';\n\nexport function fetchArticlesWithTopics$(\n  page: IPageResponse<IArticleView>,\n  topicsService: TopicsService\n): Observable<IPageResponse<[IArticleView, ITopicView]>> {\n    const topics: number[] = [];\n    page.content.forEach((article: IArticleView) => {\n        if (article.topics.length > 0) {\n            topics.push(article.topics[0]);\n        }\n    });\n    return page.content.length > 0 ? topicsService.getMultiple$(topics).pipe(defaultIfEmpty([]), map((topicsRet: ITopicViewFull[]) => {\n        const content: [IArticleView, ITopicView][] = [];\n        page.content.forEach((article: IArticleView) => {\n            if (article.topics.length > 0) {\n                content.push([article, topicsRet.find((x: ITopicViewFull) => x.meta.id === article.topics[0]) as ITopicView]);\n            } else {\n                content.push([article, null]);\n            }\n        });\n        return { ...page, content };\n    })) : of({ ...page, content: [] });\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { UserPromotedPageComponent } from './user-promoted-page.component';\nimport { UsersResolverService } from '@shared/services/users-resolver.service';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserPromotedPageComponent,\n    data: {\n      query: {\n        bookmark: true,\n      },\n    },\n    resolve: { data: UsersResolverService }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UserPromotedPageRoutingModule { }\n","export enum PromotedViewItemTypeEnum {\n    EVENT = 'EVENT',\n    JOB = 'JOB',\n    ARTICLE = 'ARTICLE'\n}\n","import { Component, OnInit, OnDestroy, HostListener } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { SessionService } from '@app/services/session.service';\nimport { FeedService } from '@api/routes/feed.service';\nimport { UsersService } from '@api/routes/users.service';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { IArticleView } from '@api/schemas/article/article-view.interface';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { EventsService } from '@api/routes/events.service';\nimport { JobsService } from '@api/routes/jobs.service';\nimport { IJobView } from '@api/schemas/job/job-view.interface';\nimport { IEventView } from '@api/schemas/event/event-view.interface';\nimport { Observable, combineLatest, of } from 'rxjs';\nimport { idMap } from '@shared/utils/id-map.operator';\nimport { switchMap, map, takeUntil, tap } from 'rxjs/operators';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { fetchArticlesWithTopics$ } from '@shared/functions/fetch-articles-with-topics.function';\nimport { IPromotedItems } from './promoted-item.interface';\nimport { PromotedViewItemTypeEnum } from './promoted-view-item-type.enum';\nimport { IPromotedViewItem } from './promoted-view-item.interface';\nimport { IUserPostListRouteData } from './user-post-list-route-data.interface';\n\n\n@Component({\n  selector: 'app-user-promoted-page',\n  templateUrl: './user-promoted-page.component.html',\n  styleUrls: ['./user-promoted-page.component.scss']\n})\nexport class UserPromotedPageComponent extends AbstractComponent implements OnInit, OnDestroy {\n  public readonly promotedViewItemTypeEnum: typeof PromotedViewItemTypeEnum = PromotedViewItemTypeEnum;\n\n  public pinned: [IArticleView, ITopicView] = null;\n  public items: IPromotedViewItem[] = [];\n  public options: [IUserPostListRouteData, IUserViewFull, number];\n  public data: IPromotedItems = {\n    articles: null,\n    events: null,\n    jobs: null\n  };\n  public page = 0;\n  public id: number;\n  public isFetching = false;\n  public isMe: boolean;\n\n  constructor(\n    private readonly activatedRoute: ActivatedRoute,\n    private readonly sessionService: SessionService,\n    private readonly feedService: FeedService,\n    private readonly usersService: UsersService,\n    private readonly topicsService: TopicsService,\n    private readonly sidebarWrapperService: SidebarWrapperService,\n    private readonly eventsService: EventsService,\n    private readonly jobsService: JobsService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({\n        article: false,\n        trending: true,\n        navigation: true,\n        live: false,\n        showSidebar: true\n      });\n    });\n\n    const id$: Observable<number> = this.activatedRoute.paramMap.pipe(\n      idMap(),\n      switchMap((id: string | number) => this.usersService.getSingle$(id)),\n      map((user: IUserViewFull) => user.meta.id),\n      tap((id: number) => this.id = id),\n      takeUntil(this.ngOnDestroy$),\n    );\n\n    combineLatest([id$, this.sessionService.userId$]).pipe(\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe(([currentId, sessionId]: [number, number]) => {\n      this.isMe = currentId === sessionId;\n    });\n\n    combineLatest([this.activatedRoute.data as Observable<IUserPostListRouteData>, this.sessionService.user$, id$]).pipe(\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe((options: [IUserPostListRouteData, IUserViewFull, number]) => {\n      this.items = [];\n      this.options = options;\n      this.options[0].query.bookmarked = this.options[2];\n      this.fetchContent();\n    });\n  }\n\n  @HostListener('window:scroll', []) public onScroll(): void {\n    if (window.innerHeight + window.scrollY + 20 >= document.body.offsetHeight) {\n      this.fetchContent();\n    }\n  }\n\n  private fetchContent(): void {\n    if (!this.isFetching) {\n      this.isFetching = true;\n      const fetch: any[] = [];\n      if (this.page === 0 || this.data?.articles?.totalPages > this.page) {\n        fetch.push(this.feedService.feedRequest$({ ...this.options[0].query, page: this.page }).pipe(\n          switchMap((res: IPageResponse<IArticleView>) => fetchArticlesWithTopics$(res, this.topicsService))\n        ));\n      } else {\n        fetch.push(of(null));\n      }\n      if (this.page === 0 || this.data?.events?.totalPages > this.page) {\n        fetch.push(this.eventsService.getBookmarked$(this.id, this.page));\n      } else {\n        fetch.push(of(null));\n      }\n      if (this.page === 0 || this.data?.jobs?.totalPages > this.page) {\n        fetch.push(this.jobsService.getBookmarked$(this.id, this.page));\n      } else {\n        fetch.push(of(null));\n      }\n      combineLatest(fetch).pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe(([articles, events, jobs]: [\n          IPageResponse<[IArticleView, ITopicView]>,\n          IPageResponse<IEventView>,\n          IPageResponse<IJobView>\n        ]) => {\n          if (articles) {\n            this.assignPageable('articles', articles);\n          }\n          if (events) {\n            this.assignPageable('events', events);\n          }\n          if (jobs) {\n            this.assignPageable('jobs', jobs);\n          }\n          if (jobs || events || articles) {\n            this.updateItems();\n          }\n          this.page++;\n          this.isFetching = false;\n      });\n    }\n  }\n\n  private sortItems(items: IPromotedViewItem[]): IPromotedViewItem[] {\n    // tslint:disable:max-line-length\n    return items.sort((a: IPromotedViewItem, b: IPromotedViewItem) => {\n      if ((a.type === PromotedViewItemTypeEnum.ARTICLE ? a.item[0].status.publishedAt : (a.item as IJobView | IEventView).info.publishedAt)\n        < (b.type === PromotedViewItemTypeEnum.ARTICLE ? b.item[0].status.publishedAt : (b.item as IJobView | IEventView).info.publishedAt)) { return 1; }\n      if ((a.type === PromotedViewItemTypeEnum.ARTICLE ? a.item[0].status.publishedAt : (a.item as IJobView | IEventView).info.publishedAt)\n        > (b.type === PromotedViewItemTypeEnum.ARTICLE ? b.item[0].status.publishedAt : (b.item as IJobView | IEventView).info.publishedAt)) { return -1; }\n      return 0;\n    });\n    // tslint:enable:max-line-length\n  }\n\n  private assignPageable(key: string, data: IPageResponse<any>): void {\n    if (this.data[key]) {\n      this.data[key].content.push(...data.content);\n      this.data[key].page = data.page;\n      this.data[key].total = data.total;\n      this.data[key].totalPages = data.totalPages;\n    } else {\n      this.data[key] = data;\n    }\n  }\n\n  public updateItems(): void {\n    let items: IPromotedViewItem[] = [];\n    if (this.data.articles.content[0] && this.data.articles.content[0][0].pinned) {\n      this.pinned = this.data.articles.content[0];\n      this.data.articles.content.splice(this.data.articles.content.indexOf(this.data.articles.content[0]), 1);\n    }\n    this.data.articles.content.forEach((element: [IArticleView, ITopicView]) => {\n      items.push({ item: element, type: PromotedViewItemTypeEnum.ARTICLE });\n    });\n    this.data.events.content.forEach((element: IEventView) => {\n      items.push({ item: element, type: PromotedViewItemTypeEnum.EVENT });\n    });\n    this.data.jobs.content.forEach((element: IJobView) => {\n      items.push({ item: element, type: PromotedViewItemTypeEnum.JOB });\n    });\n    items = this.sortItems(items);\n    this.items = items;\n  }\n\n  public remove(item: any, type: string): void {\n    this.data[type].content.splice(this.data[type].content.indexOf(item), 1);\n    this.updateItems();\n  }\n\n  public removeBookmarked(item: IArticleView | IEventView | IJobView, type: 'article' | 'job' | 'event'): void {\n    if  (this.isMe) {\n      if  (type === 'article') {\n        this.items.splice(this.items.findIndex(\n          (itemIter: IPromotedViewItem) => itemIter.type === PromotedViewItemTypeEnum.ARTICLE && itemIter.item[0].meta.id === item.meta.id\n        ), 1);\n      }\n      if  (type === 'job') {\n        this.items.splice(this.items.findIndex(\n          (itemIter: IPromotedViewItem) => itemIter.type === PromotedViewItemTypeEnum.JOB && (itemIter.item as any).meta.id === item.meta.id\n        ), 1);\n      }\n      if  (type === 'event') {\n        this.items.splice(this.items.findIndex(\n          (itemIter: IPromotedViewItem) => itemIter.type === PromotedViewItemTypeEnum.EVENT\n            && (itemIter.item as any).meta.id === item.meta.id\n        ), 1);\n      }\n    }\n  }\n}\n","<app-user-header></app-user-header>\n\n<ul *ngIf=\"pinned\" class=\"block-card item-space-20\">\n    <li>\n        <app-feed-article-view [options]=\"{ pinnedMark: true, pictureOn: true, menuOn: true }\" \n                               [data]=\"pinned[0]\" \n                               [topic]=\"pinned[1]\" \n                               (pinned)=\"pinned[0].pinned = false; data.articles.content.push(pinned); updateItems(); pinned=$event;\">\n        </app-feed-article-view>\n    </li>\n</ul>\n<div style=\"margin-bottom: 50px;\"></div>\n\n<ul class=\"block-card item-space-20\">\n    <li *ngFor=\"let item of items; let i = index\" [ngSwitch]=\"item.type\">\n        <app-feed-article-view *ngSwitchCase=\"promotedViewItemTypeEnum.ARTICLE\"\n                               [data]=\"item.item[0]\"\n                               [topic]=\"item.item[1]\"\n                               [options]=\"{ pictureOn: true, menuOn: true }\"\n                               (pinned)=\"pinned=$event; remove(item.item, 'articles'); pinned[0].pinned = true;\"\n                               (goneBookmarked)=\"removeBookmarked($event[0], $event[1])\"\n                               (gone)=\"remove(item.item, 'articles')\">\n        </app-feed-article-view>\n        <app-event-preview *ngSwitchCase=\"promotedViewItemTypeEnum.EVENT\"\n                           [event]=\"item.item\"\n                           (goneBookmarked)=\"removeBookmarked($event[0], $event[1])\"\n                           (gone)=\"remove(item.item, 'events')\">\n        </app-event-preview>\n        <app-job-preview *ngSwitchCase=\"promotedViewItemTypeEnum.JOB\"\n                         [job]=\"item.item\"\n                         (goneBookmarked)=\"removeBookmarked($event[0], $event[1])\"\n                         (gone)=\"remove(item.item, 'jobs')\">\n        </app-job-preview>\n    </li>\n</ul>\n"],"sourceRoot":"webpack:///"}