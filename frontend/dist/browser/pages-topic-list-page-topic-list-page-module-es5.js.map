{"version":3,"sources":["webpack:///src/app/modules/content-overview/pages/topic-list-page/filters-topics.function.ts","webpack:///src/app/modules/content-overview/pages/topic-list-page/topic-list-page-routing.module.ts","webpack:///src/app/modules/content-overview/pages/topic-list-page/topic-list-page.module.ts","webpack:///src/app/shared/functions/extract-query.function.ts","webpack:///src/app/modules/content-overview/pages/topic-list-page/topic-view/topic-view.component.ts","webpack:///src/app/modules/content-overview/pages/topic-list-page/topic-view/topic-view.component.html","webpack:///src/app/modules/content-overview/pages/topic-list-page/topic-list-page.component.ts","webpack:///src/app/modules/content-overview/pages/topic-list-page/topic-list-page.component.html","webpack:///src/app/modules/content-overview/pages/topic-list-page/ranges-topics.function.ts"],"names":["filtersTopics","translateService","id","text","instant","query","sub","order","LAST_POST_TIME","RATING","Date","now","routes","path","component","TopicListPageRoutingModule","forChild","imports","exports","TopicListPageModule","declarations","extractQuery","item","result","Function","TopicViewComponent","responsive","subscribeEvent","gone","toggleSubscribe","emit","topic","subscribers","you","selector","templateUrl","styleUrls","TopicListPageComponent","topicsService","sessionService","userDropdownService","sidebarWrapperService","onRangeOrFilter$","filters","ranges","loggedIn$","isLoading$","activeFilter","activeRange","topics","selectedRange","currentPage","totalPages","isLoading","ngOnInit","setTimeout","params$","next","article","trending","navigation","live","showSidebar","subscribeToLoggedIn","pipe","_","ngOnDestroy$","subscribe","reset","lt","medium","itm","loggedIn","fetchNextPage","get$","undefined","selectedFilter","response","push","content","page","handleSearch","handleSubscribe","value","subscribe$","meta","setShowDropdown","filterEvent","rangeEvent","range","removeFromArray","topicInput","filter","rangesTopics","SUB_COUNT","POST_COUNT","NAME","locale","RUSSIAN","asc","ENGLISH"],"mappings":"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","file":"pages-topic-list-page-topic-list-page-module-es5.js","sourcesContent":["import { TranslateService } from '@ngx-translate/core';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { ITopicQuery } from '@api/schemas/topic/topic-query.interface';\nimport { FilterEnum } from '@shared/enums/filter.enum';\nimport { TopicOrderEnum } from '@api/schemas/topic/topic-order.enum.interface';\n\nexport function filtersTopics(translateService: TranslateService): IToggleItem<FilterEnum, ITopicQuery>[] {\n    return [\n        {\n            id: 0,\n            text: translateService.instant('COMMON.MY_SUBSCRIPTIONS'),\n            query: { sub: true, order: TopicOrderEnum.LAST_POST_TIME },\n        },\n        {\n            id: 1,\n            text: translateService.instant('COMMON.RECOMMENDED'),\n            query: { order: TopicOrderEnum.RATING, 'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 7 },\n        },\n        {\n            id: 2,\n            text: translateService.instant('COMMON.RECENT'),\n            query: { order: TopicOrderEnum.LAST_POST_TIME },\n        }\n    ];\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TopicListPageComponent } from './topic-list-page.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TopicListPageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TopicListPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TopicListPageRoutingModule } from './topic-list-page-routing.module';\nimport { TopicListPageComponent } from './topic-list-page.component';\nimport { TopicViewComponent } from './topic-view/topic-view.component';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { CommonDirectivesModule } from '@shared/directives/directives.module';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { NavbarModule } from '@modules/content-overview/navbar/navbar.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FiltersModule } from '@shared/modules/filters/filters.module';\nimport { RangesModule } from '@shared/modules/ranges/ranges.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\n\n\n@NgModule({\n  declarations: [TopicListPageComponent, TopicViewComponent],\n  imports: [\n    CommonModule,\n    TopicListPageRoutingModule,\n    SharedPipesModule,\n    CommonDirectivesModule,\n    SharedUiModule,\n    NavbarModule,\n    SvgModule,\n    RouterModule,\n    TranslateModule.forChild(),\n    FiltersModule,\n    RangesModule,\n    SharedComponentsModule\n  ]\n})\nexport class TopicListPageModule { }\n","import { IToggleItem } from '@shared/interfaces/toggle-item.interface';\n\nexport function extractQuery<T, Q>(item: IToggleItem<T, Q>): Q | {} {\n    let result: Q | {};\n    if (!item || !item.query) {\n        result = {};\n    } else if (item.query instanceof Function) {\n        result = item.query();\n    } else {\n        result = item.query;\n    }\n    return result;\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ResponsiveService } from '@app/services/responsive.service';\n\n@Component({\n  selector: 'app-topic-view',\n  templateUrl: './topic-view.component.html',\n  styleUrls: ['./topic-view.component.scss']\n})\nexport class TopicViewComponent {\n  @Input() public topic: ITopicView;\n\n  @Output() public readonly subscribeEvent: EventEmitter<boolean> = new EventEmitter<boolean>();\n  @Output() public readonly gone: EventEmitter<ITopicView> = new EventEmitter<ITopicView>();\n\n  constructor(public readonly responsive: ResponsiveService) {}\n\n  public toggleSubscribe(): void {\n    this.subscribeEvent.emit(!this.topic.subscribers.you);\n  }\n}\n","<header>\n    <a class=\"title\" [routerLink]=\"['/topics', topic.info.url ? topic.info.url : topic.meta.id]\">\n        <app-ui-icon class=\"margin-right-20\" size=\"{{ (responsive.lt.medium | async) ? 'medium' : 'large' }}\" [src]=\"topic.info.picture\" [textAlternative]=\"topic.info.name\"></app-ui-icon>\n        <span>{{ topic.info.name | trunk:22 }}</span>\n    </a>\n\n    <aside>\n        <div *ngIf=\"!topic.subscribers.you\" class=\"button-1 margin-right-10 btn\" (click)=\"toggleSubscribe()\">\n            <span *ngIf=\"!(responsive.lt.medium | async)\" class=\"margin-right-10\">{{ 'COMMON.SUBSCRIBE' | translate}}</span>\n            <svg name=\"plus\" size=\"18\"></svg>\n        </div>\n        <div *ngIf=\"topic.subscribers.you\" class=\"button-1 margin-right-10 btn only-icon-click\">\n            <span *ngIf=\"!(responsive.lt.medium | async)\" class=\"margin-right-10\" style=\"color: #92929D;\">{{ 'COMMON.YOU_ARE_ALREADY' | translate }}</span>\n            <svg name=\"tick\" size=\"18\" (click)=\"toggleSubscribe()\"></svg>\n        </div>\n        <app-action-menu-topic *appLoggedIn [data]=\"topic\" (gone)=\"gone.next($event)\"></app-action-menu-topic>\n    </aside>\n</header>\n\n<p class=\"description\">{{ topic.info.description }}</p>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subject, BehaviorSubject } from 'rxjs';\nimport { filtersTopics } from './filters-topics.function';\nimport { rangesTopics } from './ranges-topics.function';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { ITopicQuery } from '@api/schemas/topic/topic-query.interface';\nimport { FilterEnum } from '@shared/enums/filter.enum';\nimport { RangeEnum } from '@shared/enums/range.enum';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { SessionService } from '@app/services/session.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { debounce, filter, takeUntil } from 'rxjs/operators';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { extractQuery } from '@shared/functions/extract-query.function';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\n\n@Component({\n  selector: 'app-topic-list-page',\n  templateUrl: './topic-list-page.component.html',\n  styleUrls: ['./topic-list-page.component.scss']\n})\nexport class TopicListPageComponent extends AbstractComponent implements OnInit, OnDestroy {\n  private readonly onRangeOrFilter$: Subject<number> = new Subject<number>();\n\n  private query: string;\n\n  public readonly filters: IToggleItem<FilterEnum, ITopicQuery>[] = filtersTopics(this.translateService);\n  public readonly ranges: IToggleItem<RangeEnum, ITopicQuery>[] = rangesTopics(this.translateService);\n  public readonly loggedIn$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  public readonly isLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  public activeFilter: number = null;\n  public activeRange: number = null;\n  public topics: ITopicView[] = [];\n  public selectedFilter: IToggleItem;\n  public selectedRange: IToggleItem = this.ranges[7];\n  public itm: string;\n\n  public currentPage = -1;\n  public totalPages = 1;\n  public isLoading = false;\n\n  constructor(\n    private readonly topicsService: TopicsService,\n    private readonly sessionService: SessionService,\n    private readonly userDropdownService: UserDropdownService,\n    private readonly translateService: TranslateService,\n    private readonly sidebarWrapperService: SidebarWrapperService,\n    public readonly responsive: ResponsiveService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: true, navigation: true, live: false, showSidebar: true });\n    });\n\n    this.subscribeToLoggedIn();\n    this.onRangeOrFilter$\n      .pipe(\n        debounce(() => this.isLoading$.pipe(\n          filter((_: boolean) => !_))),\n        takeUntil(this.ngOnDestroy$))\n      .subscribe(() => this.reset());\n    this.isLoading$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: boolean) => this.isLoading = _);\n    this.responsive.lt.medium.pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: boolean) => _\n      ? this.itm = this.translateService.instant('COMMON.TOPICS')\n      : this.itm = this.translateService.instant('COMMON.MAIN_TOPICS')\n    );\n  }\n\n  private subscribeToLoggedIn(): void {\n    this.sessionService.loggedIn$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((loggedIn: boolean) => {\n      this.loggedIn$.next(loggedIn);\n    });\n  }\n\n  public fetchNextPage(): void {\n    if (!this.isLoading && this.currentPage < this.totalPages - 1) {\n      this.isLoading$.next(true);\n      this.currentPage += 1;\n      this.topicsService.get$(this.currentPage, {\n        query: this.query || undefined,\n        ...extractQuery(this.selectedRange),\n        ...extractQuery(this.selectedFilter),\n      }).pipe(takeUntil(this.ngOnDestroy$)).subscribe((response: IPageResponse<ITopicView>) => {\n        this.topics.push(...response.content);\n        this.currentPage = response.page;\n        this.totalPages = response.totalPages;\n        this.isLoading$.next(false);\n      });\n    }\n  }\n\n  public reset(): void {\n    this.currentPage = -1;\n    this.totalPages = 1;\n    this.topics = [];\n    this.fetchNextPage();\n  }\n\n  public handleSearch(query: string): void {\n    this.query = query;\n    if (!this.isLoading) {\n      this.reset();\n    }\n  }\n\n  public handleSubscribe(item: ITopicView): void {\n    if (this.loggedIn$.value) {\n      item.subscribers.you = !item.subscribers.you;\n      this.topicsService.subscribe$(item.meta.id, !item.subscribers.you).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public filterEvent(filterEvent: IToggleItem): void {\n    this.selectedFilter = filterEvent;\n    this.activeFilter = filterEvent?.id;\n    this.selectedRange = null;\n    this.activeRange = null;\n    this.onRangeOrFilter$.next(0);\n  }\n\n  public rangeEvent(range: IToggleItem): void {\n    this.selectedRange = range;\n    this.activeRange = range?.id;\n    this.selectedFilter = null;\n    this.activeFilter = null;\n    this.onRangeOrFilter$.next(0);\n  }\n\n  public removeFromArray(topicInput: ITopicView): void {\n    this.topics = this.topics.filter((topic: ITopicView) => topic.meta.id !== topicInput.meta.id);\n  }\n}\n","<app-navbar [activeItem]=\"itm\" [searchPlaceholder]=\"'COMMON.SEARCH_BY_TOPIC' | translate\" (search)=\"handleSearch($event)\"></app-navbar>\n<app-filters [filters]=\"filters\" [activeFilter]=\"activeFilter\" (toggleFilter)=\"filterEvent($event)\"></app-filters>\n<app-ranges [ranges]=\"ranges\" [activeRange]=\"activeRange\" (toggleRange)=\"rangeEvent($event)\"></app-ranges>\n\n<ul class=\"block-card item-space-40\">\n    <li *ngFor=\"let topic of topics\">\n        <app-topic-view [topic]=\"topic\" (subscribeEvent)=\"handleSubscribe(topic)\" (gone)=\"removeFromArray($event)\"></app-topic-view>\n    </li>\n</ul>\n\n<app-pagination [page]=\"currentPage\" [maxPages]=\"totalPages\" [enabled]=\"!isLoading\" (onPage)=\"fetchNextPage()\"></app-pagination>\n","import { TranslateService } from '@ngx-translate/core';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { RangeEnum } from '@shared/enums/range.enum';\nimport { ITopicQuery } from '@api/schemas/topic/topic-query.interface';\nimport { TopicOrderEnum } from '@api/schemas/topic/topic-order.enum.interface';\nimport { LocaleEnum } from '@api/schemas/locale/locale.enum';\n\nexport function rangesTopics(translateService: TranslateService): IToggleItem<RangeEnum, ITopicQuery>[] {\n    return [\n        {\n            id: 10,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_DAY'),\n            query: () => ({\n                order: TopicOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24,\n            }),\n        },\n        {\n            id: 6,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_3_DAYS'),\n            query: () => ({\n                order: TopicOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 3,\n            }),\n        },\n        {\n            id: 7,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_WEEK'),\n            query: () => ({\n                order: TopicOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 7,\n            }),\n        },\n        {\n            id: 8,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_MONTH'),\n            query: () => ({\n                order: TopicOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 30,\n            }),\n        },\n        {\n            id: 9,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_YEAR'),\n            query: () => ({\n                order: TopicOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 30 * 12,\n            }),\n        },\n        {\n            id: 0,\n            text: translateService.instant('COMMON.SORT_BY_NUMBER_OF_SUNSCRIBERS'),\n            query: { order: TopicOrderEnum.SUB_COUNT },\n        },\n        {\n            id: 1,\n            text: translateService.instant('COMMON.SORT_BY_NUMBER_OF_PUBLICATIONS'),\n            query: { order: TopicOrderEnum.POST_COUNT },\n        },\n        {\n            id: 2,\n            text: translateService.instant('COMMON.FROM_A_TO_Z_'),\n            query: { order: TopicOrderEnum.NAME, locale: LocaleEnum.RUSSIAN, asc: true },\n        },\n        {\n            id: 3,\n            text: translateService.instant('COMMON.FROM_Z_TO_A_'),\n            query: { order: TopicOrderEnum.NAME, locale: LocaleEnum.RUSSIAN },\n        },\n        {\n            id: 4,\n            text: translateService.instant('COMMON.FROM_A_TO_Z'),\n            query: { order: TopicOrderEnum.NAME, locale: LocaleEnum.ENGLISH, asc: true },\n        },\n        {\n            id: 5,\n            text: translateService.instant('COMMON.FROM_Z_TO_A'),\n            query: { order: TopicOrderEnum.NAME, locale: LocaleEnum.ENGLISH },\n        }\n    ];\n}\n"]}