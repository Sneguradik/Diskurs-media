{"version":3,"sources":["webpack:///src/app/modules/events/event-page/event-page-unwrap.component.ts","webpack:///node_modules/angular8-yandex-maps/__ivy_ngcc__/fesm2015/angular8-yandex-maps.js","webpack:///src/app/shared/services/events-resolver.service.ts","webpack:///src/app/shared/modules/user-info/user-info.component.ts","webpack:///src/app/shared/modules/user-info/user-info.component.html","webpack:///src/app/shared/utils/not-found.operator.ts","webpack:///src/app/modules/events/event-page/event-page.component.ts","webpack:///src/app/modules/events/event-page/event-page.component.html","webpack:///src/app/modules/events/event-page/event-page-routing.module.ts","webpack:///src/app/shared/modules/user-info/user-info.module.ts","webpack:///src/app/modules/events/event-page/event-page.module.ts"],"names":["EventPageUnwrapComponent","eventsService","activatedRoute","sessionService","companyService","sidebarWrapperService","dynamicMetaTagsService","router","ngOnInit","setTimeout","params$","next","article","trending","navigation","live","showSidebar","event","snapshot","data","setPreInfo","company$","getSingle$","company","meta","id","own$","user$","pipe","user","view$","ngOnDestroy$","subscribe","ngOnDestroy","setToDefault","metaInfo$","title","info","name","tags","property","content","announcement","url","selector","template","host","style","_c0","YA_MAP_CONFIG","generateRandomId","Number","Date","toString","removeLeadingSpaces","s","trim","replace","YaGeoObjectComponent","_ngZone","load","balloon","yaclick","drag","hint","mouse","multitouch","_logErrors","ngOnChanges","changes","_updateGeoObject","geoObject","_geoObject","feature","options","_setFeature","currentValue","set","geometry","properties","console","error","createGeoObject","map","clusterer","ymaps","GeoObject","_clusterer","_map","_addEventListeners","run","emit","instance","handlers","fn","e","type","originalEvent","forEach","handler","events","add","_a","_b","remove","geoObjects","ɵfac","YaGeoObjectComponent_Factory","t","ɵcmp","selectors","inputs","outputs","features","decls","vars","YaGeoObjectComponent_Template","rf","ctx","styles","ctorParameters","propDecorators","ngDevMode","args","YaPlacemarkComponent","_updatePlacemark","placemark","_placemark","setCoordinates","createPlacemark","Placemark","YaPlacemarkComponent_Factory","YaPlacemarkComponent_Template","YaClustererComponent","mapChange","optionsChange","parentChange","_sub","_updateClusterer","createClusterer","Clusterer","placemarksSub","placemarks","list","geoObjectsSub","unsubscribe","YaClustererComponent_Factory","contentQueries","YaClustererComponent_ContentQueries","dirIndex","_t","YaClustererComponent_Template","YaControlComponent","createControl","control","parameters","state","routePanel","Object","assign","_emitEvent","_updateControl","values","some","v","firstChange","YaControlComponent_Factory","YaControlComponent_Template","DEFAULT_CONFIG","lang","ScriptService","config","_document","_config","_window","document","defaultView","initScript","ready","_script","script","createElement","src","_getScriptSource","body","appendChild","enterprise","version","rest","params","_convertIntoQueryParams","o","keys","key","join","ScriptService_Factory","ɵprov","factory","token","providedIn","undefined","decorators","Document","YaMultirouteComponent","activeroutechange","_updateMultiroute","multiroute","_multiroute","referencePoints","model","setReferencePoints","_setModel","setParams","createMultiroute","multiRouter","MultiRoute","YaMultirouteComponent_Factory","YaMultirouteComponent_Template","YaMapComponent","_scriptService","zoom","action","_initScript","_updateMap","center","setCenter","setZoom","_setState","behaviors","bounds","controls","margin","enable","setBounds","c","setDefaultMargin","setType","onlyInstance","sub","_createMap","_addGeoObjects","_addControls","containerElem","mapContainer","nativeElement","setAttribute","cssText","Map","p","multiroutesSub","multiroutes","m","g","clusterers","runOutsideAngular","YaMapComponent_Factory","YaMapComponent_ContentQueries","viewQuery","YaMapComponent_Query","first","consts","YaMapComponent_Template","YaPanoramaComponent","direction","fullscreen","marker","_updatePanorama","player","_player","point","layer","moveTo","_createPanorama","panoramaContainer","panorama","locate","then","Player","addEventListeners","YaPanoramaComponent_Factory","YaPanoramaComponent_Query","YaPanoramaComponent_Template","AngularYandexMapsModule","forRoot","ngModule","providers","provide","useValue","AngularYandexMapsModule_Factory","ɵmod","ɵinj","imports","declarations","exports","ngJitMode","EventsResolverService","resolve","route","UserInfoComponent","templateUrl","styleUrls","changeDetection","OnPush","notFound","status","navigateByUrl","EventPageComponent","changeDetectorRef","translateService","userDropdown","publicationStageEnum","pipeLng","currentLang","currency","FREE","instant","EUR","price","USD","RUB","NONE","date","shareBody","linkVk","linkFb","linkTw","linkIn","linkTg","goTo","window","open","bookmark","loggedIn$","value","bookmark$","bookmarks","you","count","markForCheck","setShowDropdown","toggleShare","share","own","routes","path","component","EventPageRoutingModule","forChild","UserInfoModule","EventPageModule"],"mappings":"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","file":"event-page-event-page-module-es5.js","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CompaniesService } from '@api/routes/companies.service';\nimport { ICompanyViewFull } from '@api/schemas/company/company-view-full.interface';\nimport { SessionService } from '@app/services/session.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { Observable } from 'rxjs';\nimport { map, takeUntil } from 'rxjs/operators';\nimport { IEventViewFull } from '@api/schemas/event/event-view-full.interface';\nimport { EventsService } from '@api/routes/events.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { DynamicMetaTagsService } from '@layout/dynamic-meta-tags/dynamic-meta-tags.service';\nimport { environment } from '@env';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\n\n@Component({\n  selector: 'app-event-page-unwrap',\n  template: '<app-event-page [event]=\"event\" [own]=\"own$ | async\" [company]=\"company$ | async\"></app-event-page>',\n  // tslint:disable-next-line:no-host-metadata-property\n  host: { style: 'width: 100%' }\n})\nexport class EventPageUnwrapComponent extends AbstractComponent implements OnInit, OnDestroy  {\n  public event: IEventViewFull;\n  public own$: Observable<boolean>;\n  public company$: Observable<ICompanyViewFull>;\n\n  constructor(\n    private readonly eventsService: EventsService,\n    private readonly activatedRoute: ActivatedRoute,\n    private readonly sessionService: SessionService,\n    private readonly companyService: CompaniesService,\n    private readonly sidebarWrapperService: SidebarWrapperService,\n    private readonly dynamicMetaTagsService: DynamicMetaTagsService,\n    private readonly router: Router\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: true, navigation: true, live: false, showSidebar: true });\n    });\n\n    this.event = this.activatedRoute.snapshot.data.data;\n    this.setPreInfo();\n    this.company$ = this.companyService.getSingle$(this.event.company.meta.id);\n    this.own$ = this.sessionService.user$.pipe(map((user: IUserViewFull) => user && this.event.company.meta.id === user.meta.id));\n    this.eventsService.view$(this.event.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n  }\n\n  ngOnDestroy(): void {\n    this.dynamicMetaTagsService.setToDefault();\n    super.ngOnDestroy();\n  }\n\n  private setPreInfo(): void {\n    this.dynamicMetaTagsService.metaInfo$.next({\n      title: this.event.info.name,\n      tags: [\n        { property: 'og:title', content: this.event.info.name },\n        { name: 'description', content: this.event.info.announcement },\n        { property: 'og:description', content: this.event.info.announcement },\n        { property: 'og:url', content: environment.url + this.router.url },\n        { property: 'og:type', content: 'website' },\n        { property: 'og:site_name', content: 'Diskurs.Media' },\n        { name: 'twitter:card', content: 'summary' },\n        { name: 'twitter:title', content: this.event.info.name },\n        { name: 'twitter:description', content: this.event.info.announcement },\n      ]\n    });\n  }\n}\n","import { DOCUMENT, CommonModule } from '@angular/common';\nimport { InjectionToken, EventEmitter, Component, NgZone, Input, Output, ContentChildren, ɵɵdefineInjectable, ɵɵinject, Injectable, Optional, Inject, ViewChild, NgModule } from '@angular/core';\nimport { startWith, map, switchMap, take } from 'rxjs/operators';\nimport { Subscription, from, fromEvent, throwError, merge } from 'rxjs';\nimport { __rest } from 'tslib';\n\nimport * as ɵngcc0 from '@angular/core';\n\nconst _c0 = [\"container\"];\nconst YA_MAP_CONFIG = new InjectionToken('YA_MAP_CONFIG');\n\n/**\r\n * Generates a random string based on Date in hexadecimal numeral system\r\n * @example f175517fa4f3\r\n */\r\nconst generateRandomId = () => {\r\n    return `f${Number(new Date()).toString(16)}`;\r\n};\n\n/**\r\n * Removes all Leading blank spaces from each line\r\n * @param s String for replacing\r\n */\r\nconst removeLeadingSpaces = (s) => s.trim().replace(/^ +/gm, '');\n\n/**\r\n * Component for creating a geo object.\r\n * Can be displayed as a placemark, polyline, polygon, etc., depending on the geometry type.\r\n *\r\n * @example `<ya-geoobject [feature]=\"{ geometry: { type: 'Rectangle', coordinates: [[55.665, 37.66], [55.64,37.53]] } }\"></ya-geoobject>`.\r\n * @see {@link https://ddubrava.github.io/angular8-yandex-maps/#/components/geoobject}\r\n */\r\nclass YaGeoObjectComponent {\r\n    constructor(_ngZone) {\r\n        this._ngZone = _ngZone;\r\n        /**\r\n         * Emits immediately after this entity is added in root container.\r\n         */\r\n        this.load = new EventEmitter();\r\n        /**\r\n         * Actions with the balloon.\r\n         */\r\n        this.balloon = new EventEmitter();\r\n        /**\r\n         * Left-click on the object.\r\n         */\r\n        this.yaclick = new EventEmitter();\r\n        /**\r\n         * GeoObject dragging.\r\n         */\r\n        this.drag = new EventEmitter();\r\n        /**\r\n         * Actions with the hint.\r\n         */\r\n        this.hint = new EventEmitter();\r\n        /**\r\n         * Mouse actions with the object.\r\n         */\r\n        this.mouse = new EventEmitter();\r\n        /**\r\n         * Multitouch actions with the object.\r\n         */\r\n        this.multitouch = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n        this._logErrors();\r\n    }\r\n    ngOnChanges(changes) {\r\n        this._updateGeoObject(changes);\r\n    }\r\n    /**\r\n     * Method for dynamic GeoObject configuration.\r\n     * Handles input changes and provides it to API.\r\n     * @param changes\r\n     */\r\n    _updateGeoObject(changes) {\r\n        const geoObject = this._geoObject;\r\n        if (!geoObject)\r\n            return;\r\n        const { feature, options } = changes;\r\n        if (feature) {\r\n            this._setFeature(feature.currentValue, geoObject);\r\n        }\r\n        if (options) {\r\n            geoObject.options.set(options.currentValue);\r\n        }\r\n    }\r\n    /**\r\n     * Destructs state and provides new values to API.\r\n     * @param feature\r\n     * @param geoObject\r\n     */\r\n    _setFeature(feature, geoObject) {\r\n        const { geometry, properties } = feature;\r\n        if (geometry) {\r\n            console.error(removeLeadingSpaces(`\n        The geometry of GeoObject cannot be changed after entity init.\n\n        Solutions:\n        1. Use ymaps from ILoadEvent\n        2. Recreate GeoObject component with new feature.geometry\n      `));\r\n        }\r\n        if (properties) {\r\n            /**\r\n             * Wrong typings in DefinitelyTyped.\r\n             */\r\n            geoObject.properties.set(properties);\r\n        }\r\n    }\r\n    _logErrors() {\r\n        if (!this.feature) {\r\n            console.error('GeoObjects: feature input is required.');\r\n            this.feature = {};\r\n        }\r\n    }\r\n    /**\r\n     * Creates GeoObject.\r\n     *\r\n     * @param map Necessary for removing entity from map.geoObjects on GeoObject destroy\r\n     * `this.map.geoObjects.remove(this.geoObject);`.\r\n     * @param clusterer Necessary for removing entity from Clusterer on GeoObject destroy\r\n     * `this.clusterer.remove(this.geoObject);`.\r\n     */\r\n    createGeoObject(map, clusterer) {\r\n        const geoObject = new ymaps.GeoObject(this.feature, this.options);\r\n        this.id = generateRandomId();\r\n        this._clusterer = clusterer;\r\n        this._geoObject = geoObject;\r\n        this._map = map;\r\n        this._addEventListeners();\r\n        return geoObject;\r\n    }\r\n    /**\r\n     * Adds listeners on the GeoObject events.\r\n     */\r\n    _addEventListeners() {\r\n        const geoObject = this._geoObject;\r\n        this._ngZone.run(() => this.load.emit({ ymaps, instance: geoObject }));\r\n        const handlers = [\r\n            {\r\n                name: ['balloonopen', 'balloonclose'],\r\n                fn: (e) => this.balloon.emit({\r\n                    ymaps,\r\n                    instance: geoObject,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['click', 'dblclick'],\r\n                fn: (e) => this.yaclick.emit({\r\n                    ymaps,\r\n                    instance: geoObject,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['dragstart', 'dragend'],\r\n                fn: (e) => this.drag.emit({\r\n                    ymaps,\r\n                    instance: geoObject,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['hintopen', 'hintclose'],\r\n                fn: (e) => this.hint.emit({\r\n                    ymaps,\r\n                    instance: geoObject,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['mousedown', 'mouseenter', 'mouseleave', 'mousemove', 'mouseup'],\r\n                fn: (e) => this.mouse.emit({\r\n                    ymaps,\r\n                    instance: geoObject,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['multitouchstart', 'multitouchmove', 'multitouchend'],\r\n                fn: (e) => this.multitouch.emit({\r\n                    ymaps,\r\n                    instance: geoObject,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n        ];\r\n        handlers.forEach((handler) => {\r\n            geoObject.events.add(handler.name, (e) => this._ngZone.run(() => handler.fn(e)));\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        var _a, _b;\r\n        /**\r\n         * Wrong typings in DefinitelyTyped.\r\n         */\r\n        (_a = this._clusterer) === null || _a === void 0 ? void 0 : _a.remove(this._geoObject);\r\n        (_b = this._map) === null || _b === void 0 ? void 0 : _b.geoObjects.remove(this._geoObject);\r\n    }\r\n}\nYaGeoObjectComponent.ɵfac = function YaGeoObjectComponent_Factory(t) { return new (t || YaGeoObjectComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };\nYaGeoObjectComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: YaGeoObjectComponent, selectors: [[\"ya-geoobject\"]], inputs: { feature: \"feature\", options: \"options\" }, outputs: { load: \"load\", balloon: \"balloon\", yaclick: \"yaclick\", drag: \"drag\", hint: \"hint\", mouse: \"mouse\", multitouch: \"multitouch\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function YaGeoObjectComponent_Template(rf, ctx) { }, styles: [\"\"] });\r\nYaGeoObjectComponent.ctorParameters = () => [\r\n    { type: NgZone }\r\n];\r\nYaGeoObjectComponent.propDecorators = {\r\n    feature: [{ type: Input }],\r\n    options: [{ type: Input }],\r\n    load: [{ type: Output }],\r\n    balloon: [{ type: Output }],\r\n    yaclick: [{ type: Output }],\r\n    drag: [{ type: Output }],\r\n    hint: [{ type: Output }],\r\n    mouse: [{ type: Output }],\r\n    multitouch: [{ type: Output }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(YaGeoObjectComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ya-geoobject',\n                template: \"\",\n                styles: [\"\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }]; }, { load: [{\n            type: Output\n        }], balloon: [{\n            type: Output\n        }], yaclick: [{\n            type: Output\n        }], drag: [{\n            type: Output\n        }], hint: [{\n            type: Output\n        }], mouse: [{\n            type: Output\n        }], multitouch: [{\n            type: Output\n        }], feature: [{\n            type: Input\n        }], options: [{\n            type: Input\n        }] }); })();\n\n/**\r\n * Component for creating a geo object with the geometry geometry.Point.\r\n *\r\n * @example `<ya-placemark [geometry]=\"[55.751952, 37.600739]\"></ya-placemark>`.\r\n * @see {@link https://ddubrava.github.io/angular8-yandex-maps/#/components/placemark}\r\n */\r\nclass YaPlacemarkComponent {\r\n    constructor(_ngZone) {\r\n        this._ngZone = _ngZone;\r\n        /**\r\n         * Emits immediately after this entity is added in root container.\r\n         */\r\n        this.load = new EventEmitter();\r\n        /**\r\n         * Actions with the balloon.\r\n         */\r\n        this.balloon = new EventEmitter();\r\n        /**\r\n         * Left-click on the object.\r\n         */\r\n        this.yaclick = new EventEmitter();\r\n        /**\r\n         * Placemark dragging.\r\n         */\r\n        this.drag = new EventEmitter();\r\n        /**\r\n         * Actions with the hint.\r\n         */\r\n        this.hint = new EventEmitter();\r\n        /**\r\n         * Mouse actions with the object.\r\n         */\r\n        this.mouse = new EventEmitter();\r\n        /**\r\n         * Multitouch actions with the object.\r\n         */\r\n        this.multitouch = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n        this._logErrors();\r\n    }\r\n    ngOnChanges(changes) {\r\n        this._updatePlacemark(changes);\r\n    }\r\n    /**\r\n     * Method for dynamic Placemark configuration.\r\n     * Handles input changes and provides it to API.\r\n     * @param changes\r\n     */\r\n    _updatePlacemark(changes) {\r\n        const placemark = this._placemark;\r\n        if (!placemark)\r\n            return;\r\n        const { geometry, properties, options } = changes;\r\n        if (geometry) {\r\n            placemark.geometry.setCoordinates(geometry.currentValue);\r\n        }\r\n        if (properties) {\r\n            /**\r\n             * Wrong typings in DefinitelyTyped.\r\n             */\r\n            placemark.properties.set(properties.currentValue);\r\n        }\r\n        if (options) {\r\n            placemark.options.set(options.currentValue);\r\n        }\r\n    }\r\n    _logErrors() {\r\n        if (!this.geometry) {\r\n            console.error('Placemark: geometry input is required.');\r\n            this.geometry = [];\r\n        }\r\n    }\r\n    /**\r\n     * Creates placemark.\r\n     *\r\n     * @param map Necessary for removing entity from map.geoObjects on Placemark destroy\r\n     * `this.map.geoObjects.remove(this.placemark);`.\r\n     * @param clusterer Necessary for removing entity from Clusterer on Placemark destroy\r\n     * `this.clusterer.remove(this.placemark);`.\r\n     */\r\n    createPlacemark(map, clusterer) {\r\n        const placemark = new ymaps.Placemark(this.geometry, this.properties, this.options);\r\n        this.id = generateRandomId();\r\n        this._clusterer = clusterer;\r\n        this._map = map;\r\n        this._placemark = placemark;\r\n        this._addEventListeners();\r\n        return placemark;\r\n    }\r\n    /**\r\n     * Adds listeners on the Placemark events.\r\n     */\r\n    _addEventListeners() {\r\n        const placemark = this._placemark;\r\n        this._ngZone.run(() => this.load.emit({ ymaps, instance: placemark }));\r\n        const handlers = [\r\n            {\r\n                name: ['balloonopen', 'balloonclose'],\r\n                fn: (e) => this.balloon.emit({\r\n                    ymaps,\r\n                    instance: placemark,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['click', 'dblclick'],\r\n                fn: (e) => this.yaclick.emit({\r\n                    ymaps,\r\n                    instance: placemark,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['dragstart', 'dragend'],\r\n                fn: (e) => this.drag.emit({\r\n                    ymaps,\r\n                    instance: placemark,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['hintopen', 'hintclose'],\r\n                fn: (e) => this.hint.emit({\r\n                    ymaps,\r\n                    instance: placemark,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['mousedown', 'mouseenter', 'mouseleave', 'mousemove', 'mouseup'],\r\n                fn: (e) => this.mouse.emit({\r\n                    ymaps,\r\n                    instance: placemark,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['multitouchstart', 'multitouchmove', 'multitouchend'],\r\n                fn: (e) => this.multitouch.emit({\r\n                    ymaps,\r\n                    instance: placemark,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n        ];\r\n        handlers.forEach((handler) => {\r\n            placemark.events.add(handler.name, (e) => this._ngZone.run(() => handler.fn(e)));\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        var _a, _b;\r\n        /**\r\n         * Wrong typings in DefinitelyTyped.\r\n         */\r\n        (_a = this._clusterer) === null || _a === void 0 ? void 0 : _a.remove(this._placemark);\r\n        (_b = this._map) === null || _b === void 0 ? void 0 : _b.geoObjects.remove(this._placemark);\r\n    }\r\n}\nYaPlacemarkComponent.ɵfac = function YaPlacemarkComponent_Factory(t) { return new (t || YaPlacemarkComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };\nYaPlacemarkComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: YaPlacemarkComponent, selectors: [[\"ya-placemark\"]], inputs: { geometry: \"geometry\", properties: \"properties\", options: \"options\" }, outputs: { load: \"load\", balloon: \"balloon\", yaclick: \"yaclick\", drag: \"drag\", hint: \"hint\", mouse: \"mouse\", multitouch: \"multitouch\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function YaPlacemarkComponent_Template(rf, ctx) { }, styles: [\"\"] });\r\nYaPlacemarkComponent.ctorParameters = () => [\r\n    { type: NgZone }\r\n];\r\nYaPlacemarkComponent.propDecorators = {\r\n    geometry: [{ type: Input }],\r\n    properties: [{ type: Input }],\r\n    options: [{ type: Input }],\r\n    load: [{ type: Output }],\r\n    balloon: [{ type: Output }],\r\n    yaclick: [{ type: Output }],\r\n    drag: [{ type: Output }],\r\n    hint: [{ type: Output }],\r\n    mouse: [{ type: Output }],\r\n    multitouch: [{ type: Output }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(YaPlacemarkComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ya-placemark',\n                template: \"\",\n                styles: [\"\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }]; }, { load: [{\n            type: Output\n        }], balloon: [{\n            type: Output\n        }], yaclick: [{\n            type: Output\n        }], drag: [{\n            type: Output\n        }], hint: [{\n            type: Output\n        }], mouse: [{\n            type: Output\n        }], multitouch: [{\n            type: Output\n        }], geometry: [{\n            type: Input\n        }], properties: [{\n            type: Input\n        }], options: [{\n            type: Input\n        }] }); })();\n\n/**\r\n * Component for creating a clusterer. Clusterizes objects in the visible area of the map.\r\n * If the object does not fall within the visible area of the map, it will not be added to the map.\r\n * Note, that the clusterer does not react to changing the coordinates of objects (either programmatically,\r\n * or as the result of dragging). If you want to change the coordinates of some object in the clusterer,\r\n * you should first delete the object from the clusterer and then add it back.\r\n *\r\n * @example\r\n * `<ya-clusterer>\r\n *  <ya-placemark [geometry]=\"[55.74, 37.50]\"></ya-placemark>\r\n *   <ya-geoobject [feature]=\"{ geometry: { type: 'Point', coordinates: [55.73, 37.52] } }\"></ya-geoobject>\r\n * </ya-clusterer>`.\r\n * @see {@link https://ddubrava.github.io/angular8-yandex-maps/#/components/clusterer}\r\n */\r\nclass YaClustererComponent {\r\n    constructor(_ngZone) {\r\n        this._ngZone = _ngZone;\r\n        /**\r\n         * Emits immediately after this entity is added in root container.\r\n         */\r\n        this.load = new EventEmitter();\r\n        /**\r\n         * Actions with the hint.\r\n         */\r\n        this.hint = new EventEmitter();\r\n        /**\r\n         * Map reference changed.\r\n         */\r\n        this.mapChange = new EventEmitter();\r\n        /**\r\n         * Change to the object options.\r\n         */\r\n        this.optionsChange = new EventEmitter();\r\n        /**\r\n         * The parent object reference changed.\r\n         */\r\n        this.parentChange = new EventEmitter();\r\n        this._sub = new Subscription();\r\n    }\r\n    ngOnChanges(changes) {\r\n        this._updateClusterer(changes);\r\n    }\r\n    /**\r\n     * Method for dynamic Clusterer configuration.\r\n     * Handles input changes and provides it to API.\r\n     * @param changes\r\n     */\r\n    _updateClusterer(changes) {\r\n        const clusterer = this._clusterer;\r\n        if (!clusterer)\r\n            return;\r\n        const { options } = changes;\r\n        if (options) {\r\n            /**\r\n             * Wrong typings in DefinitelyTyped.\r\n             */\r\n            clusterer.options.set(options.currentValue);\r\n        }\r\n    }\r\n    /**\r\n     * Creates Clusterer.\r\n     *\r\n     * @param map Necessary for passing in children.\r\n     */\r\n    createClusterer(map) {\r\n        const clusterer = new ymaps.Clusterer(this.options);\r\n        this._clusterer = clusterer;\r\n        /**\r\n         * Adds new Placemarks to the clusterer on changes.\r\n         */\r\n        const placemarksSub = this.placemarks.changes\r\n            .pipe(startWith(this.placemarks))\r\n            .subscribe((list) => {\r\n            list.forEach((placemark) => {\r\n                if (!placemark.id) {\r\n                    /**\r\n                     * Wrong typings in DefinitelyTyped.\r\n                     */\r\n                    clusterer.add(placemark.createPlacemark(map, clusterer));\r\n                }\r\n            });\r\n        });\r\n        this._sub.add(placemarksSub);\r\n        /**\r\n         * Adds new GeoObjects to the clusterer on changes.\r\n         */\r\n        const geoObjectsSub = this.geoObjects.changes\r\n            .pipe(startWith(this.geoObjects))\r\n            .subscribe((list) => {\r\n            list.forEach((geoObject) => {\r\n                if (!geoObject.id) {\r\n                    /**\r\n                     * Wrong typings in DefinitelyTyped.\r\n                     */\r\n                    clusterer.add(geoObject.createGeoObject(map, clusterer));\r\n                }\r\n            });\r\n        });\r\n        this._sub.add(geoObjectsSub);\r\n        this._addEventListeners();\r\n        return clusterer;\r\n    }\r\n    /**\r\n     * Adds listeners on Clusterer events.\r\n     */\r\n    _addEventListeners() {\r\n        const clusterer = this._clusterer;\r\n        this._ngZone.run(() => this.load.emit({ ymaps, instance: clusterer }));\r\n        const handlers = [\r\n            {\r\n                name: ['hintclose', 'hintopen'],\r\n                fn: (e) => this.hint.emit({\r\n                    ymaps,\r\n                    instance: clusterer,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: 'mapchange',\r\n                fn: (e) => this.mapChange.emit({\r\n                    ymaps,\r\n                    instance: clusterer,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: 'optionschange',\r\n                fn: (e) => this.optionsChange.emit({\r\n                    ymaps,\r\n                    instance: clusterer,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: 'parentchange',\r\n                fn: (e) => this.parentChange.emit({\r\n                    ymaps,\r\n                    instance: clusterer,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n        ];\r\n        handlers.forEach((handler) => {\r\n            clusterer.events.add(handler.name, (e) => this._ngZone.run(() => handler.fn(e)));\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this._sub.unsubscribe();\r\n    }\r\n}\nYaClustererComponent.ɵfac = function YaClustererComponent_Factory(t) { return new (t || YaClustererComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };\nYaClustererComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: YaClustererComponent, selectors: [[\"ya-clusterer\"]], contentQueries: function YaClustererComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, YaPlacemarkComponent, 4);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, YaGeoObjectComponent, 4);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.placemarks = _t);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.geoObjects = _t);\n    } }, inputs: { options: \"options\" }, outputs: { load: \"load\", hint: \"hint\", mapChange: \"mapChange\", optionsChange: \"optionsChange\", parentChange: \"parentChange\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function YaClustererComponent_Template(rf, ctx) { }, styles: [\"\"] });\r\nYaClustererComponent.ctorParameters = () => [\r\n    { type: NgZone }\r\n];\r\nYaClustererComponent.propDecorators = {\r\n    placemarks: [{ type: ContentChildren, args: [YaPlacemarkComponent,] }],\r\n    geoObjects: [{ type: ContentChildren, args: [YaGeoObjectComponent,] }],\r\n    options: [{ type: Input }],\r\n    load: [{ type: Output }],\r\n    hint: [{ type: Output }],\r\n    mapChange: [{ type: Output }],\r\n    optionsChange: [{ type: Output }],\r\n    parentChange: [{ type: Output }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(YaClustererComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ya-clusterer',\n                template: \"\",\n                styles: [\"\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }]; }, { load: [{\n            type: Output\n        }], hint: [{\n            type: Output\n        }], mapChange: [{\n            type: Output\n        }], optionsChange: [{\n            type: Output\n        }], parentChange: [{\n            type: Output\n        }], placemarks: [{\n            type: ContentChildren,\n            args: [YaPlacemarkComponent]\n        }], geoObjects: [{\n            type: ContentChildren,\n            args: [YaGeoObjectComponent]\n        }], options: [{\n            type: Input\n        }] }); })();\n\n/**\r\n * Component for creating and managing controls on the map.\r\n *\r\n * @example `<ya-control type=\"RoutePanel\" [parameters]=\"{ options: { float: 'right' } }\"></ya-control>`.\r\n * @see {@link https://ddubrava.github.io/angular8-yandex-maps/#/components/controls}\r\n */\r\nclass YaControlComponent {\r\n    constructor(_ngZone) {\r\n        this._ngZone = _ngZone;\r\n        /**\r\n         * Emits immediately after this entity is added in root container.\r\n         */\r\n        this.load = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n        this._logErrors();\r\n    }\r\n    _logErrors() {\r\n        if (!this.type) {\r\n            console.error('Control: type input is required.');\r\n        }\r\n    }\r\n    /**\r\n     * Creates control\r\n     * @returns Instance of created control\r\n     */\r\n    createControl() {\r\n        const control = new ymaps.control[this.type](this.parameters);\r\n        // RoutePanel ignores state in parameters. API bug\r\n        if (this.type === 'RoutePanel' &&\r\n            this.parameters &&\r\n            this.parameters.state) {\r\n            control.routePanel.state.set(Object.assign({}, this.parameters.state));\r\n        }\r\n        this._emitEvent(control);\r\n        return control;\r\n    }\r\n    ngOnChanges(changes) {\r\n        this._updateControl(changes);\r\n    }\r\n    _updateControl(changes) {\r\n        if (Object.values(changes).some((v) => v.firstChange))\r\n            return;\r\n        console.error(removeLeadingSpaces(`\n      Control doesn't support dynamic configuartion.\n\n      Solutions:\n      1. Use ymaps from ILoadEvent\n      2. Recreate component with new configuration\n    `));\r\n    }\r\n    _emitEvent(control) {\r\n        this._ngZone.run(() => this.load.emit({ ymaps, instance: control }));\r\n    }\r\n}\nYaControlComponent.ɵfac = function YaControlComponent_Factory(t) { return new (t || YaControlComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };\nYaControlComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: YaControlComponent, selectors: [[\"ya-control\"]], inputs: { type: \"type\", parameters: \"parameters\" }, outputs: { load: \"load\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function YaControlComponent_Template(rf, ctx) { }, styles: [\"\"] });\r\nYaControlComponent.ctorParameters = () => [\r\n    { type: NgZone }\r\n];\r\nYaControlComponent.propDecorators = {\r\n    type: [{ type: Input }],\r\n    parameters: [{ type: Input }],\r\n    load: [{ type: Output }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(YaControlComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ya-control',\n                template: \"\",\n                styles: [\"\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }]; }, { load: [{\n            type: Output\n        }], type: [{\n            type: Input\n        }], parameters: [{\n            type: Input\n        }] }); })();\n\nconst DEFAULT_CONFIG = {\r\n    lang: 'ru_RU',\r\n};\r\n/**\r\n * @dynamic\r\n *\r\n * @description Injectable service that will handle the loading of Yandex.Maps script\r\n * @see {@link https://ddubrava.github.io/angular8-yandex-maps/#/services/script}\r\n */\r\nclass ScriptService {\r\n    constructor(config, _document) {\r\n        this._document = _document;\r\n        this._config = config || DEFAULT_CONFIG;\r\n        this._window = document.defaultView;\r\n    }\r\n    /**\r\n     * Inits Yandex.Maps script\r\n     */\r\n    initScript() {\r\n        if ('ymaps' in this._window) {\r\n            return from(ymaps.ready()).pipe(map(() => ymaps));\r\n        }\r\n        if (!this._script) {\r\n            const script = this._document.createElement('script');\r\n            script.type = 'text/javascript';\r\n            script.src = this._getScriptSource(this._config);\r\n            script.id = 'yandexMapsApiScript';\r\n            this._script = this._document.body.appendChild(script);\r\n        }\r\n        const load = fromEvent(this._script, 'load').pipe(switchMap(() => from(ymaps.ready()).pipe(map(() => ymaps))));\r\n        const error = fromEvent(this._script, 'error').pipe(switchMap((e) => throwError(e)));\r\n        return merge(load, error).pipe(take(1));\r\n    }\r\n    /**\r\n     * Returns script source by config\r\n     * @param config Config with parameters that will be added in source\r\n     * @example 'https://api-maps.yandex.ru/2.1/?apikey=658f67a2-fd77-42e9-b99e-2bd48c4ccad4&lang=en_US'\r\n     */\r\n    _getScriptSource(config) {\r\n        const { enterprise, version = '2.1' } = config, rest = __rest(config, [\"enterprise\", \"version\"]);\r\n        const params = this._convertIntoQueryParams(rest);\r\n        return `https://${enterprise ? 'enterprise.' : ''}api-maps.yandex.ru/${version}/?${params}`;\r\n    }\r\n    /**\r\n     * Converts an object into a query string parameters\r\n     * @param o Object for converting\r\n     * @example\r\n     * // returns \"apikey=XXX\"\r\n     * convertIntoQueryParams({ apikey: 'XXX' })\r\n     */\r\n    _convertIntoQueryParams(o) {\r\n        return Object.keys(o)\r\n            .map((key) => `${key}=${o[key]}`)\r\n            .join('&');\r\n    }\r\n}\nScriptService.ɵfac = function ScriptService_Factory(t) { return new (t || ScriptService)(ɵngcc0.ɵɵinject(YA_MAP_CONFIG, 8), ɵngcc0.ɵɵinject(DOCUMENT)); };\r\nScriptService.ɵprov = ɵɵdefineInjectable({ factory: function ScriptService_Factory() { return new ScriptService(ɵɵinject(YA_MAP_CONFIG, 8), ɵɵinject(DOCUMENT)); }, token: ScriptService, providedIn: \"root\" });\r\nScriptService.ctorParameters = () => [\r\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [YA_MAP_CONFIG,] }] },\r\n    { type: Document, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ScriptService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [YA_MAP_CONFIG]\n            }] }, { type: Document, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }]; }, null); })();\n\n/**\r\n * Component for creating Multi-route on the map\r\n *\r\n * @example `<ya-multiroute [referencePoints]=\"[[55.751952, 37.600739], 'Красные ворота, Москва']\"></ya-multiroute>`.\r\n * @see {@link https://ddubrava.github.io/angular8-yandex-maps/#/components/multiroute}\r\n */\r\nclass YaMultirouteComponent {\r\n    constructor(_ngZone) {\r\n        this._ngZone = _ngZone;\r\n        /**\r\n         * Emits immediately after this entity is added in root container.\r\n         */\r\n        this.load = new EventEmitter();\r\n        /**\r\n         * Change to the active route.\r\n         */\r\n        this.activeroutechange = new EventEmitter();\r\n        /**\r\n         * Actions with the balloon.\r\n         */\r\n        this.balloon = new EventEmitter();\r\n        /**\r\n         * Left-click on the object.\r\n         */\r\n        this.yaclick = new EventEmitter();\r\n        /**\r\n         * Mouse actions with the object.\r\n         */\r\n        this.mouse = new EventEmitter();\r\n        /**\r\n         * Multitouch actions with the object.\r\n         */\r\n        this.multitouch = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n        this._logErrors();\r\n    }\r\n    ngOnChanges(changes) {\r\n        this._updateMultiroute(changes);\r\n    }\r\n    /**\r\n     * Method for dynamic Miltiroute configuration.\r\n     * Handles input changes and provides it to API.\r\n     * @param changes\r\n     */\r\n    _updateMultiroute(changes) {\r\n        const multiroute = this._multiroute;\r\n        if (!multiroute)\r\n            return;\r\n        const { referencePoints, model, options } = changes;\r\n        if (referencePoints) {\r\n            multiroute.model.setReferencePoints(referencePoints.currentValue);\r\n        }\r\n        if (model) {\r\n            this._setModel(model.currentValue, multiroute);\r\n        }\r\n        if (options) {\r\n            /**\r\n             * Wrong typings in DefinitelyTyped.\r\n             */\r\n            multiroute.options.set(options.currentValue);\r\n        }\r\n    }\r\n    /**\r\n     * Destructs state and provides new values to API.\r\n     * @param model\r\n     * @param multiroute\r\n     */\r\n    _setModel(model, multiroute) {\r\n        const { referencePoints, params } = model;\r\n        if (referencePoints) {\r\n            multiroute.model.setReferencePoints(referencePoints);\r\n        }\r\n        if (params) {\r\n            multiroute.model.setParams(params);\r\n        }\r\n    }\r\n    _logErrors() {\r\n        if (!this.referencePoints) {\r\n            console.error('Multiroute: referencePoints input is required.');\r\n            this.referencePoints = [];\r\n        }\r\n    }\r\n    /**\r\n     * Creates Multiroute.\r\n     *\r\n     * @param map Necessary for removing entity from map.geoObjects on Multiroute destroy\r\n     * `this.map.geoObjects.remove(this.multiroute);`.\r\n     */\r\n    createMultiroute(map) {\r\n        const multiroute = new ymaps.multiRouter.MultiRoute(Object.assign(Object.assign({}, this.model), { referencePoints: this.referencePoints }), this.options);\r\n        this.id = generateRandomId();\r\n        this._map = map;\r\n        this._multiroute = multiroute;\r\n        this._addEventListeners();\r\n        return multiroute;\r\n    }\r\n    /**\r\n     * Adds listeners on the Multiroute events.\r\n     */\r\n    _addEventListeners() {\r\n        const multiroute = this._multiroute;\r\n        this._ngZone.run(() => this.load.emit({ ymaps, instance: multiroute }));\r\n        const handlers = [\r\n            {\r\n                name: 'activeroutechange',\r\n                fn: (e) => this.activeroutechange.emit({\r\n                    ymaps,\r\n                    instance: multiroute,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['balloonopen', 'balloonclose'],\r\n                fn: (e) => this.balloon.emit({\r\n                    ymaps,\r\n                    instance: multiroute,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['click', 'dblclick'],\r\n                fn: (e) => this.yaclick.emit({\r\n                    ymaps,\r\n                    instance: multiroute,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['mousedown', 'mouseenter', 'mouseleave', 'mousemove', 'mouseup'],\r\n                fn: (e) => this.mouse.emit({\r\n                    ymaps,\r\n                    instance: multiroute,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['multitouchstart', 'multitouchmove', 'multitouchend'],\r\n                fn: (e) => this.multitouch.emit({\r\n                    ymaps,\r\n                    instance: multiroute,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n        ];\r\n        handlers.forEach((handler) => {\r\n            multiroute.events.add(handler.name, (e) => this._ngZone.run(() => handler.fn(e)));\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        var _a;\r\n        (_a = this._map) === null || _a === void 0 ? void 0 : _a.geoObjects.remove(this._multiroute);\r\n    }\r\n}\nYaMultirouteComponent.ɵfac = function YaMultirouteComponent_Factory(t) { return new (t || YaMultirouteComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };\nYaMultirouteComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: YaMultirouteComponent, selectors: [[\"ya-multiroute\"]], inputs: { referencePoints: \"referencePoints\", model: \"model\", options: \"options\" }, outputs: { load: \"load\", activeroutechange: \"activeroutechange\", balloon: \"balloon\", yaclick: \"yaclick\", mouse: \"mouse\", multitouch: \"multitouch\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function YaMultirouteComponent_Template(rf, ctx) { }, styles: [\"\"] });\r\nYaMultirouteComponent.ctorParameters = () => [\r\n    { type: NgZone }\r\n];\r\nYaMultirouteComponent.propDecorators = {\r\n    referencePoints: [{ type: Input }],\r\n    model: [{ type: Input }],\r\n    options: [{ type: Input }],\r\n    load: [{ type: Output }],\r\n    activeroutechange: [{ type: Output }],\r\n    balloon: [{ type: Output }],\r\n    yaclick: [{ type: Output }],\r\n    mouse: [{ type: Output }],\r\n    multitouch: [{ type: Output }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(YaMultirouteComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ya-multiroute',\n                template: \"\",\n                styles: [\"\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }]; }, { load: [{\n            type: Output\n        }], activeroutechange: [{\n            type: Output\n        }], balloon: [{\n            type: Output\n        }], yaclick: [{\n            type: Output\n        }], mouse: [{\n            type: Output\n        }], multitouch: [{\n            type: Output\n        }], referencePoints: [{\n            type: Input\n        }], model: [{\n            type: Input\n        }], options: [{\n            type: Input\n        }] }); })();\n\n/**\r\n * Component for creating and managing a map.\r\n *\r\n * @example `<ya-map [center]=\"[55.751952, 37.600739]\" [state]=\"{type: 'yandex#satellite'}\"></ya-map>`.\r\n * @see {@link https://ddubrava.github.io/angular8-yandex-maps/#/components/map}\r\n */\r\nclass YaMapComponent {\r\n    constructor(_ngZone, _scriptService) {\r\n        this._ngZone = _ngZone;\r\n        this._scriptService = _scriptService;\r\n        /**\r\n         * Map zoom level.\r\n         */\r\n        this.zoom = 10;\r\n        /**\r\n         * States for the map.\r\n         * @see {@link https://tech.yandex.ru/maps/jsapi/doc/2.1/ref/reference/Map-docpage/#Mapparam-state}\r\n         */\r\n        this.state = {};\r\n        /**\r\n         * Options for the map.\r\n         * @see {@link https://tech.yandex.ru/maps/jsapi/doc/2.1/ref/reference/Map-docpage/#Mapparam-options}\r\n         */\r\n        this.options = {};\r\n        /**\r\n         * Emits immediately after this entity is added in root container.\r\n         */\r\n        this.load = new EventEmitter();\r\n        /**\r\n         * Smooth map movement.\r\n         */\r\n        this.action = new EventEmitter();\r\n        /**\r\n         * Actions with the balloon.\r\n         */\r\n        this.balloon = new EventEmitter();\r\n        /**\r\n         * Left-click on the object.\r\n         */\r\n        this.yaclick = new EventEmitter();\r\n        /**\r\n         * Actions with the hint.\r\n         */\r\n        this.hint = new EventEmitter();\r\n        /**\r\n         * Mouse actions with the object.\r\n         */\r\n        this.mouse = new EventEmitter();\r\n        /**\r\n         * Multitouch actions with the object.\r\n         */\r\n        this.multitouch = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n        this._sub = new Subscription();\r\n        this._logErrors();\r\n        this._initScript();\r\n    }\r\n    ngOnChanges(changes) {\r\n        this._updateMap(changes);\r\n    }\r\n    /**\r\n     * Method for dynamic Map configuration.\r\n     * Handles input changes and provides it to API.\r\n     * @param changes\r\n     */\r\n    _updateMap(changes) {\r\n        const map = this._map;\r\n        if (!map)\r\n            return;\r\n        const { center, zoom, state, options } = changes;\r\n        if (center) {\r\n            map.setCenter(center.currentValue);\r\n        }\r\n        if (zoom) {\r\n            map.setZoom(zoom.currentValue);\r\n        }\r\n        if (state) {\r\n            this._setState(state.currentValue, map);\r\n        }\r\n        if (options) {\r\n            map.options.set(options.currentValue);\r\n        }\r\n    }\r\n    /**\r\n     * Destructs state and provides new values to API.\r\n     * @param state\r\n     * @param map\r\n     */\r\n    _setState(state, map) {\r\n        const { behaviors, bounds, center, controls, margin, type, zoom } = state;\r\n        if (behaviors) {\r\n            map.behaviors.enable(behaviors);\r\n        }\r\n        if (bounds) {\r\n            map.setBounds(bounds);\r\n        }\r\n        if (center) {\r\n            map.setCenter(center);\r\n        }\r\n        if (controls) {\r\n            /**\r\n             * Wrong typings in DefinitelyTyped.\r\n             */\r\n            controls.forEach((c) => map.controls.add(c));\r\n        }\r\n        if (margin) {\r\n            map.margin.setDefaultMargin(margin);\r\n        }\r\n        if (type) {\r\n            map.setType(type);\r\n        }\r\n        if (zoom) {\r\n            map.setZoom(zoom);\r\n        }\r\n    }\r\n    _logErrors() {\r\n        if (!this.center && !this.onlyInstance) {\r\n            console.error('Map: center input is required.');\r\n            this.center = [];\r\n        }\r\n    }\r\n    _initScript() {\r\n        const sub = this._scriptService.initScript().subscribe(() => {\r\n            if (this.onlyInstance) {\r\n                this.load.emit({ ymaps });\r\n                return;\r\n            }\r\n            const id = generateRandomId();\r\n            this._map = this._createMap(id);\r\n            this._addGeoObjects();\r\n            this._addControls();\r\n            this._addEventListeners();\r\n        });\r\n        this._sub.add(sub);\r\n    }\r\n    /**\r\n     * Creates map.\r\n     * @param id ID which will be set to the map container.\r\n     */\r\n    _createMap(id) {\r\n        const containerElem = this.mapContainer.nativeElement;\r\n        containerElem.setAttribute('id', id);\r\n        containerElem.style.cssText = 'width: 100%; height: 100%;';\r\n        return new ymaps.Map(id, Object.assign(Object.assign({}, this.state), { zoom: this.zoom, center: this.center }), this.options);\r\n    }\r\n    /**\r\n     * Adds GeoObject to the Map on ContentChildren changes.\r\n     */\r\n    _addGeoObjects() {\r\n        const map = this._map;\r\n        // Placemarks (async)\r\n        const placemarksSub = this.placemarks.changes\r\n            .pipe(startWith(this.placemarks))\r\n            .subscribe((list) => {\r\n            list.forEach((placemark) => {\r\n                if (!placemark.id) {\r\n                    const p = placemark.createPlacemark(map);\r\n                    map.geoObjects.add(p);\r\n                }\r\n            });\r\n        });\r\n        this._sub.add(placemarksSub);\r\n        // Multiroutes (async)\r\n        const multiroutesSub = this.multiroutes.changes\r\n            .pipe(startWith(this.multiroutes))\r\n            .subscribe((list) => {\r\n            list.forEach((multiroute) => {\r\n                if (!multiroute.id) {\r\n                    const m = multiroute.createMultiroute(map);\r\n                    map.geoObjects.add(m);\r\n                }\r\n            });\r\n        });\r\n        this._sub.add(multiroutesSub);\r\n        // GeoObjects (async)\r\n        const geoObjectsSub = this.geoObjects.changes\r\n            .pipe(startWith(this.geoObjects))\r\n            .subscribe((list) => {\r\n            list.forEach((geoObject) => {\r\n                if (!geoObject.id) {\r\n                    const g = geoObject.createGeoObject(map);\r\n                    map.geoObjects.add(g);\r\n                }\r\n            });\r\n        });\r\n        this._sub.add(geoObjectsSub);\r\n        // Clusterers (not async)\r\n        this.clusterers.forEach((clusterer) => {\r\n            const c = clusterer.createClusterer(map);\r\n            /**\r\n             * Wrong typings in DefinitelyTyped.\r\n             */\r\n            map.geoObjects.add(c);\r\n        });\r\n    }\r\n    /**\r\n     * Adds controls to the Map.\r\n     */\r\n    _addControls() {\r\n        this.controls.forEach((control) => {\r\n            const c = control.createControl();\r\n            this._map.controls.add(c);\r\n        });\r\n    }\r\n    /**\r\n     * Adds listeners on the Map events.\r\n     */\r\n    _addEventListeners() {\r\n        const map = this._map;\r\n        this._ngZone.run(() => this.load.emit({ ymaps, instance: map }));\r\n        const handlers = [\r\n            {\r\n                name: ['actionbegin', 'actionend'],\r\n                fn: (e) => this.action.emit({\r\n                    ymaps,\r\n                    instance: map,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['balloonopen', 'balloonclose'],\r\n                fn: (e) => this.balloon.emit({\r\n                    ymaps,\r\n                    instance: map,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['click', 'dblclick'],\r\n                fn: (e) => this.yaclick.emit({\r\n                    ymaps,\r\n                    instance: map,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['hintopen', 'hintclose'],\r\n                fn: (e) => this.hint.emit({\r\n                    ymaps,\r\n                    instance: map,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['mousedown', 'mouseenter', 'mouseleave', 'mousemove', 'mouseup'],\r\n                fn: (e) => this.mouse.emit({\r\n                    ymaps,\r\n                    instance: map,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n                runOutsideAngular: true,\r\n            },\r\n            {\r\n                name: ['multitouchstart', 'multitouchmove', 'multitouchend'],\r\n                fn: (e) => this.multitouch.emit({\r\n                    ymaps,\r\n                    instance: map,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n                runOutsideAngular: true,\r\n            },\r\n        ];\r\n        /**\r\n         * Mouse and multitouch events should be run outside angular for better perfomance.\r\n         * @see {@link https://github.com/ddubrava/angular8-yandex-maps/issues/35}\r\n         */\r\n        handlers.forEach((handler) => {\r\n            map.events.add(handler.name, (e) => handler.runOutsideAngular\r\n                ? this._ngZone.runOutsideAngular(() => handler.fn(e))\r\n                : this._ngZone.run(() => handler.fn(e)));\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this._sub.unsubscribe();\r\n    }\r\n}\nYaMapComponent.ɵfac = function YaMapComponent_Factory(t) { return new (t || YaMapComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ScriptService)); };\nYaMapComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: YaMapComponent, selectors: [[\"ya-map\"]], contentQueries: function YaMapComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, YaPlacemarkComponent, 4);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, YaMultirouteComponent, 4);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, YaGeoObjectComponent, 4);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, YaControlComponent, 4);\n        ɵngcc0.ɵɵcontentQuery(dirIndex, YaClustererComponent, 4);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.placemarks = _t);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.multiroutes = _t);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.geoObjects = _t);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.controls = _t);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.clusterers = _t);\n    } }, viewQuery: function YaMapComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.mapContainer = _t.first);\n    } }, inputs: { zoom: \"zoom\", state: \"state\", options: \"options\", center: \"center\", onlyInstance: \"onlyInstance\" }, outputs: { load: \"load\", action: \"action\", balloon: \"balloon\", yaclick: \"yaclick\", hint: \"hint\", mouse: \"mouse\", multitouch: \"multitouch\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 2, vars: 0, consts: [[\"container\", \"\"]], template: function YaMapComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"div\", null, 0);\n    } }, styles: [\"\"] });\r\nYaMapComponent.ctorParameters = () => [\r\n    { type: NgZone },\r\n    { type: ScriptService }\r\n];\r\nYaMapComponent.propDecorators = {\r\n    mapContainer: [{ type: ViewChild, args: ['container',] }],\r\n    placemarks: [{ type: ContentChildren, args: [YaPlacemarkComponent,] }],\r\n    multiroutes: [{ type: ContentChildren, args: [YaMultirouteComponent,] }],\r\n    geoObjects: [{ type: ContentChildren, args: [YaGeoObjectComponent,] }],\r\n    controls: [{ type: ContentChildren, args: [YaControlComponent,] }],\r\n    clusterers: [{ type: ContentChildren, args: [YaClustererComponent,] }],\r\n    onlyInstance: [{ type: Input }],\r\n    center: [{ type: Input }],\r\n    zoom: [{ type: Input }],\r\n    state: [{ type: Input }],\r\n    options: [{ type: Input }],\r\n    load: [{ type: Output }],\r\n    action: [{ type: Output }],\r\n    balloon: [{ type: Output }],\r\n    yaclick: [{ type: Output }],\r\n    hint: [{ type: Output }],\r\n    mouse: [{ type: Output }],\r\n    multitouch: [{ type: Output }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(YaMapComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ya-map',\n                template: \"<div #container></div>\\n\",\n                styles: [\"\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: ScriptService }]; }, { zoom: [{\n            type: Input\n        }], state: [{\n            type: Input\n        }], options: [{\n            type: Input\n        }], load: [{\n            type: Output\n        }], action: [{\n            type: Output\n        }], balloon: [{\n            type: Output\n        }], yaclick: [{\n            type: Output\n        }], hint: [{\n            type: Output\n        }], mouse: [{\n            type: Output\n        }], multitouch: [{\n            type: Output\n        }], center: [{\n            type: Input\n        }], mapContainer: [{\n            type: ViewChild,\n            args: ['container']\n        }], placemarks: [{\n            type: ContentChildren,\n            args: [YaPlacemarkComponent]\n        }], multiroutes: [{\n            type: ContentChildren,\n            args: [YaMultirouteComponent]\n        }], geoObjects: [{\n            type: ContentChildren,\n            args: [YaGeoObjectComponent]\n        }], controls: [{\n            type: ContentChildren,\n            args: [YaControlComponent]\n        }], clusterers: [{\n            type: ContentChildren,\n            args: [YaClustererComponent]\n        }], onlyInstance: [{\n            type: Input\n        }] }); })();\n\n/**\r\n * Component for creating and controlling the panorama player.\r\n *\r\n * @example `<ya-panorama [point]=\"[59.938557, 30.316198]\" layer=\"yandex#airPanorama\"></ya-panorama>`.\r\n * @see {@link https://ddubrava.github.io/angular8-yandex-maps/#/components/panorama}\r\n */\r\nclass YaPanoramaComponent {\r\n    constructor(_ngZone, _scriptService) {\r\n        this._ngZone = _ngZone;\r\n        this._scriptService = _scriptService;\r\n        /**\r\n         * Emits immediately after this entity is added in root container.\r\n         */\r\n        this.load = new EventEmitter();\r\n        /**\r\n         * The view direction changed.\r\n         */\r\n        this.direction = new EventEmitter();\r\n        /**\r\n         * The panorama player screen mode is switched.\r\n         */\r\n        this.fullscreen = new EventEmitter();\r\n        /**\r\n         * Actions with the marker.\r\n         */\r\n        this.marker = new EventEmitter();\r\n    }\r\n    ngOnInit() {\r\n        this._sub = new Subscription();\r\n        this._logErrors();\r\n        this._initScript();\r\n    }\r\n    ngOnChanges(changes) {\r\n        this._updatePanorama(changes);\r\n    }\r\n    /**\r\n     * Method for dynamic Panorama configuration.\r\n     * Handles input changes and provides it to API.\r\n     * @param changes\r\n     */\r\n    _updatePanorama(changes) {\r\n        const player = this._player;\r\n        if (!player)\r\n            return;\r\n        const { point, layer, options } = changes;\r\n        if (point) {\r\n            player.moveTo(point.currentValue, layer ? { layer: layer.currentValue } : {});\r\n        }\r\n        if (layer && !point) {\r\n            console.error('Panorama: You cannot change the layer without point');\r\n        }\r\n        if (options) {\r\n            console.error(removeLeadingSpaces(`\n        The options of Panorama cannot be changed after entity init.\n\n        Solutions:\n        1. Use ymaps from ILoadEvent\n        2. Recreate Panorama component with new options\n      `));\r\n        }\r\n    }\r\n    _logErrors() {\r\n        if (!this.point) {\r\n            console.error('Panorama: point input is required.');\r\n            this.point = [];\r\n        }\r\n    }\r\n    _initScript() {\r\n        const sub = this._scriptService.initScript().subscribe(() => {\r\n            const id = generateRandomId();\r\n            this._createPanorama(id);\r\n        });\r\n        this._sub.add(sub);\r\n    }\r\n    /**\r\n     * Creates panorama with the player.\r\n     * @param id ID which will be set to the panorama container.\r\n     */\r\n    _createPanorama(id) {\r\n        const containerElem = this.panoramaContainer.nativeElement;\r\n        containerElem.setAttribute('id', id);\r\n        containerElem.style.cssText = 'width: 100%; height: 100%;';\r\n        /**\r\n         * Wrong typings in DefinitelyTyped.\r\n         */\r\n        ymaps.panorama\r\n            .locate(this.point, { layer: this.layer })\r\n            .then((panorama) => {\r\n            const player = new ymaps.panorama.Player(id, panorama[0], this.options);\r\n            this._player = player;\r\n            this.addEventListeners();\r\n        });\r\n    }\r\n    /**\r\n     * Adds listeners on the Panorama events.\r\n     */\r\n    addEventListeners() {\r\n        const player = this._player;\r\n        this._ngZone.run(() => this.load.emit({ ymaps, instance: player }));\r\n        const handlers = [\r\n            {\r\n                name: 'directionchange',\r\n                fn: (e) => this.direction.emit({\r\n                    ymaps,\r\n                    instance: player,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: ['fullscreenenter', 'fullscreenexit'],\r\n                fn: (e) => this.fullscreen.emit({\r\n                    ymaps,\r\n                    instance: player,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n            {\r\n                name: [\r\n                    'markercollapse',\r\n                    'markerexpand',\r\n                    'markermouseenter',\r\n                    'markermouseleave',\r\n                ],\r\n                fn: (e) => this.marker.emit({\r\n                    ymaps,\r\n                    instance: player,\r\n                    type: e.originalEvent.type,\r\n                    event: e,\r\n                }),\r\n            },\r\n        ];\r\n        handlers.forEach((handler) => {\r\n            player.events.add(handler.name, (e) => this._ngZone.run(() => handler.fn(e)));\r\n        });\r\n    }\r\n    ngOnDestroy() {\r\n        this._sub.unsubscribe();\r\n    }\r\n}\nYaPanoramaComponent.ɵfac = function YaPanoramaComponent_Factory(t) { return new (t || YaPanoramaComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ScriptService)); };\nYaPanoramaComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: YaPanoramaComponent, selectors: [[\"ya-panorama\"]], viewQuery: function YaPanoramaComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.panoramaContainer = _t.first);\n    } }, inputs: { point: \"point\", layer: \"layer\", options: \"options\" }, outputs: { load: \"load\", direction: \"direction\", fullscreen: \"fullscreen\", marker: \"marker\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 2, vars: 0, consts: [[\"container\", \"\"]], template: function YaPanoramaComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"div\", null, 0);\n    } }, styles: [\"\"] });\r\nYaPanoramaComponent.ctorParameters = () => [\r\n    { type: NgZone },\r\n    { type: ScriptService }\r\n];\r\nYaPanoramaComponent.propDecorators = {\r\n    panoramaContainer: [{ type: ViewChild, args: ['container',] }],\r\n    point: [{ type: Input }],\r\n    layer: [{ type: Input }],\r\n    options: [{ type: Input }],\r\n    load: [{ type: Output }],\r\n    direction: [{ type: Output }],\r\n    fullscreen: [{ type: Output }],\r\n    marker: [{ type: Output }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(YaPanoramaComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ya-panorama',\n                template: \"<div #container></div>\\n\",\n                styles: [\"\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: ScriptService }]; }, { load: [{\n            type: Output\n        }], direction: [{\n            type: Output\n        }], fullscreen: [{\n            type: Output\n        }], marker: [{\n            type: Output\n        }], point: [{\n            type: Input\n        }], panoramaContainer: [{\n            type: ViewChild,\n            args: ['container']\n        }], layer: [{\n            type: Input\n        }], options: [{\n            type: Input\n        }] }); })();\n\nclass AngularYandexMapsModule {\r\n    /**\r\n     * Please use this method when you register the module at the root level\r\n     * @param config\r\n     */\r\n    static forRoot(config) {\r\n        return {\r\n            ngModule: AngularYandexMapsModule,\r\n            providers: [{ provide: YA_MAP_CONFIG, useValue: config }],\r\n        };\r\n    }\r\n}\nAngularYandexMapsModule.ɵfac = function AngularYandexMapsModule_Factory(t) { return new (t || AngularYandexMapsModule)(); };\nAngularYandexMapsModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: AngularYandexMapsModule });\nAngularYandexMapsModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[CommonModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AngularYandexMapsModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    YaClustererComponent,\n                    YaControlComponent,\n                    YaGeoObjectComponent,\n                    YaMapComponent,\n                    YaMultirouteComponent,\n                    YaPanoramaComponent,\n                    YaPlacemarkComponent,\n                ],\n                imports: [CommonModule],\n                exports: [\n                    YaClustererComponent,\n                    YaControlComponent,\n                    YaGeoObjectComponent,\n                    YaMapComponent,\n                    YaMultirouteComponent,\n                    YaPanoramaComponent,\n                    YaPlacemarkComponent,\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(AngularYandexMapsModule, { declarations: function () { return [YaClustererComponent, YaControlComponent, YaGeoObjectComponent, YaMapComponent, YaMultirouteComponent, YaPanoramaComponent, YaPlacemarkComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [YaClustererComponent, YaControlComponent, YaGeoObjectComponent, YaMapComponent, YaMultirouteComponent, YaPanoramaComponent, YaPlacemarkComponent]; } }); })();\n\n/*\r\n * Public API Surface of angular8-yandex-maps\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { AngularYandexMapsModule, ScriptService, YA_MAP_CONFIG, YaClustererComponent, YaControlComponent, YaGeoObjectComponent, YaMapComponent, YaMultirouteComponent, YaPanoramaComponent, YaPlacemarkComponent };\n\n//# sourceMappingURL=angular8-yandex-maps.js.map","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, Router } from '@angular/router';\nimport { IEventViewFull } from '@api/schemas/event/event-view-full.interface';\nimport { EventsService } from '@api/routes/events.service';\nimport { Observable } from 'rxjs';\nimport { notFound } from '@shared/utils/not-found.operator';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventsResolverService implements Resolve<IEventViewFull> {\n  constructor(\n    private readonly eventsService: EventsService,\n    private readonly router: Router\n  ) { }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<IEventViewFull> {\n    return this.eventsService.getSingle$(+route.params.id).pipe(notFound(this.router));\n  }\n}\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { IUserViewBase } from '@api/schemas/user/user-view-base.interface';\n\n\n@Component({\n  selector: 'app-user-info',\n  templateUrl: './user-info.component.html',\n  styleUrls: ['./user-info.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class UserInfoComponent {\n  @Input() public user: IUserViewBase;\n}\n","<div class=\"v-center\">\n    <a [routerLink]=\"user ? (user | accountUrl) : ''\" class=\"v-center\">\n        <app-ui-icon class=\"margin-right-10\" [src]=\"user?.info.picture\" [textAlternative]=\"user ? (user.info | personName) : ''\"></app-ui-icon>\n        <span class=\"subtitle-1\">{{ user ? (user.info | personName) : '' }}</span>\n    </a>\n</div>\n","import { OperatorFunction, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\nexport function notFound(router: Router): OperatorFunction<any, any> {\n    return catchError((error: HttpErrorResponse) => {\n        if (error.status === 404 || error.status === 422) {\n            router.navigateByUrl('/404');\n        }\n        return throwError(error);\n    });\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnInit, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ICompanyViewFull } from '@api/schemas/company/company-view-full.interface';\nimport { EventCurrencyEnum } from '@api/schemas/event/event-currency.enum';\nimport { SessionService } from '@app/services/session.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { } from 'angular8-yandex-maps';\nimport { takeUntil } from 'rxjs/operators';\nimport { IEventViewFull } from '@api/schemas/event/event-view-full.interface';\nimport { EventsService } from '@api/routes/events.service';\nimport { PublicationStageEnum } from '@api/schemas/article/publication-stage.enum';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-event-page',\n  templateUrl: './event-page.component.html',\n  styleUrls: ['./event-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class EventPageComponent extends AbstractComponent implements OnInit, OnDestroy {\n  @Input() public event: IEventViewFull;\n  @Input() public company: ICompanyViewFull;\n  @Input() public own: boolean;\n\n  public readonly publicationStageEnum: typeof PublicationStageEnum = PublicationStageEnum;\n\n  public share: boolean;\n  public shareBody: string;\n  public linkVk: string;\n  public linkFb: string;\n  public linkTw: string;\n  public linkIn: string;\n  public linkTg: string;\n\n  public pipeLng: string = this.translateService.currentLang === 'ru' ? 'ru_RU' : 'en_US';\n\n  public get price(): string {\n    switch (this.event.info.currency) {\n      case EventCurrencyEnum.FREE:\n        return this.translateService.instant('COMMON.FREE');\n      case EventCurrencyEnum.EUR:\n        return this.event.info.price ? `€${this.event.info.price}` : null;\n      case EventCurrencyEnum.USD:\n        return this.event.info.price ? `$${this.event.info.price}` : null;\n      case EventCurrencyEnum.RUB:\n        return this.event.info.price ? `${this.event.info.price} ₽` : null;\n      case EventCurrencyEnum.NONE:\n        return null;\n    }\n  }\n\n  public get dateWithTime(): boolean {\n    return (this.event.info.date % 10) === 0;\n  }\n\n  constructor(\n    private readonly eventsService: EventsService,\n    private readonly sessionService: SessionService,\n    private readonly changeDetectorRef: ChangeDetectorRef,\n    private readonly translateService: TranslateService,\n    public readonly router: Router,\n    public readonly userDropdown: UserDropdownService,\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.shareBody = 'https://ru.yachtsmanjournal.com' + this.router.url;\n    this.linkVk = 'https://vk.com/share.php?url=' + this.shareBody;\n    this.linkFb = 'https://www.facebook.com/sharer/sharer.php?u=' + this.shareBody;\n    this.linkTw = 'https://twitter.com/intent/tweet?url=' + this.shareBody;\n    this.linkIn = 'https://vk.com/share.php?url=' + this.shareBody;\n    this.linkTg = 'tg://msg_url?url=' + this.shareBody;\n  }\n\n  public goTo(url: string): void {\n    window.open(url, '_blank');\n  }\n\n  public bookmark(): void {\n    if (this.sessionService.loggedIn$.value) {\n      this.eventsService.bookmark$(this.event.meta.id, this.event.bookmarks.you).pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe(() => {\n          this.event.bookmarks.you = !this.event.bookmarks.you;\n          this.event.bookmarks.count += this.event.bookmarks.you ? 1 : -1;\n          this.changeDetectorRef.markForCheck();\n        });\n    } else {\n      this.userDropdown.setShowDropdown(true);\n    }\n  }\n\n  public toggleShare(): void {\n    this.share = !this.share;\n  }\n}\n","<app-ui-card [shadow]='false'>\n  <header class=\"margin-bottom-20\">\n    <section class=\"v-center mobile-small\">\n      <app-user-info class=\"margin-right-20\" [user]=\"event.company\"></app-user-info>\n      <span *ngIf=\"event.info.publicationStage !== publicationStageEnum.PUBLISHED\" class=\"overline c-caption\">Не опубликовано</span>\n      <div class=\"v-center align-right without-margin\">\n        <span class=\"caption fade-3 margin-right-8\">{{ event.info.publishedAt | date:'d MMMM HH:mm' : null : pipeLng }}</span>\n        <svg name=\"bookmark\" class=\"f-gray icon clickable margin-right-8\" \n          [class.active]=\"event.bookmarks.you\" (click)=\"bookmark()\"></svg>\n        <app-share [url]=\"null | url\" class=\"margin-right-10\"></app-share>\n        <app-action-menu-event *appLoggedIn [data]=\"event\" [own]=\"own\" (gone)=\"this.router.navigate(['/events'])\"></app-action-menu-event>\n      </div>\n    </section>\n  </header>\n  <article class=\"margin-bottom-30\">\n    <section class=\"event-info margin-bottom-30\">\n      <h2 class=\"margin-bottom-20\">{{ event.info.name }}</h2>\n      <div class=\"fade-1 v-center mobile-small\">\n        <h6 *ngIf=\"event.info.city\">{{ event.info.city }}</h6>\n        <h6 *ngIf=\"event.info.date\">\n          {{ dateWithTime ? (event.info.date | date:'d MMMM HH:00' : null : pipeLng)\n          : (event.info.date | date:'d MMMM' : null : pipeLng) }}\n        </h6>\n        <h6 *ngIf=\"price\">{{ price }}</h6>\n        <a class=\"button-1 button\" [href]=\"event.body.registrationLink\" target=\"_blank\">\n          <span class=\"margin-right-4\">{{'COMMON.REGISTER' | translate}}</span>\n          <svg class=\"f-white icon\" name=\"calendar\"></svg>\n        </a>\n      </div>\n    </section>\n    <app-wysiwyg-editor [initialData]=\"event.body.html\" [readOnly]=\"true\"></app-wysiwyg-editor>\n    <section>\n      <h3>{{ event.info.name }}</h3>\n      <table class=\"fade-1 f-primary info-table\">\n        <tr *ngIf=\"event.info.date\">\n          <td><svg name=\"calendar\"></svg></td>\n          <td>\n            <h6>\n              {{ dateWithTime ? (event.info.date | date:(pipeLng === 'ru_RU' ? 'd MMMM в HH:00' : 'd MMMM in HH:00') : null : pipeLng)\n              : (event.info.date | date:'d MMMM' : null : pipeLng) }}\n            </h6>\n          </td>\n        </tr>\n        <tr>\n          <td><svg name=\"geo\"></svg></td>\n          <td><h6>{{ event.body.address }}</h6></td>\n        </tr>\n        <tr *ngIf=\"price\">\n          <td><svg name=\"star\"></svg></td>\n          <td><h6>{{ price ? price : 'Цена не указана' }}</h6></td>\n        </tr>\n        <tr>\n          <td colspan=\"2\">\n            <a class=\"button-1 button\" [href]=\"event.body.registrationLink\" target=\"_blank\">\n              <span class=\"margin-right-4\">{{'COMMON.REGISTER' | translate}}</span>\n              <svg class=\"f-white icon\" name=\"calendar\"></svg>\n            </a>\n          </td>\n        </tr>\n      </table>\n    </section>\n  </article>\n  <footer>\n    <section class=\"v-center margin-bottom-20\">\n      <div class=\"c-gray v-center margin-right-20 clickable\" (click)=\"bookmark()\">\n        <svg name=\"bookmark\" class=\"margin-right-4 icon f-gray\" [class.active]=\"event.bookmarks && event.bookmarks.you\"></svg>\n        <span class=\"subtitle-2\">{{ event.bookmarks.count }}</span>\n      </div>\n      <div class=\"v-center margin-right-20\">\n        <svg name=\"view\" class=\"margin-right-4 icon f-gray\"></svg>\n        <span class=\"subtitle-2 c-gray\">{{ event.views.count }}</span>\n      </div>\n      <app-share [url]=\"null | url\"></app-share>\n    </section>\n  </footer>\n</app-ui-card>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { EventPageUnwrapComponent } from './event-page-unwrap.component';\nimport { EventsResolverService } from '@shared/services/events-resolver.service';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EventPageUnwrapComponent,\n    resolve: { data: EventsResolverService }\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EventPageRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { UserInfoComponent } from './user-info.component';\n\n\n\n@NgModule({\n  declarations: [UserInfoComponent],\n  imports: [CommonModule, SharedPipesModule, RouterModule, SharedUiModule],\n  exports: [UserInfoComponent],\n})\nexport class UserInfoModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { EventPageRoutingModule } from './event-page-routing.module';\nimport { EventPageUnwrapComponent } from './event-page-unwrap.component';\nimport { EventPageComponent } from './event-page.component';\nimport { AngularYandexMapsModule } from 'angular8-yandex-maps';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { CommonDirectivesModule } from '@shared/directives/directives.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { UserInfoModule } from '@shared/modules/user-info/user-info.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [EventPageUnwrapComponent, EventPageComponent],\n  imports: [\n    CommonModule,\n    EventPageRoutingModule,\n    SharedUiModule,\n    UserInfoModule,\n    SvgModule,\n    SharedComponentsModule,\n    SharedPipesModule,\n    CommonDirectivesModule,\n    SharedUiModule,\n    AngularYandexMapsModule,\n    TranslateModule.forChild(),\n  ],\n  exports: [EventPageUnwrapComponent],\n})\nexport class EventPageModule {}\n"]}