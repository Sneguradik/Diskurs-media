{"version":3,"sources":["webpack:///src/app/shared/services/users-resolver.service.ts","webpack:///src/app/modules/user/pages/user-jobs-page/user-jobs-page-routing.module.ts","webpack:///src/app/modules/user/pages/user-jobs-page/user-jobs-page.module.ts","webpack:///src/app/shared/modules/user-info/user-info.component.ts","webpack:///src/app/shared/modules/user-info/user-info.component.html","webpack:///src/app/shared/classes/pageable-conetnt.class.ts","webpack:///src/app/shared/utils/not-found.operator.ts","webpack:///src/app/modules/user/pages/user-jobs-page/user-jobs-page.component.ts","webpack:///src/app/modules/user/pages/user-jobs-page/user-jobs-page.component.html","webpack:///src/app/shared/modules/user-info/user-info.module.ts","webpack:///src/app/api/schemas/job/job-order.enum.ts"],"names":["UsersResolverService","usersService","router","resolve","route","getSingle$","params","id","pipe","providedIn","routes","path","component","data","UserJobsPageRoutingModule","forChild","imports","exports","UserJobsPageModule","declarations","UserInfoComponent","selector","templateUrl","styleUrls","changeDetection","OnPush","user","NO_CONTENT","Symbol","PageableContent","fetchNextFn$","options","isFetching$","content$","end$","content","page","totalPages","fetchCommand$","options$","_","subscribe","fetchNextPage","fetch","next","reset$","hard","it","splice","length","setOptionsWithReset$","value","response","push","error","notFound","status","navigateByUrl","UserJobsPageComponent","activatedRoute","sessionService","companiesService","permissionService","sidebarWrapperService","pageable","fetchPageFn$","bind","jobs","ngOnInit","setTimeout","params$","article","trending","navigation","live","showSidebar","id$","paramMap","get","test","parseInt","meta","ngOnDestroy$","user$","canSeeDrafts","hasAnyRole","jobs$","order","LAST_POST_TIME","stages","DRAFT","REVIEWING","PUBLISHED","BLOCKED","remove","job","findIndex","UserInfoModule","JobOrderEnum"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUaA,oB;AACX,sCACmBC,YADnB,EAEmBC,MAFnB,EAEiC;AAAA;;AADd,eAAAD,YAAA,GAAAA,YAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACd;;;;iBAEL,SAAAC,OAAO,CAACC,KAAD,EAA8B;AACnC,mBAAO,KAAKH,YAAL,CAAkBI,UAAlB,CAA6BD,KAAK,CAACE,MAAN,CAAaC,EAA1C,EAA8CC,IAA9C,CAAmD,kFAAS,KAAKN,MAAd,CAAnD,CAAP;AACD;;;;;;;;cARUF,oB;AAAoB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAApBA,oB;AAAoB,oBAFnB;;;;;;;cAEDA,oB;AAAoB;gBAHhC,wDAGgC;iBAHrB;AACVS,sBAAU,EAAE;AADF,W;AAGqB,U;;;;;;;;;;;;;;;;;;;;;;;;;ACVjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,UAAMC,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE,+EAFb;AAGET,eAAO,EAAE;AAAEU,cAAI,EAAE;AAAR;AAHX,OADqB,CAAvB;;UAYaC,yB;;;;;;;;cAAAA,yB;AAAyB,gB;AAAA;;;;;;cAAzBA,yB;AAAyB,+E;AAAA,kBAF1B,4DAE0B;;;;;;cAAzBA,yB;AAAyB,kBAH3B,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CAG2B,EAF1B,4DAE0B;;;;;;;cAAzBI,yB;AAAyB;gBAJrC,sDAIqC;iBAJ5B;AACRE,mBAAO,EAAE,CAAC,6DAAaD,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERO,mBAAO,EAAE,CAAC,4DAAD;AAFD,W;AAI4B;;;;;;;;;;;;;;;;;;AClBtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAoBaC,kB;;;;;;;;cAAAA,kB;AAAkB,gB;AAAA;;;;;;cAAlBA,kB;AAAkB,uBATd,+EASc,C;AATO,kBAElC,4DAFkC,EAGlC,wFAHkC,EAIlC,0EAJkC,EAKlC,6FALkC,EAMlC,kGANkC;;;;;;cASzBA,kB;AAAkB,kBARpB,CACP,4DADO,EAEP,wFAFO,EAGP,0EAHO,EAIP,6FAJO,EAKP,kGALO,CAQoB;;;;;;;cAAlBA,kB;AAAkB;gBAV9B,sDAU8B;iBAVrB;AACRC,wBAAY,EAAE,CAAC,+EAAD,CADN;AAERH,mBAAO,EAAE,CACP,4DADO,EAEP,wFAFO,EAGP,0EAHO,EAIP,6FAJO,EAKP,kGALO;AAFD,W;AAUqB;;;;;;;;;;;;;;;;;;ACpB/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUaI,iB;;;;;;;;cAAAA,iB;AAAiB,gB;AAAA;;;;;cAAjBA,iB;AAAiB,iC;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCV9B,wW;AAMA,+L;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cDIaA,iB;AAAiB;gBAN7B,uDAM6B;iBANnB;AACTC,oBAAQ,EAAE,eADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTC,qBAAS,EAAE,CAAC,4BAAD,CAHF;AAITC,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMmB,U;;AACZC,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE;;;;;;;;;;;;;;;;;;;AEXxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAIO,UAAMC,UAAU,GAAGC,MAAM,CAAC,YAAD,CAAzB;;UAEMC,e;AAYX,iCACmBC,YADnB,EAEmB;AAAA;;AAAA,cAAjBC,OAAiB,uEAAJ,IAAI;;AAAA;;AADA,eAAAD,YAAA,GAAAA,YAAA;AAZH,eAAAE,WAAA,GAAwC,IAAI,oDAAJ,CAA6B,KAA7B,CAAxC;AACA,eAAAC,QAAA,GAAyB,IAAI,4CAAJ,EAAzB;AAEA,eAAAC,IAAA,GAAO,IAAI,4CAAJ,EAAP;AAET,eAAAC,OAAA,GAAe,EAAf;AACA,eAAAC,IAAA,GAAO,CAAC,CAAR;AACA,eAAAC,UAAA,GAAa,CAAb;AAEU,eAAAC,aAAA,GAAgC,IAAI,4CAAJ,EAAhC;AAMf,eAAKC,QAAL,GAAgB,IAAI,oDAAJ,CAAuBR,OAAvB,CAAhB;AACA,eAAKO,aAAL,CAAmB9B,IAAnB,CAAwB,gEAAS;AAAA,mBAAM,KAAI,CAACwB,WAAL,CAAiBxB,IAAjB,CAAsB,8DAAO,UAACgC,CAAD;AAAA,qBAAgB,CAACA,CAAjB;AAAA,aAAP,CAAtB,CAAN;AAAA,WAAT,CAAxB,EAA2FC,SAA3F,CAAqG;AAAA,mBAAM,KAAI,CAACC,aAAL,EAAN;AAAA,WAArG;AACD;;;;iBAEM,SAAAC,KAAK;AACV,gBAAI,KAAKP,IAAL,GAAY,KAAKC,UAAL,GAAkB,CAAlC,EAAqC;AACnC,mBAAKC,aAAL,CAAmBM,IAAnB;AACD;AACF;;;iBAEM,SAAAC,MAAM,GAAqB;AAAA;;AAAA,gBAApBC,IAAoB,uEAAJ,IAAI;AAChC,mBAAO,KAAKd,WAAL,CAAiBxB,IAAjB,CACL,8DAAO,UAACuC,EAAD;AAAA,qBAAiB,CAACA,EAAlB;AAAA,aAAP,CADK,EAEL,8DAFK,EAGL,2DAAI,YAAM;AACR,kBAAID,IAAJ,EAAU;AACR,sBAAI,CAACX,OAAL,CAAaa,MAAb,CAAoB,CAApB,EAAuB,MAAI,CAACb,OAAL,CAAac,MAApC;AACD;;AACD,oBAAI,CAACb,IAAL,GAAY,CAAC,CAAb;AACA,oBAAI,CAACC,UAAL,GAAkB,CAAlB;AACD,aAND,CAHK,CAAP;AAWD;;;iBAEM,SAAAa,oBAAoB,CAACnB,OAAD,EAAiC;AAAA;;AAAA,gBAApBe,IAAoB,uEAAJ,IAAI;AAC1D,mBAAO,KAAKD,MAAL,CAAYC,IAAZ,EAAkBtC,IAAlB,CACL,2DAAI,YAAM;AACR,oBAAI,CAAC+B,QAAL,CAAcK,IAAd,CAAmBb,OAAnB;;AACA,oBAAI,CAACY,KAAL;AACD,aAHD,CADK,EAKL,6DAAMZ,OAAN,CALK,CAAP;AAOD;;;iBAEO,SAAAW,aAAa;AAAA;;AACnB,iBAAKV,WAAL,CAAiBY,IAAjB,CAAsB,IAAtB;AACA,iBAAKd,YAAL,CAAkB,KAAKM,IAAL,GAAY,CAA9B,EAAiC,KAAKG,QAAL,CAAcY,KAA/C,EAAsDV,SAAtD,CACE,UAACW,QAAD,EAAgC;AAAA;;AAC9B,oBAAI,CAAChB,IAAL,GAAYgB,QAAQ,CAAChB,IAArB;AACA,oBAAI,CAACC,UAAL,GAAkBe,QAAQ,CAACf,UAA3B;;AACA,oBAAI,CAACJ,QAAL,CAAcW,IAAd,CAAmBQ,QAAQ,CAACjB,OAA5B;;AACA,kBAAI,MAAI,CAACC,IAAL,IAAa,MAAI,CAACC,UAAL,GAAkB,CAAnC,EAAsC;AACpC,sBAAI,CAACH,IAAL,CAAUU,IAAV;AACD;;AACD,sCAAI,CAACT,OAAL,EAAakB,IAAb,0CAAqBD,QAAQ,CAACjB,OAA9B;;AACA,oBAAI,CAACH,WAAL,CAAiBY,IAAjB,CAAsB,KAAtB;AACD,aAVH,EAWE,UAACU,KAAD,EAAgB;AACd,oBAAI,CAACtB,WAAL,CAAiBY,IAAjB,CAAsB,KAAtB;;AACA,kBAAIU,KAAK,KAAK1B,MAAM,CAAC,YAAD,CAApB,EAAoC;AAClC,sBAAM0B,KAAN;AACD;AACF,aAhBH;AAkBD;;;;;;;;;;;;;;;;;;;AC5EH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAKO,eAASC,QAAT,CAAkBrD,MAAlB,EAAgC;AACnC,eAAO,kEAAW,UAACoD,KAAD,EAA8B;AAC5C,cAAIA,KAAK,CAACE,MAAN,KAAiB,GAAjB,IAAwBF,KAAK,CAACE,MAAN,KAAiB,GAA7C,EAAkD;AAC9CtD,kBAAM,CAACuD,aAAP,CAAqB,MAArB;AACH;;AACD,iBAAO,wDAAWH,KAAX,CAAP;AACH,SALM,CAAP;AAMH;;;;;;;;;;;;;;;;;ACZD;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAuBaI,qB;AAOX,uCACmBzD,YADnB,EAEmB0D,cAFnB,EAGmBC,cAHnB,EAImBC,gBAJnB,EAKmBC,iBALnB,EAMmBC,qBANnB,EAM+D;AAAA;;AAAA;;AAE7D;AAPiB,iBAAA9D,YAAA,GAAAA,YAAA;AACA,iBAAA0D,cAAA,GAAAA,cAAA;AACA,iBAAAC,cAAA,GAAAA,cAAA;AACA,iBAAAC,gBAAA,GAAAA,gBAAA;AACA,iBAAAC,iBAAA,GAAAA,iBAAA;AACA,iBAAAC,qBAAA,GAAAA,qBAAA;AAZH,iBAAAC,QAAA,GACd,IAAI,sFAAJ,CAAuD,OAAKC,YAAL,CAAkBC,IAAlB,QAAvD,EAAqF,IAArF,CADc;AAGT,iBAAAC,IAAA,GAAmB,EAAnB;AASwD;AAG9D;;;;;;iBAED,SAAAC,QAAQ;AAAA;;AACNC,sBAAU,CAAC,YAAM;AACf,oBAAI,CAACN,qBAAL,CAA2BO,OAA3B,CAAmC1B,IAAnC,CAAwC;AAAE2B,uBAAO,EAAE,KAAX;AAAkBC,wBAAQ,EAAE,IAA5B;AAAkCC,0BAAU,EAAE,IAA9C;AAAoDC,oBAAI,EAAE,KAA1D;AAAiEC,2BAAW,EAAE;AAA9E,eAAxC;AACD,aAFS,CAAV;AAIA,iBAAKC,GAAL,GAAW,KAAKjB,cAAL,CAAoBkB,QAApB,CAA6BrE,IAA7B,CACT,2DAAI,UAACqE,QAAD,EAAwB;AAC1B,kBAAMtE,EAAE,GAAGsE,QAAQ,CAACC,GAAT,CAAa,IAAb,CAAX;AACA,qBAAO,QAAQC,IAAR,CAAaxE,EAAb,IAAmByE,QAAQ,CAACzE,EAAD,EAAK,EAAL,CAA3B,GAAsCA,EAA7C;AACD,aAHD,CADS,EAKT,iEAAU,UAACA,EAAD;AAAA,qBAAyB,MAAI,CAACN,YAAL,CAAkBI,UAAlB,CAA6BE,EAA7B,CAAzB;AAAA,aAAV,CALS,EAMT,2DAAI,UAACmB,IAAD;AAAA,qBAAyBA,IAAI,CAACuD,IAAL,CAAU1E,EAAnC;AAAA,aAAJ,CANS,CAAX;AASA,iBAAKyD,QAAL,CAAc/B,QAAd,CAAuBzB,IAAvB,CAA4B,iEAAU,KAAK0E,YAAf,CAA5B,EAA0DzC,SAA1D,CAAoE,UAACN,OAAD,EAAyB;AAAA;;AAC3F,mCAAI,CAACgC,IAAL,EAAUd,IAAV,uCAAkBlB,OAAlB;AACD,aAFD;AAGA,uEAAc,CAAC,KAAKyC,GAAN,EAAW,KAAKhB,cAAL,CAAoBuB,KAA/B,CAAd,EAAqD3E,IAArD,CACE,2DAAI,UAACuB,OAAD,EAAsC;AACxC,oBAAI,CAACoC,IAAL,CAAUnB,MAAV,CAAiB,CAAjB,EAAoB,MAAI,CAACmB,IAAL,CAAUlB,MAA9B;;AACA,oBAAI,CAACe,QAAL,CAAczB,QAAd,CAAuBK,IAAvB,CAA4Bb,OAA5B;AACD,aAHD,CADF,EAKE,iEAAU;AAAA,qBAAM,MAAI,CAACiC,QAAL,CAAcnB,MAAd,EAAN;AAAA,aAAV,CALF,EAME,iEAAU,KAAKqC,YAAf,CANF,EAOEzC,SAPF,CAOY,YAAM;AAChB,oBAAI,CAACuB,QAAL,CAAcrB,KAAd;AACD,aATD;AAUD;;;iBAEO,SAAAsB,YAAY,CAAC7B,IAAD,EAAeL,OAAf,EAAwE;AAC1F,gBAAIA,OAAO,KAAK,IAAhB,EAAsB;AACpB,qBAAO,wDAAW,iFAAX,CAAP;AACD;;AACD,gBAAMqD,YAAY,GAAYrD,OAAO,CAAC,CAAD,CAAP,KAAe,IAAf,KAAwBA,OAAO,CAAC,CAAD,CAAP,CAAWkD,IAAX,CAAgB1E,EAAhB,KAAuBwB,OAAO,CAAC,CAAD,CAA9B,IAAqC,KAAK+B,iBAAL,CAAuBuB,UAAvB,CAAkCtD,OAAO,CAAC,CAAD,CAAzC,EAA8C,SAA9C,CAA7D,CAA9B;AACA,mBAAO,KAAK8B,gBAAL,CAAsByB,KAAtB,CAA4BvD,OAAO,CAAC,CAAD,CAAnC,EAAwCK,IAAxC,EAA8C;AACnDmD,mBAAK,EAAE,6EAAaC,cAD+B;AAEnDC,oBAAM,EAAEL,YAAY,GAChB,CACE,iGAAqBM,KADvB,EAEE,iGAAqBC,SAFvB,EAGE,iGAAqBC,SAHvB,EAIE,iGAAqBC,OAJvB,CADgB,GAOhB,CAAC,iGAAqBD,SAAtB;AAT+C,aAA9C,CAAP;AAWD;;;iBAEM,SAAAE,MAAM,CAACC,GAAD,EAAc;AACzB,iBAAK5B,IAAL,CAAUnB,MAAV,CAAiB,KAAKmB,IAAL,CAAU6B,SAAV,CAAoB,UAACjD,EAAD;AAAA,qBAAkBA,EAAE,KAAKgD,GAAzB;AAAA,aAApB,CAAjB,EAAoE,CAApE;AACD;;QAnEwC,0F;;;;;;cAA9BrC,qB;AAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAArBA,qB;AAAqB,sC;AAAA,6B;AAAA,4D;AAAA,kBCvBlC,+O;AAMA,olB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;cDiBaA,qB;AAAqB;gBALjC,uDAKiC;iBALvB;AACTrC,oBAAQ,EAAE,oBADD;AAETC,uBAAW,EAAE,iCAFJ;AAGTC,qBAAS,EAAE,CAAC,iCAAD;AAHF,W;AAKuB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEvBlC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAca0E,c;;;;;;;;cAAAA,c;AAAc,gB;AAAA;;;;;;cAAdA,c;AAAc,uBAJV,sEAIU,C;AAJO,kBACtB,4DADsB,EACR,mFADQ,EACW,4DADX,EACyB,0EADzB,C;AACuC,kBAC7D,sEAD6D;;;;;;cAG5DA,c;AAAc,kBAHhB,CAAC,4DAAD,EAAe,mFAAf,EAAkC,4DAAlC,EAAgD,0EAAhD,CAGgB;;;;;;;cAAdA,c;AAAc;gBAL1B,sDAK0B;iBALjB;AACR9E,wBAAY,EAAE,CAAC,sEAAD,CADN;AAERH,mBAAO,EAAE,CAAC,4DAAD,EAAe,mFAAf,EAAkC,4DAAlC,EAAgD,0EAAhD,CAFD;AAGRC,mBAAO,EAAE,CAAC,sEAAD;AAHD,W;AAKiB;;;;;;;;;;;;;;;;;;ACd3B;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYiF,YAAZ;;AAAA,iBAAYA,YAAZ,EAAwB;AACtB;AACA;AACA;AACA;AACD,OALD,EAAYA,YAAY,KAAZA,YAAY,MAAxB","file":"pages-user-jobs-page-user-jobs-page-module-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, Router } from '@angular/router';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { UsersService } from '@api/routes/users.service';\nimport { Observable } from 'rxjs';\nimport { notFound } from '@shared/utils/not-found.operator';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UsersResolverService implements Resolve<IUserViewFull> {\n  constructor(\n    private readonly usersService: UsersService,\n    private readonly router: Router\n  ) { }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<IUserViewFull> {\n    return this.usersService.getSingle$(route.params.id).pipe(notFound(this.router));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { UserJobsPageComponent } from './user-jobs-page.component';\nimport { UsersResolverService } from '@shared/services/users-resolver.service';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserJobsPageComponent,\n    resolve: { data: UsersResolverService }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UserJobsPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UserJobsPageRoutingModule } from './user-jobs-page-routing.module';\nimport { UserJobsPageComponent } from './user-jobs-page.component';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { JobPreviewModule } from '@modules/jobs/job-preview/job-preview.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\n\n\n@NgModule({\n  declarations: [UserJobsPageComponent],\n  imports: [\n    CommonModule,\n    UserJobsPageRoutingModule,\n    SharedUiModule,\n    JobPreviewModule,\n    SharedComponentsModule\n  ]\n})\nexport class UserJobsPageModule { }\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { IUserViewBase } from '@api/schemas/user/user-view-base.interface';\n\n\n@Component({\n  selector: 'app-user-info',\n  templateUrl: './user-info.component.html',\n  styleUrls: ['./user-info.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class UserInfoComponent {\n  @Input() public user: IUserViewBase;\n}\n","<div class=\"v-center\">\n    <a [routerLink]=\"user ? (user | accountUrl) : ''\" class=\"v-center\">\n        <app-ui-icon class=\"margin-right-10\" [src]=\"user?.info.picture\" [textAlternative]=\"user ? (user.info | personName) : ''\"></app-ui-icon>\n        <span class=\"subtitle-1\">{{ user ? (user.info | personName) : '' }}</span>\n    </a>\n</div>\n","import { BehaviorSubject, Subject, Observable } from 'rxjs';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { debounce, filter, first, tap, mapTo } from 'rxjs/operators';\n\nexport const NO_CONTENT = Symbol('NO_CONTENT');\n\nexport class PageableContent<T, O = any> {\n  public readonly isFetching$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  public readonly content$: Subject<T[]> = new Subject<T[]>();\n  public readonly options$: BehaviorSubject<O>;\n  public readonly end$ = new Subject();\n\n  public content: T[] = [];\n  public page = -1;\n  public totalPages = 1;\n\n  private readonly fetchCommand$: Subject<never> = new Subject<never>();\n\n  constructor(\n    private readonly fetchNextFn$: (page: number, options: O) => Observable<IPageResponse<T>>,\n    options: O = null\n  ) {\n    this.options$ = new BehaviorSubject<O>(options);\n    this.fetchCommand$.pipe(debounce(() => this.isFetching$.pipe(filter((_: boolean) => !_)))).subscribe(() => this.fetchNextPage());\n  }\n\n  public fetch(): void {\n    if (this.page < this.totalPages - 1) {\n      this.fetchCommand$.next();\n    }\n  }\n\n  public reset$(hard: boolean = true): Observable<any> {\n    return this.isFetching$.pipe(\n      filter((it: boolean) => !it),\n      first(),\n      tap(() => {\n        if (hard) {\n          this.content.splice(0, this.content.length);\n        }\n        this.page = -1;\n        this.totalPages = 1;\n      }),\n    );\n  }\n\n  public setOptionsWithReset$(options: O, hard: boolean = true): Observable<O> {\n    return this.reset$(hard).pipe(\n      tap(() => {\n        this.options$.next(options);\n        this.fetch();\n      }),\n      mapTo(options),\n    );\n  }\n\n  private fetchNextPage(): void {\n    this.isFetching$.next(true);\n    this.fetchNextFn$(this.page + 1, this.options$.value).subscribe(\n      (response: IPageResponse<T>) => {\n        this.page = response.page;\n        this.totalPages = response.totalPages;\n        this.content$.next(response.content);\n        if (this.page >= this.totalPages - 1) {\n          this.end$.next();\n        }\n        this.content.push(...response.content);\n        this.isFetching$.next(false);\n      },\n      (error: any) => {\n        this.isFetching$.next(false);\n        if (error !== Symbol('NO_CONTENT')) {\n          throw error;\n        }\n      },\n    );\n  }\n}\n","import { OperatorFunction, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\nexport function notFound(router: Router): OperatorFunction<any, any> {\n    return catchError((error: HttpErrorResponse) => {\n        if (error.status === 404 || error.status === 422) {\n            router.navigateByUrl('/404');\n        }\n        return throwError(error);\n    });\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IJobView } from '@api/schemas/job/job-view.interface';\nimport { PageableContent, NO_CONTENT } from '@shared/classes/pageable-conetnt.class';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { Observable, combineLatest, throwError } from 'rxjs';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\nimport { takeUntil, map, tap, switchMap } from 'rxjs/operators';\nimport { SessionService } from '@app/services/session.service';\nimport { UsersService } from '@api/routes/users.service';\nimport { CompaniesService } from '@api/routes/companies.service';\nimport { EventFiltersEnum } from '@api/schemas/event/event-filters.enum';\nimport { PublicationStageEnum } from '@api/schemas/article/publication-stage.enum';\nimport { PermissionService } from '@app/services/permission/permission.service';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { JobOrderEnum } from '@api/schemas/job/job-order.enum';\n\n@Component({\n  selector: 'app-user-jobs-page',\n  templateUrl: './user-jobs-page.component.html',\n  styleUrls: ['./user-jobs-page.component.scss']\n})\nexport class UserJobsPageComponent extends AbstractComponent implements OnInit, OnDestroy {\n  public readonly pageable: PageableContent<IJobView, [number, IUserViewFull]> =\n    new PageableContent<IJobView, [number, IUserViewFull]>(this.fetchPageFn$.bind(this), null);\n\n  public jobs: IJobView[] = [];\n  public id$: Observable<number>;\n\n  constructor(\n    private readonly usersService: UsersService,\n    private readonly activatedRoute: ActivatedRoute,\n    private readonly sessionService: SessionService,\n    private readonly companiesService: CompaniesService,\n    private readonly permissionService: PermissionService,\n    private readonly sidebarWrapperService: SidebarWrapperService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: true, navigation: true, live: false, showSidebar: true });\n    });\n\n    this.id$ = this.activatedRoute.paramMap.pipe(\n      map((paramMap: ParamMap) => {\n        const id = paramMap.get('id');\n        return /^\\d+$/.test(id) ? parseInt(id, 10) : id;\n      }),\n      switchMap((id: string | number) => this.usersService.getSingle$(id)),\n      map((user: IUserViewFull) => user.meta.id)\n    );\n\n    this.pageable.content$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((content: IJobView[]) => {\n      this.jobs.push(...content);\n    });\n    combineLatest([this.id$, this.sessionService.user$]).pipe(\n      tap((options: [number, IUserViewFull]) => {\n        this.jobs.splice(0, this.jobs.length);\n        this.pageable.options$.next(options);\n      }),\n      switchMap(() => this.pageable.reset$()),\n      takeUntil(this.ngOnDestroy$),\n    ).subscribe(() => {\n      this.pageable.fetch();\n    });\n  }\n\n  private fetchPageFn$(page: number, options: [number, IUserViewFull, EventFiltersEnum] | null): Observable<IPageResponse<IJobView>> {\n    if (options === null) {\n      return throwError(NO_CONTENT);\n    }\n    const canSeeDrafts: boolean = options[1] !== null && (options[1].meta.id === options[0] || this.permissionService.hasAnyRole(options[1], 'EDITOR$'));\n    return this.companiesService.jobs$(options[0], page, {\n      order: JobOrderEnum.LAST_POST_TIME,\n      stages: canSeeDrafts\n        ? [\n            PublicationStageEnum.DRAFT,\n            PublicationStageEnum.REVIEWING,\n            PublicationStageEnum.PUBLISHED,\n            PublicationStageEnum.BLOCKED\n        ]\n        : [PublicationStageEnum.PUBLISHED],\n    });\n  }\n\n  public remove(job: IJobView): void {\n    this.jobs.splice(this.jobs.findIndex((it: IJobView) => it === job), 1);\n  }\n}\n","<ul class=\"block-card item-space-40\">\n    <li *ngFor=\"let job of jobs\">\n        <app-job-preview [job]=\"job\" (gone)=\"remove(job)\"></app-job-preview>\n    </li>\n</ul>\n<app-pagination [pageable]=\"pageable\"></app-pagination>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { UserInfoComponent } from './user-info.component';\n\n\n\n@NgModule({\n  declarations: [UserInfoComponent],\n  imports: [CommonModule, SharedPipesModule, RouterModule, SharedUiModule],\n  exports: [UserInfoComponent],\n})\nexport class UserInfoModule {}\n","export enum JobOrderEnum {\n  NAME = 'NAME',\n  LAST_POST_TIME = 'LAST_POST_TIME',\n  VIEWS = 'VIEWS',\n  BOOKMARKS = 'BOOKMARKS'\n}\n"]}