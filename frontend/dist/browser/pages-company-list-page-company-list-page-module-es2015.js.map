{"version":3,"sources":["./src/app/modules/content-overview/pages/company-list-page/company-list-page.module.ts","./src/app/modules/content-overview/pages/company-list-page/company-list-page.component.ts","./src/app/modules/content-overview/pages/company-list-page/company-list-page.component.html","./src/app/modules/content-overview/pages/company-list-page/company-list-page-routing.module.ts"],"names":[],"mappings":"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","file":"pages-company-list-page-company-list-page-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CompanyListPageRoutingModule } from './company-list-page-routing.module';\nimport { CompanyListPageComponent } from './company-list-page.component';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { FiltersModule } from '@shared/modules/filters/filters.module';\nimport { RangesModule } from '@shared/modules/ranges/ranges.module';\nimport { NavbarModule } from '@modules/content-overview/navbar/navbar.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { UserViewModule } from '@shared/modules/user-view/user-view.module';\n\n\n@NgModule({\n  declarations: [CompanyListPageComponent],\n  imports: [\n    CommonModule,\n    CompanyListPageRoutingModule,\n    SharedUiModule,\n    SharedPipesModule,\n    SharedComponentsModule,\n    SvgModule,\n    FiltersModule,\n    RangesModule,\n    NavbarModule,\n    TranslateModule.forChild(),\n    UserViewModule\n  ]\n})\nexport class CompanyListPageModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { AbstractUserListComponent } from '@shared/classes/abstract-user-list-component';\nimport { CompaniesService } from '@api/routes/companies.service';\nimport { SessionService } from '@app/services/session.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ICompanyView } from '@api/schemas/company/company-view.interface';\nimport { extractQuery } from '@shared/functions/extract-query.function';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-company-list-page',\n  templateUrl: './company-list-page.component.html',\n  styleUrls: ['./company-list-page.component.scss']\n})\nexport class CompanyListPageComponent extends AbstractUserListComponent implements OnInit, OnDestroy {\n  public companies: ICompanyView[] = [];\n\n  constructor(\n    protected readonly translateService: TranslateService,\n    private readonly sidebarWrapperService: SidebarWrapperService,\n    private readonly companiesService: CompaniesService,\n    private readonly sessionService: SessionService\n  ) {\n    super(translateService);\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: true, navigation: true, live: false, showSidebar: true });\n    });\n\n    super.ngOnInit();\n  }\n\n  public fetchNextPage(): void {\n    if (!this.isLoading && this.currentPage < this.totalPages - 1) {\n      this.isLoading$.next(true);\n      this.currentPage += 1;\n      this.companiesService.get$(this.currentPage, {\n        query: this.query || undefined,\n        ...extractQuery(this.selectedRange),\n        ...extractQuery(this.selectedFilter),\n      }).pipe(takeUntil(this.ngOnDestroy$)).subscribe((response: IPageResponse<ICompanyView>) => {\n        const handledItems = response.content.filter((item: ICompanyView) => item.meta.id !== this.sessionService.userId);\n        this.companies.push(...handledItems);\n        this.currentPage = response.page;\n        this.totalPages = response.totalPages;\n        this.isLoading$.next(false);\n      });\n    }\n  }\n\n  public remove(id: number): void {\n    this.companies = this.companies.filter((company: ICompanyView) => company.meta.id !== id);\n  }\n\n  public reset(): void {\n    this.currentPage = -1;\n    this.totalPages = 1;\n    this.companies = [];\n    this.fetchNextPage();\n  }\n}\n","<app-navbar [searchPlaceholder]=\"'COMMON.SEARCH_BY_COMPANY' | translate\" activeItem=\"{{ 'COMMON.COMPANIES' | translate }}\" (search)=\"handleSearch($event)\"></app-navbar>\n<app-filters [filters]=\"filters\" [activeFilter]=\"activeFilter\" (toggleFilter)=\"filterEvent($event)\"></app-filters>\n<app-ranges [ranges]=\"ranges\" [activeRange]=\"activeRange\" (toggleRange)=\"rangeEvent($event)\"></app-ranges>\n\n<ul class=\"block-card item-space-20\">\n    <app-user-view\n        *ngFor=\"let company of companies\"\n        [data]=\"company\"\n        (gone)=\"remove($event)\">\n        <footer>\n            <div class=\"row\">\n                <p class=\"stats-item\">\n                    {{ 'COMMON.PUBLICATIONS_' | translate}}\n                    <span class=\"stats-item__value\">{{ company.postCount | bigNumbers }}</span>\n                </p>\n                <p class=\"stats-item\">\n                    {{ 'COMMON.VACANCIES_' | translate}}\n                    <span class=\"stats-item__value\">{{ company.jobCount | bigNumbers }}</span>\n                </p>\n                <p class=\"stats-item\">\n                    {{ 'COMMON.EVENT_'  | translate}}\n                    <span class=\"stats-item__value\">{{ company.eventCount | bigNumbers }}</span>\n                </p>\n                <aside class=\"subscribers\">\n                    <p class=\"stats-item\">\n                        {{ 'COMMON.SUBSCRIBERS' | translate}}\n                        <span class=\"stats-item__value\">{{ company.subscribers.count | bigNumbers }}</span>\n                    </p>\n                </aside>\n            </div>\n            <p class=\"description\">\n                {{ company.info.bio }}\n            </p>\n        </footer>\n    </app-user-view>\n</ul>\n\n<app-pagination [page]=\"currentPage\" [maxPages]=\"totalPages\" [enabled]=\"!isLoading\" (onPage)=\"fetchNextPage()\"></app-pagination>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CompanyListPageComponent } from './company-list-page.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CompanyListPageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CompanyListPageRoutingModule { }\n"],"sourceRoot":"webpack:///"}