{"version":3,"sources":["./src/app/blocker/blocker.module.ts","./src/app/blocker/blocker-routing.module.ts","./src/app/blocker/blocker.component.ts","./src/app/blocker/blocker.component.html"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AAEiB;AACA;AACE;;AAY3D,MAAM,aAAa;;8LAAb,aAAa;+LAAb,aAAa,iBART,2EAAgB,aAE7B,4DAAY;QACZ,4EAAoB;QACpB,0DAAW;QACX,kEAAmB;+LAGV,aAAa,YAPf;YACP,4DAAY;YACZ,4EAAoB;YACpB,0DAAW;YACX,kEAAmB;SACpB;+KAEU,aAAa;kBATzB,sDAAQ;mBAAC;oBACR,YAAY,EAAE,CAAC,2EAAgB,CAAC;oBAChC,OAAO,EAAE;wBACP,4DAAY;wBACZ,4EAAoB;wBACpB,0DAAW;wBACX,kEAAmB;qBACpB;iBACF;;;;;;;;;;;;;;AChBD;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AACA;;;AAEvD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,mEAAgB;KAC5B;CACF,CAAC;AAMK,MAAM,oBAAoB;;qMAApB,oBAAoB;sMAApB,oBAAoB,qFAFrB,4DAAY;sMAEX,oBAAoB,YAHtB,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAC9B,4DAAY;+KAEX,oBAAoB;kBAJhC,sDAAQ;mBAAC;oBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;oBACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;iBACxB;;;;;;;;;;;;;;ACdD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0C;AAEmC;AACE;AAKrD;;;;;;;AAOnB,MAAM,gBAAiB,SAAQ,0FAAiB;IAKrD,YACmB,WAAwB,EACxB,YAA0B,EAC1B,MAAc;QAC7B,KAAK,EAAE,CAAC;QAHO,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,WAAM,GAAN,MAAM,CAAQ;QAP1B,aAAQ,GAAG,EAAE,CAAC;QACd,aAAQ,GAAG,EAAE,CAAC;QACd,UAAK,GAAG,KAAK,CAAC;IAMR,CAAC;IAEP,MAAM,CAAC,KAAU;QACtB,IAAI,KAAK,CAAC,OAAO,KAAK,EAAE,EAAE;YACxB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CACxD,gEAAS,CAAC,CAAC,MAAkB,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EACnE,6DAAM,CAAC,CAAC,IAAe,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EACnC,0DAAG,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EACzC,iEAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBAClB,OAAO,+CAAE,CAAC,IAAI,CAAC,CAAC;YAClB,CAAC,CAAC,EACF,gEAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAC7B,CAAC,SAAS,EAAE,CAAC;SACf;IACH,CAAC;;iMAxBU,gBAAgB;6IAAhB,gBAAgB,kHCf7B,6xBAQA;+KDOa,gBAAgB;kBAL5B,uDAAS;mBAAC;oBACT,QAAQ,EAAE,aAAa;oBACvB,WAAW,EAAE,0BAA0B;oBACvC,SAAS,EAAE,CAAC,0BAA0B,CAAC;iBACxC","file":"blocker-blocker-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { BlockerRoutingModule } from './blocker-routing.module';\nimport { BlockerComponent } from '../blocker/blocker.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [BlockerComponent],\n  imports: [\n    CommonModule,\n    BlockerRoutingModule,\n    FormsModule,\n    ReactiveFormsModule\n  ]\n})\nexport class BlockerModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BlockerComponent } from './blocker.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BlockerComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class BlockerRoutingModule { }\n","import { Component } from '@angular/core';\nimport { AuthService } from '@api/routes/auth.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { switchMap, filter, tap, takeUntil, catchError } from 'rxjs/operators';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\nimport { LoginService } from '@app/services/login.service';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { Router } from '@angular/router';\nimport { of } from 'rxjs';\n\n@Component({\n  selector: 'app-blocker',\n  templateUrl: './blocker.component.html',\n  styleUrls: ['./blocker.component.scss']\n})\nexport class BlockerComponent extends AbstractComponent {\n  public username = '';\n  public password = '';\n  public error = false;\n\n  constructor(\n    private readonly authService: AuthService,\n    private readonly loginService: LoginService,\n    private readonly router: Router\n  ) { super(); }\n\n  public submit(event: any): void {\n    if (event.keyCode === 13) {\n      this.authService.login$(this.username, this.password).pipe(\n        switchMap((tokens: IApiTokens) => this.loginService.login$(tokens)),\n        filter((user: IUserView) => !!user),\n        tap(() => this.router.navigate(['/all'])),\n        catchError(() => {\n          this.error = true;\n          return of(null);\n        }),\n        takeUntil(this.ngOnDestroy$)\n      ).subscribe();\n    }\n  }\n}\n","<div class=\"blind\">\n  <div class=\"blind__logo\"><img src=\"https://ru.yachtsmanjournal.com/assets/diskurs-media.png\" alt=\"\"></div>\n  <form class=\"blind__form\" (keydown)=\"submit($event)\">\n    <input type=\"text\" class=\"blind__input\" name=\"login\" placeholder=\"Логин\" [(ngModel)]=\"username\">      \n    <input type=\"password\" class=\"blind__input\" [class.error]=\"error\" name=\"password\" placeholder=\"Пароль\" [(ngModel)]=\"password\">\n    <div *ngIf=\"error\" class=\"blind__error\">Неверные имя пользователя и/или пароль</div>\n  </form>\n</div>\n"],"sourceRoot":"webpack:///"}