{"version":3,"sources":["webpack:///src/app/shared/modules/user-view/user-view.module.ts","webpack:///src/app/modules/content-overview/pages/author-list-page/ranges-authors.function.ts","webpack:///src/app/shared/classes/abstract-user-list-component.ts","webpack:///src/app/shared/functions/extract-query.function.ts","webpack:///src/app/shared/modules/user-view/user-view.component.ts","webpack:///src/app/shared/modules/user-view/user-view.component.html","webpack:///src/app/modules/content-overview/pages/author-list-page/filters-authors.function.ts"],"names":["UserViewModule","forChild","declarations","imports","exports","rangesAuthors","translateService","id","text","instant","query","order","RATING","Date","now","SUB_COUNT","POST_COUNT","NAME","locale","RUSSIAN","asc","ENGLISH","AbstractUserListComponent","onRangeOrFilter$","isLoading$","activeFilter","filters","ranges","selectedRange","activeRange","currentPage","totalPages","isLoading","ngOnInit","pipe","ngOnDestroy$","subscribe","reset","_","handleSearch","filterEvent","filterItem","selectedFilter","next","rangeEvent","range","template","extractQuery","item","result","Function","UserViewComponent","usersService","sessionService","userDropdownService","responsive","gone","toggleSubscribe","loggedIn$","value","subscribe$","data","meta","subscribers","you","setShowDropdown","delete","delete$","selector","templateUrl","styleUrls","filtersAuthors","sub","LAST_POST_TIME"],"mappings":"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","file":"default~pages-author-list-page-author-list-page-module~pages-company-list-page-company-list-page-module-es5.js","sourcesContent":["import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { UserViewComponent } from './user-view.component';\nimport { SvgModule } from '../svg/svg.module';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { CommonDirectivesModule } from '@shared/directives/directives.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\n\n@NgModule({\n  declarations: [UserViewComponent],\n  imports: [\n    CommonModule,\n    SvgModule,\n    SharedPipesModule,\n    SharedUiModule,\n    RouterModule,\n    CommonDirectivesModule,\n    TranslateModule.forChild(),\n    SharedComponentsModule\n  ],\n  exports: [UserViewComponent],\n})\nexport class UserViewModule {}\n","import { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { IUserQuery } from '@api/schemas/user/user-query.interface';\nimport { UserOrderEnum } from '@api/schemas/user/user-order.enum';\nimport { LocaleEnum } from '@api/schemas/locale/locale.enum';\nimport { TranslateService } from '@ngx-translate/core';\n\nexport function rangesAuthors(translateService: TranslateService): IToggleItem<never, IUserQuery>[] {\n    return [\n        {\n            id: 10,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_DAY'),\n            query: () => ({\n                order: UserOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24,\n            }),\n        },\n        {\n            id: 6,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_3_DAYS'),\n            query: () => ({\n                order: UserOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 3,\n            }),\n        },\n        {\n            id: 7,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_WEEK'),\n            query: () => ({\n                order: UserOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 7,\n            }),\n        },\n        {\n            id: 8,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_MONTH'),\n            query: () => ({\n                order: UserOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 30,\n            }),\n        },\n        {\n            id: 9,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_YEAR'),\n            query: () => ({\n                order: UserOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 30 * 12,\n            }),\n        },\n        {\n            id: 0,\n            text: translateService.instant('COMMON.SORT_BY_NUMBER_OF_SUNSCRIBERS'),\n            query: { order: UserOrderEnum.SUB_COUNT },\n        },\n        {\n            id: 1,\n            text: translateService.instant('COMMON.SORT_BY_NUMBER_OF_PUBLICATIONS'),\n            query: { order: UserOrderEnum.POST_COUNT },\n        },\n        {\n            id: 2,\n            text: translateService.instant('COMMON.FROM_A_TO_Z_'),\n            query: { order: UserOrderEnum.NAME, locale: LocaleEnum.RUSSIAN, asc: true },\n        },\n        {\n            id: 3,\n            text: translateService.instant('COMMON.FROM_Z_TO_A_'),\n            query: { order: UserOrderEnum.NAME, locale: LocaleEnum.RUSSIAN },\n        },\n        {\n            id: 4,\n            text: translateService.instant('COMMON.FROM_A_TO_Z'),\n            query: { order: UserOrderEnum.NAME, locale: LocaleEnum.ENGLISH, asc: true },\n        },\n        {\n            id: 5,\n            text: translateService.instant('COMMON.FROM_Z_TO_A'),\n            query: { order: UserOrderEnum.NAME, locale: LocaleEnum.ENGLISH },\n        },\n    ];\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AbstractComponent } from './abstract-component.class';\nimport { Subject, BehaviorSubject } from 'rxjs';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { IUserQuery } from '@api/schemas/user/user-query.interface';\nimport { filtersAuthors } from '@modules/content-overview/pages/author-list-page/filters-authors.function';\nimport { rangesAuthors } from '@modules/content-overview/pages/author-list-page/ranges-authors.function';\nimport { TranslateService } from '@ngx-translate/core';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  template: ''\n})\nexport abstract class AbstractUserListComponent extends AbstractComponent implements OnInit {\n  protected readonly onRangeOrFilter$: Subject<number> = new Subject<number>();\n  protected query: string;\n\n  public readonly isLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  public activeFilter: number = null;\n  public selectedFilter: IToggleItem;\n  public filters: IToggleItem<never, IUserQuery>[] = filtersAuthors(this.translateService);\n  public ranges: IToggleItem<never, IUserQuery>[] = rangesAuthors(this.translateService);\n  public selectedRange: IToggleItem = this.ranges[5];\n  public activeRange: number = this.selectedRange.id;\n\n  public currentPage = -1;\n  public totalPages = 1;\n  public isLoading = false;\n\n  constructor(protected readonly translateService: TranslateService) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.onRangeOrFilter$.pipe(\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe(() => this.reset());\n\n    this.isLoading$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: boolean) => this.isLoading = _);\n  }\n\n  public abstract fetchNextPage(): void;\n\n  public abstract reset(): void;\n\n  public handleSearch(query: string): void {\n    this.query = query;\n    if (!this.isLoading) {\n      this.reset();\n    }\n  }\n\n  public filterEvent(filterItem: IToggleItem): void {\n    this.selectedFilter = filterItem;\n    this.activeFilter = filterItem?.id;\n\n    this.selectedRange = null;\n    this.activeRange = null;\n    this.onRangeOrFilter$.next(0);\n  }\n\n  public rangeEvent(range: IToggleItem): void {\n    this.selectedRange = range;\n    this.activeRange = range?.id;\n    this.selectedFilter = null;\n    this.activeFilter = null;\n    this.onRangeOrFilter$.next(0);\n  }\n}\n","import { IToggleItem } from '@shared/interfaces/toggle-item.interface';\n\nexport function extractQuery<T, Q>(item: IToggleItem<T, Q>): Q | {} {\n    let result: Q | {};\n    if (!item || !item.query) {\n        result = {};\n    } else if (item.query instanceof Function) {\n        result = item.query();\n    } else {\n        result = item.query;\n    }\n    return result;\n}\n","import { Component, EventEmitter, Input, Output, OnDestroy } from '@angular/core';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { UsersService } from '@api/routes/users.service';\nimport { SessionService } from '@app/services/session.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-user-view',\n  templateUrl: './user-view.component.html',\n  styleUrls: ['./user-view.component.scss'],\n})\nexport class UserViewComponent extends AbstractComponent implements OnDestroy {\n  @Input() public data: IUserView;\n\n  @Output() public readonly gone: EventEmitter<number> = new EventEmitter<number>();\n\n  constructor(\n    private readonly usersService: UsersService,\n    private readonly sessionService: SessionService,\n    private readonly userDropdownService: UserDropdownService,\n    public readonly responsive: ResponsiveService,\n  ) { super(); }\n\n  public toggleSubscribe(): void {\n    if (this.sessionService.loggedIn$.value) {\n      this.usersService.subscribe$(this.data.meta.id, this.data.subscribers.you).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        this.data.subscribers.you = !this.data.subscribers.you;\n      });\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public delete(): void {\n    this.usersService.delete$(this.data.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n  }\n}\n","<li class=\"user-view\">\n    <header class=\"user-view__header\">\n        <a class=\"title\" [routerLink]=\"data | accountUrl\">\n            <app-ui-icon class=\"margin-right-20\" size=\"{{ (responsive.lt.medium | async) ? 'medium' : 'large' }}\" [src]=\"this.data.info.picture\" [textAlternative]=\"this.data.info | personName\"></app-ui-icon>\n            <div class=\"tname\" style=\"min-width: 150px;\">\n                <p class=\"name\">{{ this.data.info | personName | trunk:22 }}</p>\n                <p *ngIf=\"this.data.info.username\" class=\"username\">@{{ this.data.info.username }}</p>\n            </div>\n        </a>\n        <aside>\n            <div *ngIf=\"!this.data.subscribers.you\" class=\"button-1 margin-right-10 btn\" (click)=\"toggleSubscribe()\">\n                <span *ngIf=\"!(responsive.lt.medium | async)\" class=\"margin-right-10\">{{ 'COMMON.SUBSCRIBE' | translate }}</span>\n                <svg name=\"plus\" size=\"18\"></svg>\n            </div>\n            <div *ngIf=\"this.data.subscribers.you\" class=\"button-1 margin-right-10 btn only-icon-click\">\n                <span *ngIf=\"!(responsive.lt.medium | async)\" class=\"margin-right-10\" style=\"color: #92929D;\">{{ 'COMMON.YOU_ARE_ALREADY' | translate }}</span>\n                <svg name=\"tick\" size=\"18\" (click)=\"toggleSubscribe()\"></svg>\n            </div>\n            <app-action-menu-user *appLoggedIn [data]=\"this.data\" (gone)=\"this.gone.next(data.meta.id)\"></app-action-menu-user>\n        </aside>\n    </header>\n    <footer class=\"user-view__footer\">\n        <ng-content></ng-content>\n    </footer>\n</li>\n","import { TranslateService } from '@ngx-translate/core';\nimport { IUserQuery } from '@api/schemas/user/user-query.interface';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { UserOrderEnum } from '@api/schemas/user/user-order.enum';\n\nexport function filtersAuthors(translateService: TranslateService): IToggleItem<never, IUserQuery>[] {\n    return [\n        {\n            id: 0,\n            text: translateService.instant('COMMON.MY_SUBSCRIPTIONS'),\n            query: { sub: true, order: UserOrderEnum.LAST_POST_TIME },\n        },\n        {\n            id: 1,\n            text: translateService.instant('COMMON.RECOMMENDED'),\n            query: { order: UserOrderEnum.RATING, 'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 7 },\n        },\n        {\n            id: 2,\n            text: translateService.instant('COMMON.RECENT'),\n            query: { order: UserOrderEnum.LAST_POST_TIME },\n        }\n    ];\n}\n"]}