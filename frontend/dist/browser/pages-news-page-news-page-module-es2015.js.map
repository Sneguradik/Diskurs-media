{"version":3,"sources":["./src/app/modules/news/pages/news-page/article/article.component.ts","./src/app/modules/news/pages/news-page/article/article.component.html","./src/app/shared/services/articles-resolver.service.ts","./src/app/modules/news/pages/news-page/news-page.module.ts","./src/app/modules/news/pages/news-page/news-page.component.ts","./src/app/modules/news/pages/news-page/news-page.component.html","./src/app/shared/utils/not-found.operator.ts","./src/app/modules/news/pages/news-page/news-page-routing.module.ts","./src/app/modules/news/pages/news-page/article/article-reactions/article-reactions.component.ts","./src/app/modules/news/pages/news-page/article/article-reactions/article-reactions.component.html"],"names":[],"mappings":"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","file":"pages-news-page-news-page-module-es2015.js","sourcesContent":["import { Component, Input, OnInit, ChangeDetectorRef, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { IArticleViewFull } from '@api/schemas/article/article-view-full.interface';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ITagView } from '@api/schemas/tags/tag-view.interface';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/operators';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { ArticlesService } from '@api/routes/articles.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { VoteCount } from '@api/schemas/base/voteable.interface';\nimport { ICommentViewArticle } from '@api/schemas/comment/comment-view-article.interface';\nimport { BannerPlaceEnum } from '@api/schemas/advertisement/banner-place.enum';\nimport { VoteAction, VoteActionValues, VoteActionNames, VoteActionValuesNames } from '@shared/components/voting/voting.const';\nimport { FeedService } from '@api/routes/feed.service';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { IArticleView } from '@api/schemas/article/article-view.interface';\nimport { TopicsService } from '@api/routes/topics.service';\n\n@Component({\n  selector: 'app-article',\n  templateUrl: './article.component.html',\n  styleUrls: ['./article.component.scss']\n})\nexport class ArticleComponent extends AbstractComponent implements OnInit, OnDestroy {\n  @Input() public data$: BehaviorSubject<IArticleViewFull>;\n  @Input() public topics: ITopicView[];\n  @Input() public tags: ITagView[];\n  @Input() public user: IUserViewFull;\n  @Input() public isLogged: boolean;\n  @Input() public isBrowser: boolean;\n  @Input() public comments: ICommentViewArticle[];\n\n  @Output() public readonly bookmarked: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  public readonly bannerPlaceEnum: typeof BannerPlaceEnum = BannerPlaceEnum;\n  public readonly votes$: BehaviorSubject<VoteCount> = new BehaviorSubject<VoteCount>(null);\n\n  public articles: IArticleView[] = [];\n  public cArticles: IArticleViewFull[] = [];\n  public topics$: Observable<ITopicView[]>[] = [];\n  public bookmarkCounter: number;\n  public hasBookmark: boolean;\n\n  constructor(\n    private readonly userDropdownService: UserDropdownService,\n    private readonly cd: ChangeDetectorRef,\n    private readonly articleService: ArticlesService,\n    private readonly feedService: FeedService,\n    private readonly topicsService: TopicsService,\n    public readonly responsive: ResponsiveService,\n    public readonly platformService: PlatformService,\n    public readonly router: Router,\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    const article = this.data$.getValue();\n    this.bookmarkCounter = article.bookmarks.count;\n    this.hasBookmark = (article.bookmarks && article.bookmarks.you);\n    this.data$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((res: IArticleViewFull) => this.votes$.next(res.votes));\n    this.getAuthorArticles();\n  }\n\n  public toggleBookmark(): void {\n    const article = this.data$.getValue();\n    if (this.isLogged) {\n      const isOwn = article.bookmarks.you;\n      this.hasBookmark = !this.hasBookmark;\n      this.cd.markForCheck();\n\n      if (isOwn) {\n        this.articleService.bookmark$(article.meta.id, isOwn)\n          .pipe(takeUntil(this.ngOnDestroy$))\n          .subscribe(() => this.bookmarked.next(false));\n      } else {\n        this.articleService.bookmark$(article.meta.id)\n          .pipe(takeUntil(this.ngOnDestroy$))\n          .subscribe(() => this.bookmarked.next(true));\n      }\n      this.hasBookmark ? ++this.bookmarkCounter : --this.bookmarkCounter;\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public doVote(vote: VoteAction): void {\n    const article = this.data$.getValue();\n    const castVote: VoteActionValues = (vote === VoteActionNames.UP)\n      ? VoteActionValuesNames.POSITIVE\n      : VoteActionValuesNames.NEGATIVE;\n    if (article.votes.you === castVote) {\n      this.articleService.vote$(article.meta.id, true)\n        .pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe(() => {\n          (castVote > 0) ? article.votes.up -= castVote : article.votes.down += castVote;\n          article.votes.you = 0;\n          this.data$.next(article);\n          this.votes$.next(article.votes);\n      });\n    } else {\n      this.articleService.vote$(article.meta.id, false, castVote)\n        .pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe(() => {\n          (article.votes.you > 0) ? article.votes.up -= article.votes.you : article.votes.down += article.votes.you;\n          (castVote > 0) ? article.votes.up += castVote : article.votes.down -= castVote;\n          article.votes.you = castVote;\n          this.data$.next(article);\n          this.votes$.next(article.votes);\n      });\n    }\n  }\n\n  public getAuthorArticles(): void {\n    const article = this.data$.getValue();\n    this.articles = [];\n    this.feedService.feedRequest$({ author: article.authorId })\n      .pipe(takeUntil(this.ngOnDestroy$))\n      .subscribe((_: IPageResponse<IArticleView>) => {\n      for (const i of _.content) {\n        if (i.meta.id !== article.meta.id) {\n          this.articles.push(i);\n          this.topics$.push(this.topicsService.getMultiple$(i.topics || []));\n        }\n        if (this.articles.length === 3) {\n          break;\n        }\n      }\n    });\n  }\n\n  public getBack(): void {\n    this.router.navigate(['/']);\n  }\n}\n","<div class=\"content\" *appLet=\"data$ | async as data\">\n    <div *ngIf=\"data\" class=\" block\" style=\"display: flex; flex-direction: row;\">\n        <div class=\"main-view\"><!--  [style.padding.px]=\"!(responsive.lt.medium | async) ? '20' : '0'\"  -->            \n            <div>\n                <h1 style=\"word-wrap: break-word;\">{{ data.info.title }}</h1>\n                <div *ngIf=\"isBrowser\" class=\"topics\">\n                    <div *ngIf=\"topics[0]\"\n                         class=\"compact clickable\"\n                         [routerLink]=\"['/topics', topics[0].info.url ? topics[0].info.url : topics[0].meta.id]\">\n                        <app-ui-icon class=\"margin-right-10\"\n                                     [src]=\"topics[0].info.picture\"\n                                     [textAlternative]=\"topics[0].info.name\"\n                                     [size]=\"'small'\">\n                        </app-ui-icon>\n                        <div class=\"subtitle-1\">\n                            <span>{{ topics[0].info.name }}</span>\n                        </div>\n                    </div>\n                    <aside>\n\n                        <a class=\"author subtitle-2 fade-1 author-name\" [class.color-primary]=\"data.author.info.company.isCompany\" [routerLink]=\"data.author | accountUrl\">{{ data.author.info | personName }}</a>\n\n                        <span class=\"timestamp caption fade-3\">\n                            {{ data.status.publishedAt | customDate }}\n                        </span>\n                        <svg name=\"bookmark\"\n                             class=\"f-gray\"\n                             [ngClass]=\"{ 'active': hasBookmark }\"\n                             size=\"20\"\n                             (click)=\"toggleBookmark()\">\n                        </svg>\n                        <app-share [url]=\"null | url\"></app-share>\n                        <app-action-menu-article *appLoggedIn\n                                                 [isLogged]=\"isLogged\"\n                                                 [user]=\"user\"\n                                                 [data]=\"data\"\n                                                 (gone)=\"getBack()\">\n                        </app-action-menu-article>\n                    </aside>\n                </div>\n                <div class=\"content-desc\">\n                    <p class=\"body-2\" style=\"word-wrap: break-word;\">{{ data.info.summary }}</p>\n                    <img *ngIf=\"data.info.cover\" [src]=\"data.info.cover\" [alt]=\"data.info.title\">\n                </div>\n                <div *ngIf=\"data\" class=\"content\">\n                    <app-wysiwyg-editor *ngIf=\"data.html\" [initialData]=\"data.html\" [readOnly]=\"true\"></app-wysiwyg-editor>\n                </div>\n                <blockquote *ngIf=\"platformService.isBrowser\">\n                    <ul class=\"topics\">\n                        <li *ngFor=\"let topic of topics.slice(0, 5)\" class=\"topics__item\">\n                            <app-ui-icon size=\"small\" [src]=\"topic.info.picture\" [textAlternative]=\"topic.info.name\"></app-ui-icon>\n                            <span class=\"subtitle-2\">{{ topic.info.name }}</span>\n                        </li>\n                    </ul>\n                    <div class=\"tags subtitle-2\">\n                        <a *ngFor=\"let item of tags\" class=\"clickable\" [routerLink]=\"['/tags', item.meta.id]\">#{{ item.content }}</a>\n                    </div>\n                    <app-share *ngIf=\"(responsive.lt.medium | async)\" [url]=\"null | url\" [spec]=\"true\" class=\"quote-share\"></app-share>\n                </blockquote>\n                <div *appLet=\"responsive.lt.medium | async as pesponsive\" class=\"reactions\">\n                    <app-article-reactions\n                        *appLet=\"(data$ | async) as data\"\n                        [votes$]=\"votes$\"\n                        [isBrowser]=\"isBrowser\"\n                        [pesponsive]=\"pesponsive\"\n                        [bookmarkCounter]=\"bookmarkCounter\"\n                        [commentCounter]=\"data.commentCount\"\n                        [watchCounter]=\"data.views.count\"\n                        [hasBookmark]=\"hasBookmark\"\n                        (toggleEmit)=\"toggleBookmark()\"\n                        (doVoteEmit)=\"doVote($event)\">\n                    </app-article-reactions>\n                </div>\n                <div class=\"separator\"></div>\n            </div>\n            <div class=\"suggestions\">\n                <div *ngFor=\"let i of articles; let k = index\" class=\"cont\">\n                    <div class=\"info\">\n                        <div *ngIf=\"topics$[k] | async; let topics\" class=\"topics\">\n                            <app-ui-icon class=\"margin-right-10\" [src]=\"topics[0].info.picture || ''\"\n                                         [textAlternative]=\"topics[0].info.name || ''\"\n                                         [size]=\"'small'\"></app-ui-icon>\n                            <a class=\"names subtitle-1\" [routerLink]=\"['/topics', topics[0].meta.id]\">\n                                <span>{{ topics[0].info.name }}</span>\n                            </a>\n                        </div>\n                        <div class='time-author-actions'>\n                            <a class=\"author subtitle-2 fade-1\" \n                                [class.color-primary]=\"i.author.info.company.isCompany\" \n                                [routerLink]=\"i.author | accountUrl\">{{ i.author.info | personName }}</a>\n                            <a class=\"time caption fade-3\">{{ i.status.publishedAt | customDate }}</a>\n                        </div>\n                    </div>\n                    <a class=\"content\" [routerLink]=\"['/news', i.meta.id]\">\n                        <h4 style=\"word-wrap: break-word;\" style=\"max-width: 100%;\">{{ i.info.title || 'Статья без названия' }}</h4>\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class=\"banner-view\" *ngIf=\"!(responsive.lt.xlarge | async)\">\n            <app-ad-banner [place]=\"bannerPlaceEnum.PUBLICATION_SIDEBAR\" [sidebar]=\"true\"></app-ad-banner>\n        </div>\n    </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, Router } from '@angular/router';\nimport { IArticleViewFull } from '@api/schemas/article/article-view-full.interface';\nimport { ArticlesService } from '@api/routes/articles.service';\nimport { Observable, of } from 'rxjs';\nimport { notFound } from '@shared/utils/not-found.operator';\nimport { PlatformService } from './platform.service';\nimport { makeStateKey, TransferState } from '@angular/platform-browser';\nimport { tap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ArticlesResolverService implements Resolve<IArticleViewFull> {\n  constructor(\n    private readonly articlesService: ArticlesService,\n    private readonly router: Router,\n    private readonly platformService: PlatformService,\n    private readonly transferState: TransferState\n  ) { }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<IArticleViewFull> {\n    const ARTICLE_KEY = makeStateKey<IArticleViewFull>('article-' + route.params.id);\n    if (this.transferState.hasKey(ARTICLE_KEY)) {\n      const article = this.transferState.get<IArticleViewFull>(ARTICLE_KEY, null);\n      this.transferState.remove(ARTICLE_KEY);\n      return of(article);\n    } else {\n      return this.articlesService.getSingle$(route.params.id).pipe(\n        notFound(this.router),\n        tap((article: IArticleViewFull) => {\n          if (this.platformService.isServer) {\n            this.transferState.set(ARTICLE_KEY, article);\n          }\n        })\n      );\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NewsPageRoutingModule } from './news-page-routing.module';\nimport { ArticleComponent } from './article/article.component';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { NewsPageComponent } from './news-page.component';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { ArticleReactionsComponent } from './article/article-reactions/article-reactions.component';\nimport { CommonDirectivesModule } from '@shared/directives/directives.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { FeedModule } from '@shared/modules/feed/feed.module';\nimport { ShortEventListModule } from '@shared/modules/short-event-list/short-event-list.module';\nimport { ShortJobListModule } from '@shared/modules/short-job-list/short-job-list.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n\n@NgModule({\n  declarations: [ArticleComponent, NewsPageComponent, ArticleReactionsComponent],\n  imports: [\n    CommonModule,\n    NewsPageRoutingModule,\n    CommonDirectivesModule,\n    SharedUiModule,\n    SharedPipesModule,\n    SharedComponentsModule,\n    SvgModule,\n    FeedModule,\n    ShortEventListModule,\n    ShortJobListModule,\n    TranslateModule\n  ]\n})\nexport class NewsPageModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IArticleViewFull } from '@api/schemas/article/article-view-full.interface';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ITagView } from '@api/schemas/tags/tag-view.interface';\nimport { ActivatedRoute, Router, NavigationEnd, Event } from '@angular/router';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { TagsService } from '@api/routes/tags.service';\nimport { DynamicMetaTagsService } from '@layout/dynamic-meta-tags/dynamic-meta-tags.service';\nimport { environment } from '@env';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { SessionService } from '@app/services/session.service';\nimport { BehaviorSubject, combineLatest, Observable, Subscription } from 'rxjs';\nimport { takeUntil, filter } from 'rxjs/operators';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { ICommentViewArticle } from '@api/schemas/comment/comment-view-article.interface';\nimport { ArticlesService } from '@api/routes/articles.service';\nimport { BannerPlaceEnum } from '@api/schemas/advertisement/banner-place.enum';\nimport { IEventsJobsControl } from '@api/schemas/dashboard/events-jobs-control.interface';\nimport { AdministrationService } from '@api/routes/administration.service';\nimport { FeedService } from '@api/routes/feed.service';\nimport { ISidebarWrapperParams } from '@layout/sidebar-wrapper/sidebar-wrapper-params.interface';\nimport { HeaderStatsSyncService } from '@layout/shared/services/header-stats-sync.service';\n\n@Component({\n  selector: 'app-news-page',\n  templateUrl: './news-page.component.html',\n  styleUrls: ['./news-page.component.scss']\n})\nexport class NewsPageComponent extends AbstractComponent implements OnInit, OnDestroy {\n  private sub: Subscription;\n\n  public readonly bannerPlaceEnum: typeof BannerPlaceEnum = BannerPlaceEnum;\n\n  public data$: BehaviorSubject<IArticleViewFull> = new BehaviorSubject<IArticleViewFull>(null);\n  public topics: ITopicView[] = [];\n  public tags: ITagView[] = [];\n  public user: IUserViewFull;\n  public isLogged: boolean;\n  public comments: ICommentViewArticle[];\n  public isBrowser: boolean;\n\n  public companyArticles: IArticleViewFull[] = [];\n  public companyTopics$: Observable<ITopicView[]>[] = [];\n  public eventsJobs: IEventsJobsControl;\n\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly router: Router,\n    private readonly topicsService: TopicsService,\n    private readonly tagsService: TagsService,\n    private readonly dynamicMetaTagsService: DynamicMetaTagsService,\n    private readonly platformService: PlatformService,\n    private readonly sessionService: SessionService,\n    private readonly articlesService: ArticlesService,\n    private readonly sidebarWrapperService: SidebarWrapperService,\n    private readonly administrationService: AdministrationService,\n    private readonly feedService: FeedService,\n    private readonly headerStatSyncService: HeaderStatsSyncService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.isBrowser = this.platformService.isBrowser;\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({\n        article: true,\n        articleData: this.route.snapshot.data.data,\n        trending: true,\n        navigation: false,\n        live: false,\n        showSidebar: true\n      });\n\n      this.sidebarWrapperService.params$.pipe(\n        filter((params: ISidebarWrapperParams) => !!params.article),\n        takeUntil(this.ngOnDestroy$)\n      ).subscribe((wrapperParams: ISidebarWrapperParams) => {\n        this.data$.next({ ...wrapperParams.articleData });\n      });\n    });\n\n    this.getMainData();\n    if (this.isBrowser) {\n      this.headerStatSyncService.articlesCountSyncEvent$.next();\n      this.getAllData();\n    }\n\n    this.administrationService.getEventsJobs$().subscribe((jobEvents: IEventsJobsControl) => this.eventsJobs = jobEvents);\n\n    const user$ = this.sessionService.user$;\n    const isLogged$ = this.sessionService.loggedIn$;\n    const comments$ = this.articlesService.commentsForArticle$(this.route.snapshot.data.data.meta.id);\n\n    combineLatest([user$, isLogged$, comments$])\n      .pipe(takeUntil(this.ngOnDestroy$))\n      .subscribe(([user, isLogged, comments]: [IUserViewFull, boolean, ICommentViewArticle[]]) => {\n        this.user = user;\n        this.isLogged = isLogged;\n        this.comments = comments;\n    });\n\n    if (!this.sub) {\n      this.sub = this.router.events.subscribe((event: Event) => {\n        if (event instanceof NavigationEnd) {\n          this.ngOnDestroy();\n          if (this.router.url.includes('/news/') && !this.router.url.includes('/edit')) {\n            this.ngOnInit();\n          } else {\n            this.sub.unsubscribe();\n          }\n        }\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.dynamicMetaTagsService.setToDefault();\n    super.ngOnDestroy();\n  }\n\n  private getAllData(): void {\n    const articles = this.data$.getValue();\n    this.topicsService.getMultiple$(articles?.topics || [])\n      .pipe(takeUntil(this.ngOnDestroy$))\n      .subscribe((list: ITopicView[]) => {\n      this.topics = list;\n    });\n    this.tagsService.getMultiple$(articles?.tags || [])\n      .pipe(takeUntil(this.ngOnDestroy$))\n      .subscribe((list: ITagView[]) => {\n      this.tags = list;\n    });\n    const dataBuff: IArticleViewFull = articles;\n    this.data$.next({ ...articles, info: {} as any, html: '' });\n    requestAnimationFrame(() => {\n      this.data$.next({ ...dataBuff });\n      window.scroll(0, 0);\n    });\n    this.getCompaniesArticles();\n  }\n\n  private getMainData(): void {\n    this.data$.next(this.route.snapshot.data.data);\n    const data = this.data$.getValue();\n    this.dynamicMetaTagsService.metaInfo$.next({\n      title: data.info.title,\n      tags: [\n        { property: 'og:title', content: data.info.title },\n        { name: 'description', content: data.info.summary },\n        { property: 'og:description', content: data.info.summary },\n        { property: 'og:image', content: data.info.cover },\n        { property: 'og:url', content: environment.url + this.router.url },\n        { property: 'og:type', content: 'website' },\n        { property: 'og:site_name', content: 'Diskurs.Media' },\n        { name: 'twitter:card', content: 'summary' },\n        { name: 'twitter:title', content: data.info.title },\n        { name: 'twitter:description', content: data.info.summary },\n        { name: 'twitter:image', content: data.info.cover }\n      ]\n    });\n  }\n\n  private getCompaniesArticles(): void {\n    this.companyArticles = [];\n    this.feedService.feedRequest$({ company: true }).subscribe((feeds: any) => {\n      for (const feed of feeds.content) {\n        if (feed.meta.id !== this.data$.getValue().meta.id) {\n          this.companyArticles.push(feed);\n          this.companyTopics$.push(feed.topics?.length > 0 ? this.topicsService.getMultiple$([feed.topics[0]]) : null);\n        }\n        if (this.companyArticles.length === 3) {\n          break;\n        }\n      }\n    });\n  }\n\n  public addComment(): void {\n    const articles = this.data$.getValue();\n    this.data$.next({...articles, commentCount: ++articles.commentCount});\n    this.sidebarWrapperService.params$.next(\n      {\n        ...this.sidebarWrapperService.params$.getValue(),\n        articleData: this.data$.getValue()\n      });\n  }\n\n  public addWatch(): void {\n    const articles = this.data$.getValue();\n    this.data$.next({...articles, views: {...articles.views, count: ++articles.views.count}});\n  }\n\n  public updateBookmark(bookmarked: boolean): void {\n    this.sidebarWrapperService.params$.next({\n      ...this.sidebarWrapperService.params$.value,\n      articleData: {\n        ...this.sidebarWrapperService.params$.value.articleData,\n        bookmarks: {\n          ...this.sidebarWrapperService.params$.value.articleData.bookmarks,\n          count: this.sidebarWrapperService.params$.value.articleData.bookmarks.count + (bookmarked ? 1 : -1),\n          you: bookmarked\n        }\n      }\n    });\n  }\n}\n","<div class=\"content\">\n  <app-article \n      [data$]=\"data$\"\n      [tags]=\"tags\" \n      [topics]=\"topics\"\n      [user]=\"user\"\n      [isLogged]=\"isLogged\"\n      [comments]=\"comments\"\n      [isBrowser]=\"isBrowser\"\n      (bookmarked)=\"updateBookmark($event)\">\n  </app-article>\n  <div class=\"ad\">\n    <app-ad-banner [place]=\"bannerPlaceEnum.PUBLICATION_ABOVE_COMMENTS\"></app-ad-banner>\n  </div>\n  <div class=\"events\">\n    <div>\n      <div *ngIf=\"eventsJobs\">\n        <app-events *ngIf=\"eventsJobs.publicationsBottom\" [page]=\"0\"></app-events>\n        <app-jobs *ngIf=\"!eventsJobs.publicationsBottom\" [page]=\"0\" [offBG]=\"true\"></app-jobs>\n      </div>\n    </div>\n  </div>\n  <app-comment-section \n      class=\"comments block margin-bottom-40\" \n      [isLogged]=\"isLogged\" \n      [articleComments]=\"comments\" \n      [id]=\"(data$ | async)?.meta.id\"\n      [user]=\"user\"\n      [attr.id]=\"'comments-block'\"\n      (addCommentEmit)=\"addComment()\"\n      (addWatchtEmit)=\"addWatch()\">\n  </app-comment-section>\n  <div class=\"margin-bottom-40\"><app-ad-banner [place]=\"bannerPlaceEnum.PUBLICATION_BELOW_COMMENTS\"></app-ad-banner></div>\n  <div class=\"company-blogs block\">\n    <div class=\"suggestions\">\n      <h5 class=\"fade-0 margin-bottom-10\">{{'COMMON.COMPANIES_ARTICLE' | translate}}</h5>\n      <div></div>\n      <div *ngFor=\"let i of companyArticles; let k = index\" class=\"cont border-bottom-zero margin-bottom-20\">\n        <app-feed-article-view *appLet=\"(companyTopics$[k] | async) as topics\" [data]=\"i\" [options]=\"{ pictureOn: false }\" [topic]=\"topics ? topics[0] : null\"></app-feed-article-view>\n      </div>\n      <a class=\"all-comp btn\" [routerLink]=\"['/companies']\">\n        <span class=\"subtitle-2 fade-2\">{{'COMMON.LOOK_ALL_COMPANIES' | translate}}</span>\n        <svg name=\"chevron/right\"></svg>\n      </a>\n    </div>\n  </div>\n</div>\n","import { OperatorFunction, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\nexport function notFound(router: Router): OperatorFunction<any, any> {\n    return catchError((error: HttpErrorResponse) => {\n        if (error.status === 404 || error.status === 422) {\n            router.navigateByUrl('/404');\n        }\n        return throwError(error);\n    });\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { NewsPageComponent } from './news-page.component';\nimport { ArticlesResolverService } from '@shared/services/articles-resolver.service';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewsPageComponent,\n    resolve: { data: ArticlesResolverService },\n  },\n  {\n    path: ':slug',\n    component: NewsPageComponent,\n    resolve: { data: ArticlesResolverService },\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class NewsPageRoutingModule { }\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IArticleViewFull } from '@api/schemas/article/article-view-full.interface';\nimport { VoteCount } from '@api/schemas/base/voteable.interface';\nimport { VoteAction } from '@shared/components/voting/voting.const';\nimport { BehaviorSubject } from 'rxjs';\n\n@Component({\n  selector: 'app-article-reactions',\n  templateUrl: './article-reactions.component.html',\n  styleUrls: ['./article-reactions.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ArticleReactionsComponent {\n  @Input() public isBrowser: boolean;\n  @Input() public pesponsive: boolean;\n  @Input() public data: IArticleViewFull;\n  @Input() public commentCounter: number;\n  @Input() public votes$: BehaviorSubject<VoteCount>;\n  @Input() public watchCounter: number;\n  @Input() public hasBookmark: boolean;\n\n  @Input() public set bookmarkCounter(value: number) {\n    this.bookmarkCount = value;\n  }\n\n  @Output() public readonly toggleEmit: EventEmitter<void> = new EventEmitter<void>();\n  @Output() public readonly doVoteEmit: EventEmitter<VoteAction> = new EventEmitter<VoteAction>();\n\n  public bookmarkCount: number;\n\n  constructor() { }\n\n  public toggleBookmark(): void {\n    this.toggleEmit.emit();\n\n  }\n\n  public doVote(vote: VoteAction): void {\n    this.doVoteEmit.emit(vote);\n  }\n\n}\n","<div class=\"container\">\n    <div *ngIf=\"isBrowser\" class=\"stats v-center margin-bottom-20\">\n        <div class=\"v-center margin-right-20 clickable\" (click)=\"toggleBookmark()\">\n            <svg name=\"bookmark\" class=\"f-gray margin-right-4\" [ngClass]=\"{ 'active': hasBookmark }\"></svg>\n            <span class=\"subtitle-2 c-caption\">{{ bookmarkCount }}</span>\n        </div>\n        <div class=\"v-center margin-right-20 clickable\">\n            <svg name=\"comment\" class=\"f-gray margin-right-4\"></svg>\n            <span class=\"subtitle-2 c-caption\">{{ commentCounter }}</span>\n        </div>\n        <div class=\"v-center margin-right-20\">\n            <svg name=\"view\" class=\"f-gray margin-right-4\"></svg>\n            <span class=\"subtitle-2 c-caption\">{{ watchCounter }}</span>\n        </div>\n        <app-share *ngIf=\"!pesponsive\" [url]=\"null | url\"></app-share>\n        <aside class=\"align-right v-center share-vote\">\n            <div class=\"v-center\">\n                <app-voting\n                    *appLet=\"(votes$ | async) as votes\"\n                    [up]=\"votes.up\"\n                    [down]=\"votes.down\"\n                    [castVote]=\"votes.you\"\n                    [style]=\"'article'\" \n                    (vote)=\"doVote($event)\">\n                </app-voting>\n            </div>\n        </aside>\n    </div>\n</div>\n"],"sourceRoot":"webpack:///"}