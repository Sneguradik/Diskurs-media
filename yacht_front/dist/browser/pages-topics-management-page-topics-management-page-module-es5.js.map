{"version":3,"sources":["webpack:///src/app/modules/dashboard/pages/topics-management-page/topics-management-page.component.ts","webpack:///src/app/modules/dashboard/pages/topics-management-page/topics-management-page.component.html","webpack:///src/app/modules/dashboard/pages/topics-management-page/components/topics-panel/topics-panel.component.ts","webpack:///src/app/modules/dashboard/pages/topics-management-page/components/topics-panel/topics-panel.component.html","webpack:///src/app/modules/dashboard/pages/topics-management-page/topics-management-page-routing.module.ts","webpack:///src/app/modules/dashboard/pages/topics-management-page/components/topics-block/topics-block.component.ts","webpack:///src/app/modules/dashboard/pages/topics-management-page/components/topics-block/topics-block.component.html","webpack:///src/app/modules/dashboard/pages/topics-management-page/topics-management-page.module.ts"],"names":["TopicsManagementPageComponent","topicsService","router","sidebarWrapperService","allTopicsToItem$","content","currentPage","totalPages","contentLoading","panel","show","ngOnInit","setTimeout","params$","next","article","trending","navigation","live","showSidebar","getTopics","allTopicsToItem","getValue","hasContent","get$","locale","ALL","pipe","ngOnDestroy$","subscribe","topic","forEach","e","push","id","meta","title","info","name","sort","one","two","create","body","currName","delete","tags","dId","del","action","post$","res","navigate","tagsArray","replace","split","slice","deleteAdvanced$","toString","_deleteItemInSubject","filter","item","cancel","selector","templateUrl","styleUrls","TopicsPanelComponent","topicName","actionF","emit","cancelF","changeDetection","OnPush","routes","path","component","TopicsManagementPageRoutingModule","forChild","imports","exports","TopicsBlockComponent","createReq","deleteReq","createBody","url","_clearChangedTopic","topics$","deleteTopic","changeTopic","filteredTopic","topicList","topicItem","TopicsManagementPageModule","declarations"],"mappings":"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","file":"pages-topics-management-page-topics-management-page-module-es5.js","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { takeUntil, tap } from 'rxjs/operators';\nimport { BehaviorSubject } from 'rxjs';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ITopicPageableContent } from './topic-pageable-content.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { ISelectItem } from '@modules/dashboard/shared/ui/dashboard-select/select-item.interface';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { LocaleEnum } from '@api/schemas/locale/locale.enum';\n\n@Component({\n  selector: 'app-topics-management-page',\n  templateUrl: './topics-management-page.component.html',\n  styleUrls: ['./topics-management-page.component.scss'],\n})\nexport class TopicsManagementPageComponent extends AbstractComponent implements OnInit, OnDestroy {\n  public allTopicsToItem$: BehaviorSubject<ITopicPageableContent> = new BehaviorSubject<ITopicPageableContent>({\n    content: [],\n    currentPage: 0,\n    totalPages: 1,\n    contentLoading: false,\n  });\n\n  public panel: { show: boolean; delete: boolean } = { show: false, delete: false };\n  public body: { name: string; url: string };\n  public del: { id: number; tags: string; dId: number };\n  public currName: string;\n\n  constructor(\n    private readonly topicsService: TopicsService,\n    private readonly router: Router,\n    private readonly sidebarWrapperService: SidebarWrapperService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: false, navigation: false, live: false, showSidebar: false });\n    });\n    this.getTopics();\n  }\n\n  public getTopics(): void {\n    const allTopicsToItem = this.allTopicsToItem$.getValue();\n    const hasContent: boolean = allTopicsToItem.content === [] || allTopicsToItem.currentPage + 1 <= allTopicsToItem.totalPages;\n    if (hasContent && !allTopicsToItem.contentLoading) {\n      allTopicsToItem.contentLoading = true;\n      this.topicsService.get$(allTopicsToItem.currentPage, { locale: LocaleEnum.ALL })\n          .pipe(takeUntil(this.ngOnDestroy$))\n          .subscribe((topic: IPageResponse<ITopicView>) => {\n            topic.content.forEach((e: ITopicView) => {\n              allTopicsToItem.content.push({\n                id: e.meta.id,\n                title: e.info.name,\n              });\n            });\n\n            allTopicsToItem.totalPages = topic.totalPages;\n            allTopicsToItem.currentPage++;\n            allTopicsToItem.contentLoading = false;\n\n            if (allTopicsToItem.currentPage + 1 <= allTopicsToItem.totalPages) {\n              this.getTopics();\n            } else {\n              allTopicsToItem.content = allTopicsToItem.content\n              .sort((one: ISelectItem, two: ISelectItem) => (one.title > two.title ? 1 : -1));\n            }\n            this.allTopicsToItem$.next(allTopicsToItem);\n          });\n      }\n  }\n\n  public create(body: { name: string; url: string }): void {\n    this.currName = body.name;\n    this.panel.delete = false;\n    this.panel.show = true;\n    this.body = body;\n  }\n\n  public delete(id: number, tags: string, dId: number, name: string): void {\n    this.currName = name;\n    this.panel.delete = true;\n    this.panel.show = true;\n    this.del = { id, tags, dId };\n  }\n\n  public action(): void {\n    if (!this.panel.delete) {\n      this.topicsService.post$(this.body)\n        .pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe((res: number) => {\n        this.router.navigate(['/topics', res, 'edit']);\n      });\n    } else {\n        const tagsArray: string[] = this.del.tags.replace(/\\s+/g, '').split(',').slice(0, 10);\n        this.topicsService.deleteAdvanced$(this.del.id, tagsArray.toString() || null, this.del.dId)\n            .pipe(\n                tap(() => this._deleteItemInSubject()),\n                takeUntil(this.ngOnDestroy$))\n            .subscribe(() => {\n          this.panel.show = false;\n        });\n    }\n  }\n\n  private _deleteItemInSubject(): void {\n    this.allTopicsToItem$.next({\n      ...this.allTopicsToItem$.getValue(),\n      content: this.allTopicsToItem$.getValue().content.filter((item: ISelectItem) => item.id !== this.del.id)\n    });\n  }\n\n  public cancel(): void {\n    this.panel.show = false;\n  }\n}\n","<app-topics-block [topics$]=\"allTopicsToItem$\"\n                  (createReq)=\"create($event)\"\n                  (deleteReq)=\"delete($event[0], $event[1], $event[2], $event[3])\">\n</app-topics-block>\n<app-topics-panel *ngIf=\"panel.show\"\n                  [delete]=\"panel.delete\"\n                  [topicName]=\"currName\"\n                  (action)=\"action()\"\n                  (cancel)=\"cancel()\">\n</app-topics-panel>\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'app-topics-panel',\n  templateUrl: './topics-panel.component.html',\n  styleUrls: ['./topics-panel.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TopicsPanelComponent {\n  @Input() public delete ? = false;\n  @Input() public topicName = '';\n\n  @Output() public readonly action: EventEmitter<void> = new EventEmitter<void>();\n  @Output() public readonly cancel: EventEmitter<void> = new EventEmitter<void>();\n\n  constructor() {}\n\n  public actionF(): void {\n    this.action.emit();\n  }\n\n  public cancelF(): void {\n    this.cancel.emit();\n  }\n}\n","<div class=\"admin-popup\">\n    <div class=\"admin-popup__overlay\"></div>\n    <div class=\"admin-popup__main\">\n        <button class=\"btn admin-popup__close\" (click)=\"cancelF()\">\n            <svg id=\"btn-cross\" viewBox=\"0 0 26 26\" width=\"24px\" height=\"24px\">\n                <path d=\"M1.5 13C1.5 6.64873 6.64873 1.5 13 1.5C19.3513 1.5 24.5 6.64873 24.5 13C24.5 19.3513 19.3513 24.5 13 24.5C6.64873 24.5 1.5 19.3513 1.5 13Z\" fill=\"white\" stroke=\"#F0F0F0\"></path>\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13.0015 11.9898L16.5371 8.45431C16.816 8.17537 17.2683 8.17537 17.5472 8.45431C17.8262 8.73326 17.8262 9.18552 17.5472 9.46447L14.0117 13L17.5472 16.5355C17.8262 16.8145 17.8262 17.2667 17.5472 17.5457C17.2683 17.8246 16.816 17.8246 16.5371 17.5457L13.0015 14.0102L9.466 17.5457C9.18705 17.8246 8.73479 17.8246 8.45584 17.5457C8.1769 17.2667 8.1769 16.8145 8.45584 16.5355L11.9914 13L8.45584 9.46447C8.1769 9.18552 8.1769 8.73326 8.45584 8.45431C8.73479 8.17537 9.18705 8.17537 9.466 8.45431L13.0015 11.9898Z\" fill=\"#00B7FF\"></path>\n            </svg>\n        </button>\n        <h2 class=\"admin-popup__title\">{{ delete ? 'Внимание! Удаление Темы' : 'Создание Темы' }}</h2>\n        <p class=\"admin-popup__txt\">Вы действительно хотите {{ delete ? ('COMMON.REMOVE' | translate) : 'создать' }} Тему <b>{{ topicName }}</b>?</p>\n        <div class=\"admin-popup__bar\">\n            <button class=\"btn admin-btn_white\" (click)=\"actionF()\">Да, подтверждаю</button>\n            <button class=\"btn admin-btn_blue\" (click)=\"cancelF()\">{{ 'COMMON.UNDO' | translate }}</button>\n        </div>\n    </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TopicsManagementPageComponent } from './topics-management-page.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TopicsManagementPageComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TopicsManagementPageRoutingModule {}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { ISelectItem } from '@modules/dashboard/shared/ui/dashboard-select/select-item.interface';\nimport { ITopic } from '@api/schemas/dashboard/topic.interface';\nimport { BehaviorSubject } from 'rxjs';\nimport { ITopicPageableContent } from '@modules/dashboard/pages/topics-management-page/topic-pageable-content.interface';\n\n@Component({\n  selector: 'app-topics-block',\n  templateUrl: './topics-block.component.html',\n  styleUrls: ['./topics-block.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TopicsBlockComponent implements OnInit {\n  @Input() public topics$: BehaviorSubject<ITopicPageableContent>;\n\n  @Output() public readonly createReq: EventEmitter<ITopic> = new EventEmitter<ITopic>();\n  @Output() public readonly deleteReq: EventEmitter<[number, string, number, string]> =\n      new EventEmitter<[number, string, number, string]>();\n\n  public createBody: ITopic = { name: '', url: '' };\n  public tags = '';\n  public deleteTopic: ISelectItem;\n  public changeTopic: ISelectItem;\n\n  constructor() {}\n\n  public create(): void {\n    this.createReq.emit(this.createBody);\n  }\n\n  ngOnInit(): void {\n    this._clearChangedTopic();\n  }\n\n  private _clearChangedTopic(): void {\n    this.topics$.subscribe(() => {\n      if (this.deleteTopic && this.changeTopic) {\n        this.deleteTopic = null;\n        this.changeTopic = null;\n      }\n    });\n  }\n\n  filteredTopic(topicList: ISelectItem[], topicItem: ISelectItem): ISelectItem[] {\n    if (topicItem) {\n      return topicList.filter((item: ISelectItem) => item.id !== topicItem.id);\n    } else {\n      return topicList;\n    }\n  }\n\n  public delete(): void {\n    this.deleteReq.emit([this.deleteTopic.id, this.tags, this.changeTopic.id, this.deleteTopic.title]);\n  }\n}\n","<form class=\"admin-form\">\n    <div class=\"admin-form__wrap\">\n        <div class=\"admin-form__wrap-main\">\n            <label class=\"admin-input-blc\">\n                <span class=\"admin-input-row__title\">Введите название Темы</span>\n                <span class=\"admin-input-row__inputgroup\">\n                    <input type=\"text\" class=\"admin-input\" name=\"name\" [(ngModel)]=\"createBody.name\">\n                </span>\n            </label>\n            <label class=\"admin-input-blc\">\n                <span class=\"admin-input-row__title\">Введите URL Темы</span>\n                <span class=\"admin-input-row__inputgroup\">\n                    <input type=\"url\" class=\"admin-input\" name=\"url\" [(ngModel)]=\"createBody.url\">\n                </span>\n            </label>\n        </div>\n        <div class=\"admin-form__wrap-bar\">\n            <button class=\"btn admin-form__add\" (click)=\"create()\">\n                <svg id=\"btn-add\" viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\">\n                    <path d=\"M0.5 12C0.5 5.64873 5.64873 0.5 12 0.5C18.3513 0.5 23.5 5.64873 23.5 12C23.5 18.3513 18.3513 23.5 12 23.5C5.64873 23.5 0.5 18.3513 0.5 12Z\" fill=\"white\" stroke=\"#F0F0F0\"></path>\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.7132 11.2856H17.7132C18.1077 11.2856 18.4275 11.6054 18.4275 11.9999C18.4275 12.3943 18.1077 12.7141 17.7132 12.7141H12.7132V17.7141C12.7132 18.1086 12.3934 18.4284 11.9989 18.4284C11.6044 18.4284 11.2846 18.1086 11.2846 17.7141V12.7141H6.2846C5.89011 12.7141 5.57031 12.3943 5.57031 11.9999C5.57031 11.6054 5.89011 11.2856 6.2846 11.2856H11.2846V6.28557C11.2846 5.89109 11.6044 5.57129 11.9989 5.57129C12.3934 5.57129 12.7132 5.89109 12.7132 6.28557V11.2856Z\" fill=\"#00B7FF\"></path>\n                </svg>\n            </button>\n        </div>\n    </div>\n</form>    \n<form class=\"admin-form\" style=\"padding-top: 20px;\">\n    <h2 class=\"admin-blc__title\">Удаление Темы</h2>\n    <div class=\"admin-form__wrap\">\n        <div class=\"admin-form__wrap-main\">\n            <div class=\"admin-input-blc\">\n                <span class=\"admin-input-row__title\">Выберите Тему, которую хотите удалить</span>\n                <app-dashboard-select [items]=\"filteredTopic((topics$ | async).content, changeTopic)\"\n                                      [(selected)]=\"deleteTopic\"\n                ></app-dashboard-select>\n            </div>\n            <label class=\"admin-input-blc\">\n                <span class=\"admin-input-row__title\">Укажите Теги через запятую до 10, которые необходимо назначить публикациям удаляемой Темы</span>\n                <span class=\"admin-input-row__inputgroup\">\n                    <textarea name=\"tags\" class=\"admin-textarea\" [(ngModel)]=\"tags\"></textarea>\n                </span>\n            </label>\n            <div class=\"admin-input-blc\">\n                <span class=\"admin-input-row__title\">Выберите Тему, в которую необходимо перенести публикации</span>\n                <app-dashboard-select [items]=\"filteredTopic((topics$ | async).content, deleteTopic)\" [(selected)]=\"changeTopic\"></app-dashboard-select>\n            </div>\n        </div>\n        <div class=\"admin-form__wrap-bar\">\n            <button class=\"btn admin-form__del\"\n                    [disabled]=\"(!deleteTopic || !changeTopic) || deleteTopic.id === changeTopic.id\"\n                    (click)=\"delete()\">\n                <svg id=\"btn-cross\" viewBox=\"0 0 26 26\" width=\"24px\" height=\"24px\">\n                    <path d=\"M1.5 13C1.5 6.64873 6.64873 1.5 13 1.5C19.3513 1.5 24.5 6.64873 24.5 13C24.5 19.3513 19.3513 24.5 13 24.5C6.64873 24.5 1.5 19.3513 1.5 13Z\" fill=\"white\" stroke=\"#F0F0F0\"></path>\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13.0015 11.9898L16.5371 8.45431C16.816 8.17537 17.2683 8.17537 17.5472 8.45431C17.8262 8.73326 17.8262 9.18552 17.5472 9.46447L14.0117 13L17.5472 16.5355C17.8262 16.8145 17.8262 17.2667 17.5472 17.5457C17.2683 17.8246 16.816 17.8246 16.5371 17.5457L13.0015 14.0102L9.466 17.5457C9.18705 17.8246 8.73479 17.8246 8.45584 17.5457C8.1769 17.2667 8.1769 16.8145 8.45584 16.5355L11.9914 13L8.45584 9.46447C8.1769 9.18552 8.1769 8.73326 8.45584 8.45431C8.73479 8.17537 9.18705 8.17537 9.466 8.45431L13.0015 11.9898Z\" fill=\"#00B7FF\"></path>\n                </svg>\n            </button>\n        </div>\n    </div>              \n</form>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TopicsManagementPageRoutingModule } from './topics-management-page-routing.module';\nimport { TopicsManagementPageComponent } from './topics-management-page.component';\nimport { TopicsBlockComponent } from './components/topics-block/topics-block.component';\nimport { TopicsPanelComponent } from './components/topics-panel/topics-panel.component';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DashboardSelectModule } from '@modules/dashboard/shared/ui/dashboard-select/dashboard-select.module';\n\n@NgModule({\n  declarations: [TopicsManagementPageComponent, TopicsBlockComponent, TopicsPanelComponent],\n  imports: [CommonModule, TopicsManagementPageRoutingModule, DashboardSelectModule, FormsModule, TranslateModule],\n})\nexport class TopicsManagementPageModule {}\n"]}