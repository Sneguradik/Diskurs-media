{"version":3,"sources":["./src/app/shared/modules/user-view/user-view.module.ts","./src/app/modules/content-overview/pages/author-list-page/ranges-authors.function.ts","./src/app/shared/classes/abstract-user-list-component.ts","./src/app/shared/functions/extract-query.function.ts","./src/app/shared/modules/user-view/user-view.component.ts","./src/app/shared/modules/user-view/user-view.component.html","./src/app/modules/content-overview/pages/author-list-page/filters-authors.function.ts"],"names":[],"mappings":"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","file":"default~pages-author-list-page-author-list-page-module~pages-company-list-page-company-list-page-module-es2015.js","sourcesContent":["import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { UserViewComponent } from './user-view.component';\nimport { SvgModule } from '../svg/svg.module';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { CommonDirectivesModule } from '@shared/directives/directives.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\n\n@NgModule({\n  declarations: [UserViewComponent],\n  imports: [\n    CommonModule,\n    SvgModule,\n    SharedPipesModule,\n    SharedUiModule,\n    RouterModule,\n    CommonDirectivesModule,\n    TranslateModule.forChild(),\n    SharedComponentsModule\n  ],\n  exports: [UserViewComponent],\n})\nexport class UserViewModule {}\n","import { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { IUserQuery } from '@api/schemas/user/user-query.interface';\nimport { UserOrderEnum } from '@api/schemas/user/user-order.enum';\nimport { LocaleEnum } from '@api/schemas/locale/locale.enum';\nimport { TranslateService } from '@ngx-translate/core';\n\nexport function rangesAuthors(translateService: TranslateService): IToggleItem<never, IUserQuery>[] {\n    return [\n        {\n            id: 10,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_DAY'),\n            query: () => ({\n                order: UserOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24,\n            }),\n        },\n        {\n            id: 6,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_3_DAYS'),\n            query: () => ({\n                order: UserOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 3,\n            }),\n        },\n        {\n            id: 7,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_WEEK'),\n            query: () => ({\n                order: UserOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 7,\n            }),\n        },\n        {\n            id: 8,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_MONTH'),\n            query: () => ({\n                order: UserOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 30,\n            }),\n        },\n        {\n            id: 9,\n            text: translateService.instant('COMMON.SORT_BY_POPULARITY_YEAR'),\n            query: () => ({\n                order: UserOrderEnum.RATING,\n                'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 30 * 12,\n            }),\n        },\n        {\n            id: 0,\n            text: translateService.instant('COMMON.SORT_BY_NUMBER_OF_SUNSCRIBERS'),\n            query: { order: UserOrderEnum.SUB_COUNT },\n        },\n        {\n            id: 1,\n            text: translateService.instant('COMMON.SORT_BY_NUMBER_OF_PUBLICATIONS'),\n            query: { order: UserOrderEnum.POST_COUNT },\n        },\n        {\n            id: 2,\n            text: translateService.instant('COMMON.FROM_A_TO_Z_'),\n            query: { order: UserOrderEnum.NAME, locale: LocaleEnum.RUSSIAN, asc: true },\n        },\n        {\n            id: 3,\n            text: translateService.instant('COMMON.FROM_Z_TO_A_'),\n            query: { order: UserOrderEnum.NAME, locale: LocaleEnum.RUSSIAN },\n        },\n        {\n            id: 4,\n            text: translateService.instant('COMMON.FROM_A_TO_Z'),\n            query: { order: UserOrderEnum.NAME, locale: LocaleEnum.ENGLISH, asc: true },\n        },\n        {\n            id: 5,\n            text: translateService.instant('COMMON.FROM_Z_TO_A'),\n            query: { order: UserOrderEnum.NAME, locale: LocaleEnum.ENGLISH },\n        },\n    ];\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AbstractComponent } from './abstract-component.class';\nimport { Subject, BehaviorSubject } from 'rxjs';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { IUserQuery } from '@api/schemas/user/user-query.interface';\nimport { filtersAuthors } from '@modules/content-overview/pages/author-list-page/filters-authors.function';\nimport { rangesAuthors } from '@modules/content-overview/pages/author-list-page/ranges-authors.function';\nimport { TranslateService } from '@ngx-translate/core';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  template: ''\n})\nexport abstract class AbstractUserListComponent extends AbstractComponent implements OnInit {\n  protected readonly onRangeOrFilter$: Subject<number> = new Subject<number>();\n  protected query: string;\n\n  public readonly isLoading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  public activeFilter: number = null;\n  public selectedFilter: IToggleItem;\n  public filters: IToggleItem<never, IUserQuery>[] = filtersAuthors(this.translateService);\n  public ranges: IToggleItem<never, IUserQuery>[] = rangesAuthors(this.translateService);\n  public selectedRange: IToggleItem = this.ranges[5];\n  public activeRange: number = this.selectedRange.id;\n\n  public currentPage = -1;\n  public totalPages = 1;\n  public isLoading = false;\n\n  constructor(protected readonly translateService: TranslateService) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.onRangeOrFilter$.pipe(\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe(() => this.reset());\n\n    this.isLoading$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: boolean) => this.isLoading = _);\n  }\n\n  public abstract fetchNextPage(): void;\n\n  public abstract reset(): void;\n\n  public handleSearch(query: string): void {\n    this.query = query;\n    if (!this.isLoading) {\n      this.reset();\n    }\n  }\n\n  public filterEvent(filterItem: IToggleItem): void {\n    this.selectedFilter = filterItem;\n    this.activeFilter = filterItem?.id;\n\n    this.selectedRange = null;\n    this.activeRange = null;\n    this.onRangeOrFilter$.next(0);\n  }\n\n  public rangeEvent(range: IToggleItem): void {\n    this.selectedRange = range;\n    this.activeRange = range?.id;\n    this.selectedFilter = null;\n    this.activeFilter = null;\n    this.onRangeOrFilter$.next(0);\n  }\n}\n","import { IToggleItem } from '@shared/interfaces/toggle-item.interface';\n\nexport function extractQuery<T, Q>(item: IToggleItem<T, Q>): Q | {} {\n    let result: Q | {};\n    if (!item || !item.query) {\n        result = {};\n    } else if (item.query instanceof Function) {\n        result = item.query();\n    } else {\n        result = item.query;\n    }\n    return result;\n}\n","import { Component, EventEmitter, Input, Output, OnDestroy } from '@angular/core';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { UsersService } from '@api/routes/users.service';\nimport { SessionService } from '@app/services/session.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-user-view',\n  templateUrl: './user-view.component.html',\n  styleUrls: ['./user-view.component.scss'],\n})\nexport class UserViewComponent extends AbstractComponent implements OnDestroy {\n  @Input() public data: IUserView;\n\n  @Output() public readonly gone: EventEmitter<number> = new EventEmitter<number>();\n\n  constructor(\n    private readonly usersService: UsersService,\n    private readonly sessionService: SessionService,\n    private readonly userDropdownService: UserDropdownService,\n    public readonly responsive: ResponsiveService,\n  ) { super(); }\n\n  public toggleSubscribe(): void {\n    if (this.sessionService.loggedIn$.value) {\n      this.usersService.subscribe$(this.data.meta.id, this.data.subscribers.you).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        this.data.subscribers.you = !this.data.subscribers.you;\n      });\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public delete(): void {\n    this.usersService.delete$(this.data.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n  }\n}\n","<li class=\"user-view\">\n    <header class=\"user-view__header\">\n        <a class=\"title\" [routerLink]=\"data | accountUrl\">\n            <app-ui-icon class=\"margin-right-20\" size=\"{{ (responsive.lt.medium | async) ? 'medium' : 'large' }}\" [src]=\"this.data.info.picture\" [textAlternative]=\"this.data.info | personName\"></app-ui-icon>\n            <div class=\"tname\" style=\"min-width: 150px;\">\n                <p class=\"name\">{{ this.data.info | personName | trunk:22 }}</p>\n                <p *ngIf=\"this.data.info.username\" class=\"username\">@{{ this.data.info.username }}</p>\n            </div>\n        </a>\n        <aside>\n            <div *ngIf=\"!this.data.subscribers.you\" class=\"button-1 margin-right-10 btn\" (click)=\"toggleSubscribe()\">\n                <span *ngIf=\"!(responsive.lt.medium | async)\" class=\"margin-right-10\">{{ 'COMMON.SUBSCRIBE' | translate }}</span>\n                <svg name=\"plus\" size=\"18\"></svg>\n            </div>\n            <div *ngIf=\"this.data.subscribers.you\" class=\"button-1 margin-right-10 btn only-icon-click\">\n                <span *ngIf=\"!(responsive.lt.medium | async)\" class=\"margin-right-10\" style=\"color: #92929D;\">{{ 'COMMON.YOU_ARE_ALREADY' | translate }}</span>\n                <svg name=\"tick\" size=\"18\" (click)=\"toggleSubscribe()\"></svg>\n            </div>\n            <app-action-menu-user *appLoggedIn [data]=\"this.data\" (gone)=\"this.gone.next(data.meta.id)\"></app-action-menu-user>\n        </aside>\n    </header>\n    <footer class=\"user-view__footer\">\n        <ng-content></ng-content>\n    </footer>\n</li>\n","import { TranslateService } from '@ngx-translate/core';\nimport { IUserQuery } from '@api/schemas/user/user-query.interface';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\nimport { UserOrderEnum } from '@api/schemas/user/user-order.enum';\n\nexport function filtersAuthors(translateService: TranslateService): IToggleItem<never, IUserQuery>[] {\n    return [\n        {\n            id: 0,\n            text: translateService.instant('COMMON.MY_SUBSCRIPTIONS'),\n            query: { sub: true, order: UserOrderEnum.LAST_POST_TIME },\n        },\n        {\n            id: 1,\n            text: translateService.instant('COMMON.RECOMMENDED'),\n            query: { order: UserOrderEnum.RATING, 'rating-after': Date.now() - 1000 * 60 * 60 * 24 * 7 },\n        },\n        {\n            id: 2,\n            text: translateService.instant('COMMON.RECENT'),\n            query: { order: UserOrderEnum.LAST_POST_TIME },\n        }\n    ];\n}\n"],"sourceRoot":"webpack:///"}