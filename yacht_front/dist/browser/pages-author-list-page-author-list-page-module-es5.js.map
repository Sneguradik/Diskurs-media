{"version":3,"sources":["webpack:///src/app/modules/content-overview/pages/author-list-page/author-list-page.module.ts","webpack:///src/app/modules/content-overview/pages/author-list-page/author-list-page-routing.module.ts","webpack:///src/app/modules/content-overview/pages/author-list-page/author-list-page.component.ts","webpack:///src/app/modules/content-overview/pages/author-list-page/author-list-page.component.html"],"names":["AuthorListPageModule","forChild","declarations","imports","routes","path","component","AuthorListPageRoutingModule","exports","AuthorListPageComponent","translateService","usersService","sessionService","sidebarWrapperService","authors","ngOnInit","setTimeout","params$","next","article","trending","navigation","live","showSidebar","fetchNextPage","isLoading","currentPage","totalPages","isLoading$","params","selectedRange","selectedFilter","query","get$","pipe","ngOnDestroy$","subscribe","response","handledItems","content","filter","item","meta","id","userId","push","page","remove","author","reset","selector","templateUrl","styleUrls"],"mappings":"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","file":"pages-author-list-page-author-list-page-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AuthorListPageRoutingModule } from './author-list-page-routing.module';\nimport { AuthorListPageComponent } from './author-list-page.component';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { RangesModule } from '@shared/modules/ranges/ranges.module';\nimport { NavbarModule } from '@modules/content-overview/navbar/navbar.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { UserViewModule } from '@shared/modules/user-view/user-view.module';\nimport { FiltersModule } from '@shared/modules/filters/filters.module';\n\n\n@NgModule({\n  declarations: [AuthorListPageComponent],\n  imports: [\n    CommonModule,\n    AuthorListPageRoutingModule,\n    SharedUiModule,\n    SharedPipesModule,\n    SharedComponentsModule,\n    SvgModule,\n    RangesModule,\n    NavbarModule,\n    TranslateModule.forChild(),\n    UserViewModule,\n    FiltersModule\n  ]\n})\nexport class AuthorListPageModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthorListPageComponent } from './author-list-page.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthorListPageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuthorListPageRoutingModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { UsersService } from '@api/routes/users.service';\nimport { SessionService } from '@app/services/session.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { extractQuery } from '@shared/functions/extract-query.function';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { AbstractUserListComponent } from '@shared/classes/abstract-user-list-component';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { takeUntil } from 'rxjs/operators';\nimport { IUserQuery } from '@api/schemas/user/user-query.interface';\n\n@Component({\n  selector: 'app-author-list-page',\n  templateUrl: './author-list-page.component.html',\n  styleUrls: ['./author-list-page.component.scss']\n})\nexport class AuthorListPageComponent extends AbstractUserListComponent implements OnInit, OnDestroy {\n  public authors: IUserView[] = [];\n\n  constructor(\n    protected readonly translateService: TranslateService,\n    private readonly usersService: UsersService,\n    private readonly sessionService: SessionService,\n    private readonly sidebarWrapperService: SidebarWrapperService\n  ) {\n    super(translateService);\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: true, navigation: true, live: false, showSidebar: true });\n    });\n\n    super.ngOnInit();\n  }\n\n  public fetchNextPage(): void {\n    if (!this.isLoading && this.currentPage < this.totalPages - 1) {\n      this.isLoading$.next(true);\n      this.currentPage += 1;\n      const params: IUserQuery = {\n        ...extractQuery(this.selectedRange),\n        ...extractQuery(this.selectedFilter)\n      };\n      if (this.query) {\n        params.query = this.query;\n      }\n      this.usersService.get$(this.currentPage, params)\n        .pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe((response: IPageResponse<IUserView>) => {\n        const handledItems = response.content.filter((item: IUserView) => item.meta.id !== this.sessionService.userId);\n        this.authors.push(...handledItems);\n        this.currentPage = response.page;\n        this.totalPages = response.totalPages;\n        this.isLoading$.next(false);\n      });\n    }\n  }\n\n  public remove(id: number): void {\n    this.authors = this.authors.filter((author: IUserView) => author.meta.id !== id);\n  }\n\n  public reset(): void {\n    this.currentPage = -1;\n    this.totalPages = 1;\n    this.authors = [];\n    this.fetchNextPage();\n  }\n}\n","<app-navbar [searchPlaceholder]=\"'COMMON.SEARCH_BY_AUTHOR' | translate\"\n            [activeItem]=\"'COMMON.AUTHORS' | translate\"\n            (search)=\"handleSearch($event)\"\n></app-navbar>\n<app-filters [filters]=\"filters\"\n             [activeFilter]=\"activeFilter\"\n             (toggleFilter)=\"filterEvent($event)\"\n></app-filters>\n<app-ranges [ranges]=\"ranges\"\n            [activeRange]=\"activeRange\"\n            (toggleRange)=\"rangeEvent($event)\"\n></app-ranges>\n\n<ul class=\"block-card item-space-20\">\n    <app-user-view\n        *ngFor=\"let author of authors\"\n        [data]=\"author\"\n        (gone)=\"remove($event)\">\n        <div class=\"row margin-bottom-6\">\n            <p class=\"stats-item\">\n                {{ 'COMMON.AUTHORS_RATING' | translate}}\n                <span class=\"stats-item__value\">{{ author.rating > 0 ? '+' : '' }}{{ author.rating }}</span>\n            </p>\n            <p class=\"stats-item\">\n                {{ 'COMMON.PUBLICATIONS_' | translate}}\n                <span class=\"stats-item__value\">{{ author.postCount | bigNumbers }}</span>\n            </p>\n            <aside class=\"subscribers\">\n                <p class=\"stats-item\">\n                    {{ 'COMMON.SUBSCRIBERS' | translate}}\n                    <span class=\"stats-item__value\">{{ author.subscribers.count | bigNumbers }}</span>\n                </p>\n            </aside>\n        </div>\n    </app-user-view>\n</ul>\n\n<app-pagination [page]=\"currentPage\" [maxPages]=\"totalPages\" [enabled]=\"!isLoading\" (onPage)=\"fetchNextPage()\"></app-pagination>\n"]}