{"version":3,"sources":["./src/app/shared/services/users-resolver.service.ts","./src/app/modules/user/pages/user-edit-page/user-edit-page-routing.module.ts","./src/app/modules/user/pages/user-edit-page/notifications-control/notification-params.const.ts","./src/app/shared/utils/id-map.operator.ts","./src/app/modules/user/pages/user-edit-page/notifications-control/notifications-control.component.ts","./src/app/modules/user/pages/user-edit-page/notifications-control/notifications-control.component.html","./src/app/shared/classes/pageable-conetnt.class.ts","./src/app/shared/utils/not-found.operator.ts","./src/app/modules/user/pages/user-edit-page/user-search/user-search.component.ts","./src/app/modules/user/pages/user-edit-page/user-search/user-search.component.html","./src/app/api/schemas/notification/not-setting.enum.ts","./src/app/modules/user/pages/user-edit-page/company-members/company-members.component.ts","./src/app/modules/user/pages/user-edit-page/company-members/company-members.component.html","./src/app/modules/user/pages/user-edit-page/user-edit-page.module.ts","./src/app/modules/user/pages/user-edit-page/user-edit-page.component.ts","./src/app/modules/user/pages/user-edit-page/user-edit-page.component.html"],"names":[],"mappings":"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","file":"pages-user-edit-page-user-edit-page-module-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, Router } from '@angular/router';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { UsersService } from '@api/routes/users.service';\nimport { Observable } from 'rxjs';\nimport { notFound } from '@shared/utils/not-found.operator';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UsersResolverService implements Resolve<IUserViewFull> {\n  constructor(\n    private readonly usersService: UsersService,\n    private readonly router: Router\n  ) { }\n\n  resolve(route: ActivatedRouteSnapshot): Observable<IUserViewFull> {\n    return this.usersService.getSingle$(route.params.id).pipe(notFound(this.router));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { UserEditPageComponent } from './user-edit-page.component';\nimport { UsersResolverService } from '@shared/services/users-resolver.service';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserEditPageComponent,\n    resolve: { data: UsersResolverService }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UserEditPageRoutingModule { }\n","import { NotSettingEnum } from '@api/schemas/notification/not-setting.enum';\n\nexport const NOTIFICATION_PARAMS = {\n    system: [\n        {\n            id: 0,\n            title: 'COMMON.NEW_SUBSCRIBER',\n            access: false,\n            active: true,\n            disabled: false,\n            type: NotSettingEnum.EVENT_TYPE,\n        },\n        {\n            id: 1,\n            title: 'COMMON.MESSAGES_FROM_EDITORS',\n            access: false,\n            active: true,\n            disabled: true,\n        },\n        {\n            id: 2,\n            title: 'COMMON.A_COMPLIANT_FROM_USER',\n            access: true,\n            active: true,\n            disabled: false,\n            type: NotSettingEnum.NOTIFY_REPORT,\n        },\n        {\n            id: 3,\n            title: 'COMMON.HURRAY_FUNCTIONALITY',\n            access: false,\n            active: true,\n            disabled: true,\n        },\n        {\n            id: 4,\n            title: 'COMMON.YOUR_PROFILE_BANNED',\n            access: false,\n            active: true,\n            disabled: true,\n        },\n    ],\n    comment: [\n        {\n            id: 0,\n            title: 'COMMON.NEW_COMMENT_FROM_BOOKMARK',\n            active: true,\n            disabled: false,\n            type: NotSettingEnum.BOOKMARKED_POST_COMMENT,\n        },\n        {\n            id: 1,\n            title: 'COMMON.NEW_REPLY_COMMENT',\n            active: true,\n            disabled: false,\n            type: NotSettingEnum.REPLY,\n        },\n        {\n            id: 2,\n            title: 'COMMON.NEW_COMMENT_PUBLICATION',\n            active: true,\n            disabled: false,\n            type: NotSettingEnum.AUTHORED_POST_COMMENT,\n        },\n        {\n            id: 3,\n            title: 'COMMON.NEW_MEANING',\n            active: true,\n            disabled: false,\n            type: NotSettingEnum.COMMENT_MENTION,\n        },\n        ],\n        publication: [\n        {\n            id: 0,\n            title: 'COMMON.PUBLICATION_PUBLISHED',\n            active: true,\n            disabled: false,\n            type: NotSettingEnum.NOTIFY_PUBLISHED,\n        },\n        {\n            id: 1,\n            title: 'COMMON.PUBLICATION_MODERATING',\n            active: true,\n            disabled: false,\n            type: NotSettingEnum.NOTIFY_REVIEWING,\n        },\n        {\n            id: 5,\n            title: 'COMMON.USER_SENT_MODERATION',\n            access: true,\n            active: true,\n            disabled: false,\n            type: NotSettingEnum.NOTIFY_SUBMITTED,\n        },\n        {\n            id: 2,\n            title: 'COMMON.PUBLICATION_DRAFTED',\n            active: true,\n            disabled: false,\n            type: NotSettingEnum.NOTIFY_DRAFTED,\n        },\n        {\n            id: 3,\n            title: 'COMMON.PUBLICATION_BLOCKED',\n            active: true,\n            disabled: false,\n            type: NotSettingEnum.NOTIFY_BLOCKED,\n        },\n        {\n            id: 4,\n            title: 'COMMON.PUBLICATION_DELETED',\n            active: true,\n            disabled: true,\n        },\n    ],\n};\n","import { OperatorFunction } from 'rxjs';\nimport { ParamMap } from '@angular/router';\nimport { map } from 'rxjs/operators';\n\nexport function idMap(): OperatorFunction<ParamMap, string | number> {\n    return map((value: ParamMap) => {\n        const id: string = value.get('id');\n        return !/^\\d+$/.test(id) ? id : parseInt(id, 10);\n    });\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  Output,\n  EventEmitter,\n  SimpleChanges,\n  ChangeDetectionStrategy,\n  OnChanges,\n} from '@angular/core';\nimport { INotSetting } from '@api/schemas/notification/not-setting.interface';\nimport { INotificationControl } from './notification-control.interface';\nimport { SessionService } from '@app/services/session.service';\nimport { NOTIFICATION_PARAMS } from './notification-params.const';\nimport { INotificationControlItem } from '@modules/user/pages/user-edit-page/notifications-control/notification-control-item.interface';\n\n@Component({\n  selector: 'app-notifications-control',\n  templateUrl: './notifications-control.component.html',\n  styleUrls: ['./notifications-control.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NotificationsControlComponent implements OnInit, OnChanges {\n  @Input() public data: INotSetting[] = [];\n  @Input() public userRoles: string[];\n\n  @Output() public readonly settings: EventEmitter<INotSetting[]> = new EventEmitter<INotSetting[]>();\n\n  public params: INotificationControl;\n\n  public get isEditor(): boolean {\n    return this.userRoles.includes('ROLE_CHIEF_EDITOR') || this.userRoles.includes('ROLE_SUPERUSER');\n  }\n\n  constructor(public readonly session: SessionService) {\n    this.params = NOTIFICATION_PARAMS;\n  }\n\n  ngOnInit(): void {\n    this.parseData();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.data) {\n      this.parseData();\n    }\n  }\n\n  private parseData(): void {\n    if (this.data) {\n      Object.values(this.params).forEach((value: INotificationControlItem[]) => {\n        value.forEach((notify: INotificationControlItem) => {\n          const filteredNotify = this.data.find((item: INotSetting) => item.type === notify.type);\n          notify.active = filteredNotify ? filteredNotify.active : notify.active;\n        });\n      });\n    }\n  }\n\n  public change(notify: any): void {\n    if (notify.disabled) {\n      return;\n    }\n\n    const notifications: INotSetting[] = [...this.params.comment, ...this.params.publication, ...this.params.system]\n      .map((item: INotificationControlItem) => item.type ? { type: item.type, active: item.active } : null)\n      .filter(Boolean);\n\n    const selectedNotify = notifications.find((item: INotSetting) => item.type === notify.type);\n    selectedNotify.active = !selectedNotify.active;\n    this.settings.emit(notifications);\n  }\n\n}\n","<!-- SYSTEM -->\n<ng-container>\n    <span>{{ 'COMMON.SYSTEM_NOTIFICATIONS' | translate}}</span>\n    <ng-container *ngFor=\"let item of params.system\">\n        <section *ngIf=\"isEditor || !item.access\">\n            <label>{{ item.title | translate }}</label>\n            <div class=\"round\" (click)=\"change(item)\">\n                <svg\n                [name]=\"!item.disabled ? (item.active ? 'tick' : 'btn-add') : 'not-disabled'\"\n                [ngClass]=\"{ 'on': item.active, 'off': !item.active }\"\n                [size]=\"item.active ? 15 : 24\">\n                </svg>\n            </div>\n        </section>\n    </ng-container>\n    <br>\n</ng-container>\n\n<!-- COMMENTS -->\n<ng-container>\n    <span>{{ 'COMMON.COMMENTS' | translate}}</span>\n    <ng-container *ngFor=\"let item of params.comment\">\n        <section *ngIf=\"isEditor || !item.access\">\n            <label>{{ item.title | translate}}</label>\n            <div class=\"round\" (click)=\"change(item)\">\n                <svg \n                    [name]=\"!item.disabled ? (item.active ? 'tick' : 'btn-add') : 'not-disabled'\" \n                    [ngClass]=\"{ 'on': item.active, 'off': !item.active }\" \n                    [size]=\"item.active ? 15 : 24\">\n                </svg>\n            </div>\n        </section>\n    </ng-container>\n    <br>\n</ng-container>\n\n<!-- PUBLICATIONS -->\n<ng-container>\n    <span>{{ 'COMMON.PUBLICATION' | translate}}</span>\n    <ng-container *ngFor=\"let item of params.publication\">\n        <section *ngIf=\"isEditor || !item.access\">\n            <label>{{ item.title | translate}}</label>\n            <div class=\"round\" (click)=\"change(item)\">\n                <svg \n                    [name]=\"!item.disabled ? (item.active ? 'tick' : 'btn-add') : 'not-disabled'\" \n                    [ngClass]=\"{ 'on': item.active, 'off': !item.active }\" \n                    [size]=\"item.active ? 15 : 24\">\n                </svg>\n            </div>\n        </section>\n    </ng-container>\n</ng-container>\n","import { BehaviorSubject, Subject, Observable } from 'rxjs';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { debounce, filter, first, tap, mapTo } from 'rxjs/operators';\n\nexport const NO_CONTENT = Symbol('NO_CONTENT');\n\nexport class PageableContent<T, O = any> {\n  public readonly isFetching$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  public readonly content$: Subject<T[]> = new Subject<T[]>();\n  public readonly options$: BehaviorSubject<O>;\n  public readonly end$ = new Subject();\n\n  public content: T[] = [];\n  public page = -1;\n  public totalPages = 1;\n\n  private readonly fetchCommand$: Subject<never> = new Subject<never>();\n\n  constructor(\n    private readonly fetchNextFn$: (page: number, options: O) => Observable<IPageResponse<T>>,\n    options: O = null\n  ) {\n    this.options$ = new BehaviorSubject<O>(options);\n    this.fetchCommand$.pipe(debounce(() => this.isFetching$.pipe(filter((_: boolean) => !_)))).subscribe(() => this.fetchNextPage());\n  }\n\n  public fetch(): void {\n    if (this.page < this.totalPages - 1) {\n      this.fetchCommand$.next();\n    }\n  }\n\n  public reset$(hard: boolean = true): Observable<any> {\n    return this.isFetching$.pipe(\n      filter((it: boolean) => !it),\n      first(),\n      tap(() => {\n        if (hard) {\n          this.content.splice(0, this.content.length);\n        }\n        this.page = -1;\n        this.totalPages = 1;\n      }),\n    );\n  }\n\n  public setOptionsWithReset$(options: O, hard: boolean = true): Observable<O> {\n    return this.reset$(hard).pipe(\n      tap(() => {\n        this.options$.next(options);\n        this.fetch();\n      }),\n      mapTo(options),\n    );\n  }\n\n  private fetchNextPage(): void {\n    this.isFetching$.next(true);\n    this.fetchNextFn$(this.page + 1, this.options$.value).subscribe(\n      (response: IPageResponse<T>) => {\n        this.page = response.page;\n        this.totalPages = response.totalPages;\n        this.content$.next(response.content);\n        if (this.page >= this.totalPages - 1) {\n          this.end$.next();\n        }\n        this.content.push(...response.content);\n        this.isFetching$.next(false);\n      },\n      (error: any) => {\n        this.isFetching$.next(false);\n        if (error !== Symbol('NO_CONTENT')) {\n          throw error;\n        }\n      },\n    );\n  }\n}\n","import { OperatorFunction, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\nexport function notFound(router: Router): OperatorFunction<any, any> {\n    return catchError((error: HttpErrorResponse) => {\n        if (error.status === 404 || error.status === 422) {\n            router.navigateByUrl('/404');\n        }\n        return throwError(error);\n    });\n}\n","import { Component, OnInit, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { UsersService } from '@api/routes/users.service';\nimport { debounceTime, tap, filter, map, switchMap, takeUntil } from 'rxjs/operators';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { LocaleEnum } from '@api/schemas/locale/locale.enum';\n\n@Component({\n  selector: 'app-user-search',\n  templateUrl: './user-search.component.html',\n  styleUrls: ['./user-search.component.scss']\n})\nexport class UserSearchComponent extends AbstractComponent implements OnInit, OnDestroy {\n  @Input() public members: IUserView[];\n\n  @Output() public readonly addUser: EventEmitter<IUserView> = new EventEmitter<IUserView>();\n\n  private readonly query$: Subject<string> = new Subject<string>();\n\n  public hasFocus = false;\n  public filteredUsers: IUserView[] = [];\n\n  constructor(private readonly usersService: UsersService) { super(); }\n\n  ngOnInit(): void {\n    this.subscribeToQueryChange();\n  }\n\n  private subscribeToQueryChange(): void {\n    this.query$.pipe(\n      debounceTime(300),\n      tap((query: string) => {\n        if (query === '') {\n          this.filteredUsers = [];\n        }\n      }),\n      filter((query: string) => query !== ''),\n      switchMap((query: string) => this.search$(query)),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe((users: IUserView[]) => {\n      this.filteredUsers = users;\n    });\n  }\n\n  private search$(query: string): Observable<IUserView[]> {\n    return this.usersService.get$(0, { query, locale: LocaleEnum.ALL }).pipe(map((response: IPageResponse<IUserView>) => response.content));\n  }\n\n  public isMember(id: number): boolean {\n    return !!this.members.find((member: IUserView) => member.meta.id === id);\n  }\n\n  public onSearchChange(query: string): void {\n    this.query$.next(query);\n  }\n\n  public onAddClick(user: IUserView): void {\n    this.addUser.emit(user);\n  }\n}\n","<div>\n    <div class=\"search-field\">\n        <input #searchInput \n            class=\"margin-right-10\" type=\"text\"\n            [placeholder]=\"'COMMON.SEARCH_AUTHOR' | translate\" (input)=\"onSearchChange($any($event.target).value)\">\n        <svg name=\"search\" class=\"icon f-gray align-right\"\n            (click)=\"onSearchChange(searchInput.value)\"></svg>\n    </div>\n  \n    <div *ngIf=\"filteredUsers.length\" class=\"users\">\n        <div *ngFor=\"let user of filteredUsers\" class=\"user\">\n            <app-ui-icon [src]=\"user.info.picture\" [size]=\"'large'\" [textAlternative]=\"\"></app-ui-icon>\n                <div class=\"user-info fade-1\">\n                <h4 class=\"margin-bottom-5\">{{ user.info.firstName }} {{ user.info.lastName }}</h4>\n                <h6 *ngIf=\"user.info.username\">@{{ user.info.username }}</h6>\n            </div>\n            <app-ui-button *ngIf=\"!isMember(user.meta.id)\" type=\"button\" (click)=\"onAddClick(user)\" class=\"plus\">Пригласить</app-ui-button>\n        </div>\n    </div>\n</div>  \n","export enum NotSettingEnum {\n    EVENT_TYPE = 'EVENT_TYPE',\n    AUTHORED_POST_COMMENT = 'AUTHORED_POST_COMMENT',\n    NOTIFY_REPORT = 'NOTIFY_REPORT',\n    BOOKMARKED_POST_COMMENT = 'BOOKMARKED_POST_COMMENT',\n\n    REPLY = 'REPLY',\n    WATCHED_COMMENT_REPLY = 'WATCHED_COMMENT_REPLY',\n    COMMENT_MENTION = 'COMMENT_MENTION',\n\n    NOTIFY_SUBMITTED = 'NOTIFY_SUBMITTED',\n    NOTIFY_PUBLISHED = 'NOTIFY_PUBLISHED',\n    NOTIFY_BLOCKED = 'NOTIFY_BLOCKED',\n    NOTIFY_REVIEWING = 'NOTIFY_REVIEWING',\n    NOTIFY_DRAFTED = 'NOTIFY_DRAFTED',\n}\n","import { Component, OnInit, Input } from '@angular/core';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { CompaniesService } from '@api/routes/companies.service';\nimport { takeUntil, startWith, toArray, map, switchMap } from 'rxjs/operators';\nimport { Observable, range, of } from 'rxjs';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { flatten } from '@angular/compiler';\nimport { PageableContent, NO_CONTENT } from '@shared/classes/pageable-conetnt.class';\n\n@Component({\n  selector: 'app-company-members',\n  templateUrl: './company-members.component.html',\n  styleUrls: ['./company-members.component.scss']\n})\nexport class CompanyMembersComponent extends AbstractComponent implements OnInit {\n  @Input() public id: number;\n\n  public readonly pageable: PageableContent<IUserView, number> = new PageableContent<IUserView, number>(this.fetch$.bind(this), null);\n\n  public members: IUserView[];\n  public isMemberSearchVisible = false;\n\n  constructor(private readonly companiesService: CompaniesService) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.fetchMembers$(this.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe((members: IUserView[]) => (this.members = members));\n  }\n\n  private fetchMembers$(id: number): Observable<IUserView[]> {\n    return this.companiesService.members$(id, 0).pipe(\n      switchMap((response: IPageResponse<IUserView>) => {\n        return response.totalPages > 1\n          ? range(1, response.totalPages - 1).pipe(\n            switchMap((i: number) => this.companiesService.members$(id, i)),\n            startWith(response),\n          )\n          : of(response);\n      }),\n      toArray(),\n      map((responses: IPageResponse<IUserView>[]) =>\n        responses.sort((a: IPageResponse<IUserView>, b: IPageResponse<IUserView>) => a.page - b.page)\n          .map((response: IPageResponse<IUserView>) => response.content)),\n      map((contents: IUserView[][]) => {\n        return flatten(contents);\n      }),\n    );\n  }\n\n  public fetch$(page: number, id: number): Observable<IPageResponse<IUserView>> {\n    if (id === null) {\n      throw NO_CONTENT;\n    }\n    return this.companiesService.members$(id, page);\n  }\n\n  public onAddMemberClick(): void {\n    this.isMemberSearchVisible = true;\n  }\n\n  public onAddMember(member: IUserView): void {\n    this.companiesService.toggleMember$(this.id, member.meta.id, false).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.members.push(member);\n    });\n  }\n\n  public onRemoveMemberClick(member: IUserView): void {\n    this.companiesService.toggleMember$(this.id, member.meta.id, true).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.members.splice(\n        this.members.findIndex((user: IUserView) => user === member),\n        1,\n      );\n    });\n  }\n}\n","<div *ngIf=\"members\" class=\"company-team\">\n    <div *ngFor=\"let member of members\" class=\"company-member\">\n        <app-ui-icon [src]=\"member.info.picture\" [size]=\"'large'\" [textAlternative]=\"member.info | personName\"></app-ui-icon>\n        <svg name=\"btn-cross\" class=\"company-member-remove\" (click)=\"onRemoveMemberClick(member)\"></svg>\n        <div class=\"company-member-info\">\n            <h5 class=\"company-member-name fade-1\">{{ member.info.firstName }} {{ member.info.lastName }}</h5>\n            <span class=\"company-member-position button-1 fade-1\">{{ member.info.username }}</span>\n        </div>\n    </div>\n\n    <div *ngIf=\"!isMemberSearchVisible\" class=\"company-member company-member--add\" (click)=\"onAddMemberClick()\">\n        <svg name=\"add-user\" class=\"f-primary\" size=\"60\"></svg>\n        <div class=\"company-member-info\">\n            <h5 class=\"c-primary\">{{ 'COMMON.ADD_TEAM_MEMBER' | translate}}</h5>\n        </div>\n    </div>\n\n    <app-user-search *ngIf=\"isMemberSearchVisible\" (addUser)=\"onAddMember($event)\" [members]=\"members\"></app-user-search>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UserEditPageRoutingModule } from './user-edit-page-routing.module';\nimport { UserEditPageComponent } from './user-edit-page.component';\nimport { CompanyMembersComponent } from './company-members/company-members.component';\nimport { NotificationsControlComponent } from './notifications-control/notifications-control.component';\nimport { UserSearchComponent } from './user-search/user-search.component';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CommonDirectivesModule } from '@shared/directives/directives.module';\n\n\n@NgModule({\n  declarations: [UserEditPageComponent, CompanyMembersComponent, NotificationsControlComponent, UserSearchComponent],\n  imports: [\n    CommonModule,\n    UserEditPageRoutingModule,\n    SharedUiModule,\n    SharedPipesModule,\n    SharedComponentsModule,\n    SvgModule,\n    ReactiveFormsModule,\n    TranslateModule.forChild(),\n    CommonDirectivesModule\n  ]\n})\nexport class UserEditPageModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { INotSetting } from '@api/schemas/notification/not-setting.interface';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { UsersService } from '@api/routes/users.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NotificationsService } from '@api/routes/notifications.service';\nimport { takeUntil, map, tap, catchError, switchMap } from 'rxjs/operators';\nimport { Observable, of, throwError, forkJoin, from } from 'rxjs';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { IUploadImageResponse } from '@api/schemas/image/upload-image-response.interface';\nimport { idMap } from '@shared/utils/id-map.operator';\n\nfunction stripEmpty<T extends {}>(object: T): Partial<T> {\n  return Object.keys(object).reduce((result: {}, key: string) => {\n    const value = object[key];\n    result[key] = value === '' ? null : value;\n    return result;\n  }, {});\n}\n\n@Component({\n  selector: 'app-user-edit-page',\n  templateUrl: './user-edit-page.component.html',\n  styleUrls: ['./user-edit-page.component.scss']\n})\nexport class UserEditPageComponent extends AbstractComponent implements OnInit, OnDestroy {\n  private user$: Observable<IUserViewFull>;\n\n  public user: IUserViewFull;\n  public data: INotSetting[];\n\n  public form: FormGroup = null;\n  public userId: number | string;\n  public cover: File;\n  public coverSrc: string | ArrayBuffer;\n  public photo: File;\n  public photoSrc: string | ArrayBuffer;\n  public photoAlt: string;\n\n  public photoRemove = false;\n  public coverRemove = false;\n\n  public userError = false;\n\n  public get isCompany(): boolean {\n    return this.user.info.company.isCompany;\n  }\n\n  constructor(\n    private readonly usersService: UsersService,\n    private readonly activatedRoute: ActivatedRoute,\n    private readonly fb: FormBuilder,\n    private readonly router: Router,\n    private readonly notificationsService: NotificationsService,\n    private readonly sidebarWrapperService: SidebarWrapperService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: true, navigation: true, live: false, showSidebar: true });\n    });\n\n    this.user$ = this.activatedRoute.paramMap.pipe(\n      idMap(),\n      switchMap((id: string | number) => this.usersService.getSingle$(id))\n    );\n\n    this.notificationsService.getSettings$().pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: INotSetting[]) => {\n      this.data = _;\n    });\n    this.user$.pipe(\n      tap((user: IUserViewFull) => (this.user = user)),\n      switchMap((user: IUserViewFull) => this.createForm$(user)),\n      takeUntil(this.ngOnDestroy$),\n    ).subscribe((form: FormGroup) => (this.form = form));\n  }\n\n  private createForm$(userViewFull: IUserViewFull): Observable<FormGroup> {\n    return of(userViewFull).pipe(\n      map((user: IUserViewFull) => {\n        this.photoAlt = user.info.firstName + ' ' + user.info.lastName;\n        this.photoSrc = user.info.picture;\n        this.coverSrc = user.profile.cover;\n\n        return this.fb.group({\n          info: this.fb.group({\n            firstName: this.fb.control(user.info.firstName),\n            lastName: this.fb.control(user.info.lastName),\n            username: this.fb.control(user.info.username),\n            photo: this.fb.control(user.info.picture || ''),\n            bio: this.fb.control(user.info.bio || ''),\n            company: this.fb.group({\n              name: this.fb.control(user.info.company.name || ''),\n            }),\n          }),\n\n          profile: this.fb.group({\n            cover: this.fb.control(user.profile.cover || ''),\n            fullDescription: this.fb.control(user.profile.fullDescription),\n          }),\n\n          contacts: this.fb.group({\n            email: this.fb.control(user.contacts.email),\n            websiteUrl: this.fb.control(user.contacts.websiteUrl),\n            phone: this.fb.control(user.contacts.phone),\n            instagram: this.fb.control(user.contacts.instagram),\n            vk: this.fb.control(user.contacts.vk),\n            facebook: this.fb.control(user.contacts.facebook),\n            twitter: this.fb.control(user.contacts.twitter),\n            youtube: this.fb.control(user.contacts.youtube),\n            telegram: this.fb.control(user.contacts.telegram),\n          }),\n        });\n      }),\n\n      catchError(() => {\n        return of(null);\n      }),\n      takeUntil(this.ngOnDestroy$),\n    );\n  }\n\n  private update(anotherUser: boolean): void {\n    const observables: Observable<any>[] = [\n      this.usersService.updateProfile$(\n        {\n          firstName: this.form.get('info.firstName').value,\n          lastName: this.form.get('info.lastName').value,\n          bio: this.form.get('info.bio').value,\n          fullDescription: this.form.get('profile.fullDescription').value,\n          company: {\n            name: this.form.get('info.company.name').value,\n          },\n          contact: stripEmpty(this.form.get('contacts').value),\n        },\n        anotherUser ? this.user.meta.id : null,\n      ),\n    ];\n\n    if (this.user.info.username !== this.form.get('info.username').value) {\n      observables.push(\n        this.usersService.setUsername$(this.form.get('info.username').value, anotherUser ? this.user.meta.id : null).pipe(\n          catchError((err: any) => {\n            err.status === 400 ? (this.userError = true) : (this.userError = false);\n            throw throwError('username error');\n          }),\n        ),\n      );\n    }\n\n    if (this.photo || this.photoRemove) {\n      observables.push(this.usersService.updateAvatar$(this.photo, anotherUser ? this.user.meta.id : null));\n    }\n\n    if (this.cover || this.coverRemove) {\n      observables.push(this.usersService.updateCover$(this.cover, anotherUser ? this.user.meta.id : null));\n    }\n\n    observables.push(this.notificationsService.postSettings$(this.data));\n\n    forkJoin(observables).pipe(\n      switchMap(() => from(this.router.navigateByUrl(`user/${this.user.meta.id}`))),\n      switchMap(() => of(window.location.reload())),\n      takeUntil(this.ngOnDestroy$),\n    ).subscribe();\n  }\n\n  public importPictureFromFB(): void {\n    this.usersService.setFBPicture$().pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: IUploadImageResponse) => {\n      this.photoSrc = _.url;\n    });\n  }\n\n  public onCoverChange(files: FileList): void {\n    this.cover = files[0];\n    this.coverRemove = false;\n    const reader: FileReader = new FileReader();\n\n    reader.readAsDataURL(files[0]);\n    reader.onload = (e: any) => {\n      this.coverSrc = e.target.result;\n    };\n  }\n\n  public onPhotoChange(files: FileList): void {\n    this.photo = files[0];\n    this.photoRemove = false;\n    const reader: FileReader = new FileReader();\n\n    reader.readAsDataURL(files[0]);\n    reader.onload = (e: any) => {\n      this.photoSrc = e.target.result;\n    };\n  }\n\n  public onPhotoRemove(): void {\n    this.photoSrc = null;\n    this.photo = null;\n    this.photoRemove = true;\n  }\n\n  public onCoverRemove(): void {\n    this.coverSrc = null;\n    this.cover = null;\n    this.coverRemove = true;\n  }\n\n  public onCancel(): void {\n    this.router.navigate(['/user', this.user.info.username ? this.user.info.username : this.user.meta.id]);\n  }\n\n  public onSubmit(): void {\n    let anotherUser = false;\n    this.usersService.me$().pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: IUserViewFull) => {\n      if (_.meta.id !== this.user.meta.id && (_.roles.includes('ROLE_SUPERUSER') || _.roles.includes('ROLE_CHIEF_EDITOR'))) {\n        anotherUser = true;\n      }\n      this.update(anotherUser);\n    });\n  }\n}\n","<app-ui-card>\n    <form *ngIf=\"form\" [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n        <header class=\"v-center margin-bottom-30 mobile-small\">\n            <span class=\"button-1 fade-5 top-small\" (click)=\"onCancel()\">{{ 'COMMON.UNDO' | translate }}</span>\n            <h6>{{ 'COMMON.EDIT_PROFILE' | translate }}</h6>\n            <div class=\"v-center top-small\">\n                <button type=\"submit\" class=\"v-center space-between align-right clickable\">\n                    <span class=\"button-1\">{{ 'COMMON.SAVE' | translate }}</span>\n                    <svg name=\"checkbox\" class=\"f-white\"></svg>\n                </button>\n            </div>\n        </header>\n\n        <hr class=\"gray margin-bottom-30\"/>\n\n        <section class=\"margin-bottom-30 fade-1\" formGroupName=\"info\">\n            <ng-container *ngIf=\"isCompany\">\n                <section class=\"margin-bottom-20 mobile-grid mob-label\" formGroupName=\"company\">\n                    <h6><label for=\"edit-company-name\">{{ 'COMMON.TITLE' | translate }}</label></h6>\n\n                    <input id=\"edit-company-name\"\n                        class=\"fade-1 h5\"\n                        maxlength=\"26\"\n                        uiInput appearance=\"form\"\n                        formControlName=\"name\">\n                    <label class=\"caption c-caption\" for=\"edit-company-name\">{{ 'COMMON.ALLOWED_CHARACTERS' | translate }}; {{ 'COMMON.MAXIMUM_ALLOWED_26_' | translate }}</label>\n                </section>\n            </ng-container>\n            <ng-container *ngIf=\"!isCompany\">\n                <section class=\"margin-bottom-20 mobile-grid mob-label\">\n                    <h6><label for=\"edit-first-name\">{{ 'COMMON.NAME' | translate }}</label></h6>\n                    <input id=\"edit-first-name\"\n                        class=\"fade-1 h5\"\n                        maxlength=\"12\"\n                        uiInput appearance=\"form\"\n                        formControlName=\"firstName\">\n                    <label class=\"caption c-caption\" for=\"edit-first-name\">{{ 'COMMON.ALLOWED_CHARACTERS' | translate }}; {{ 'COMMON.MAXIMUM_ALLOWED_12' | translate }}</label>\n                </section>\n                <section class=\"margin-bottom-20 mobile-grid mob-label\">\n                    <h6><label for=\"edit-last-name\">{{ 'COMMON.LAST_NAME' | translate }}</label></h6>\n                    <input id=\"edit-last-name\"\n                        class=\"fade-1 h5\"\n                        maxlength=\"12\"\n                        uiInput appearance=\"form\"\n                        formControlName=\"lastName\">\n                    <label class=\"caption c-caption\" for=\"edit-last-name\">{{ 'COMMON.ALLOWED_CHARACTERS' | translate }}; {{ 'COMMON.MAXIMUM_ALLOWED_12' | translate }}</label>\n                </section>\n            </ng-container>\n\n            <section class=\"mobile-grid\">\n                <h6>\n                    <label for=\"edit-username\" [ngClass]=\"{ 'error' : userError }\">\n                        {{ (userError ? 'COMMON.ACCOUNT_NAME_ALREADY_USED' : 'COMMON.ACCOUNTS_NAME') | translate }}\n                    </label>\n                </h6>\n                <input id=\"edit-username\"\n                    class=\"fade-1 h5\"\n                    maxlength=\"30\"\n                    uiInput appearance=\"form\"\n                    formControlName=\"username\">\n                <label class=\"caption c-caption\" for=\"edit-last-name\">{{ 'COMMON.ALLOWED_CHARACTERS_NORU' | translate }}; {{ 'COMMON.MAXIMUM_ALLOWED_30' | translate }}</label>\n            </section>\n        </section>\n\n        <hr class=\"gray margin-bottom-30\"/>\n\n        <section class=\"margin-bottom-30\" formGroupName=\"profile\">\n            <h6 class=\"fade-1 margin-bottom-10\">{{ 'COMMON.PROFILE_IMAGE' | translate }}</h6>\n\n            <img *ngIf=\"coverSrc\" class=\"pre-img\" src=\"{{ coverSrc }}\" />\n\n            <div class=\"v-center bar-under\">\n                <div class=\"file-upload\">\n                    <svg name=\"attach\" size=\"20\"></svg>\n                    <label for=\"cover\">{{ 'COMMON.LOAD_AN_IMAGE' | translate }}</label>\n                    <input id=\"cover\" type=\"file\"\n                        accept=\"image/*\"\n                        (change)=\"onCoverChange($any($event.target).files)\">\n                </div>\n                <span *ngIf=\"coverSrc\" class=\"sub-button btn align-right\" (click)=\"onCoverRemove()\">{{ 'COMMON.REMOVE_THE_PHOTO' | translate }}</span>\n            </div>\n\n            <p class=\"caption c-caption\">{{ 'COMMON.RECOMMENDED_IMAGE_SIZE_' | translate }}</p>\n        </section>\n\n        <hr class=\"gray margin-bottom-30\"/>\n\n        <section class=\"margin-bottom-30\" formGroupName=\"profile\">\n            <h6 class=\"fade-1 margin-bottom-30\">{{ 'COMMON.PROFILE_PHOTO' | translate }}</h6>\n\n            <div class=\"photo-container\">\n                <app-ui-icon [src]=\"photoSrc\" [size]=\"'xlarge'\" [textAlternative]=\"photoAlt\"></app-ui-icon>\n\n                <div class=\"photo-actions\">\n                    <div class=\"file-upload\">\n                        <svg name=\"attach\" size=\"20\"></svg>\n                        <label for=\"photo\">{{ 'COMMON.LOAD_AN_IMAGE' | translate }}</label>\n                        <input id=\"photo\" type=\"file\"\n                            accept=\"image/*\"\n                            (change)=\"onPhotoChange($any($event.target).files)\">\n                    </div>\n                    <p class=\"file-upload-hint\">{{ 'COMMON.RECOMMENDED_IMAGE_SIZE__' | translate }} JPG, 250 x 250 px</p>\n                    <span class=\"sub-button btn margin-bottom-20\" (click)=\"importPictureFromFB()\">{{ 'COMMON.IMPORT_PHOTO' | translate }}</span>\n                    <span *ngIf=\"photoSrc\" class=\"sub-button btn\" (click)=\"onPhotoRemove()\">{{ 'COMMON.REMOVE_THE_PHOTO' | translate }}</span>\n\n                </div>\n            </div>\n        </section>\n\n        <hr class=\"gray margin-bottom-30\"/>\n\n        <section class=\"margin-bottom-30\" formGroupName=\"info\">\n            <h6 class=\"fade-1 margin-bottom-10\">\n                {{ 'COMMON.CREATE_PROFILES_DESCRIPTION' | translate }}\n                <span class=\"description-char-counter\"\n                      [ngClass]=\"{'description-char-counter-err': form.get('info').get('bio').value.length > 215}\">\n                    {{ (215 - form.get('info').get('bio').value.length) + '/215' }}\n                </span>\n            </h6>\n            <app-ui-textarea formControlName=\"bio\" [placeholder]=\"'COMMON.CREATE_PROFILES_SHORT' | translate\"></app-ui-textarea>\n        </section>\n\n        <section class=\"margin-bottom-30\" formGroupName=\"profile\">\n\n            <h6 *ngIf=\"isCompany\" class=\"fade-1 margin-bottom-10\">{{ 'COMMON.INFORMATION' | translate }} {{ 'COMMON.ABOUT_THE_COMPANY_' | translate }}</h6>\n            <h6 *ngIf=\"!isCompany\" class=\"fade-1 margin-bottom-10\">{{ 'COMMON.INFORMATION' | translate }} {{ 'COMMON.ABOUT_THE_AUTHOR_' | translate }}</h6>\n            <app-ui-textarea formControlName=\"fullDescription\" [placeholder]=\"'COMMON.CREATE_PROFILES_DESCRIPTION' | translate\"></app-ui-textarea>\n        </section>\n\n        <hr class=\"gray margin-bottom-30\"/>\n\n        <ng-container *ngIf=\"isCompany\">\n            <section class=\"margin-bottom-30\">\n                <h6 class=\"fade-1\">{{ 'COMMON.TEAM' | translate }}</h6>\n                <app-company-members [id]=\"user.meta.id\"></app-company-members>\n            </section>\n            <hr class=\"gray margin-bottom-30\"/>\n        </ng-container>\n\n        <section formGroupName=\"contacts\">\n            <h6 class=\"fade-1 margin-bottom-20\">{{ 'COMMON.CONTACTS' | translate }}</h6>\n\n            <div class=\"form-contact\">\n                <svg name=\"social/mail\"></svg>\n                <app-ui-form-control>\n                    <input uiInput placeholder=\"contact@website.com\" appearance=\"form\" formControlName=\"email\" type=\"email\">\n                </app-ui-form-control>\n            </div>\n\n            <div class=\"form-contact\">\n                <svg name=\"social/web\"></svg>\n                <app-ui-form-control>\n                    <input uiInput placeholder=\"https://website.com/\" appearance=\"form\" formControlName=\"websiteUrl\" type=\"url\">\n                </app-ui-form-control>\n            </div>\n\n            <div class=\"form-contact\">\n                <svg name=\"social/phone\"></svg>\n                <app-ui-form-control>\n                    <input uiInput placeholder=\"+7 (123) 456-78-90\" appearance=\"form\" formControlName=\"phone\" maxlength=\"32\">\n                </app-ui-form-control>\n            </div>\n\n            <div class=\"form-contact\">\n                <svg name=\"social/vk\"></svg>\n                <app-ui-form-control>\n                    <input uiInput placeholder=\"https://vk.com/user\" appearance=\"form\" formControlName=\"vk\" pattern=\"^(https?://(m\\.)?vk\\.com)/([A-Za-z0-9_.]{2,32})/?$\">\n                </app-ui-form-control>\n            </div>\n\n            <div class=\"form-contact\">\n                <svg name=\"social/twitter\"></svg>\n                <app-ui-form-control>\n                    <input uiInput placeholder=\"https://twitter.com/user\" appearance=\"form\" formControlName=\"twitter\" pattern=\"^https?://(?:www\\.)?twitter\\.com/([a-zA-Z0-9_]+)\">\n                </app-ui-form-control>\n            </div>\n\n            <div class=\"form-contact\">\n                <svg name=\"social/yt\"></svg>\n                <app-ui-form-control>\n                    <input uiInput placeholder=\"https://youtube.com/user\" appearance=\"form\" formControlName=\"youtube\" pattern=\"^https?://(?:[\\w]+\\.)?youtube\\.com/(?:c/|channel/|user/)?([a-zA-Z0-9\\-]+)\">\n                </app-ui-form-control>\n            </div>\n\n            <div class=\"form-contact\">\n                <svg name=\"social/telegram\"></svg>\n                <app-ui-form-control>\n                        <input placeholder=\"https://t.me/user\" uiInput appearance=\"form\" formControlName=\"telegram\" pattern=\"^https?://((www|\\w\\w)\\.|)?t\\.me/.+\">\n                </app-ui-form-control>\n            </div>\n        </section>\n        <hr class=\"gray margin-bottom-30\"/>\n        <h6 class=\"fade-1 margin-bottom-20\">{{ 'COMMON.NOTIFICATION_SETTINGS' | translate }}</h6>\n        <app-notifications-control [data]=\"data\" [userRoles]=\"user.roles\" (settings)=\"data = $event\"></app-notifications-control>\n        <hr class=\"gray margin-bottom-30\"/>\n\n        <footer class=\"v-center space-between\">\n            <span class=\"button-1 fade-5\" (click)=\"onCancel()\">{{ 'COMMON.UNDO' | translate }}</span>\n            <button type=\"submit\" class=\"v-center space-between align-right clickable\">\n                <span class=\"button-1\">{{ 'COMMON.SAVE' | translate }}</span>\n                <svg name=\"checkbox\" class=\"f-white\"></svg>\n            </button>\n        </footer>\n    </form>\n</app-ui-card>\n"],"sourceRoot":"webpack:///"}