{"version":3,"sources":["webpack:///src/app/modules/jobs/job-edit/job-edit.component.ts","webpack:///src/app/modules/jobs/job-edit/job-edit.component.html","webpack:///src/app/modules/jobs/job-edit/job-edit-routing.module.ts","webpack:///src/app/api/schemas/job/job-type.enum.ts","webpack:///src/app/api/schemas/job/job-place.enum.ts","webpack:///src/app/api/schemas/job/job-currency.enum.ts","webpack:///src/app/modules/jobs/job-edit/job-edit.module.ts"],"names":["JobEditComponent","fb","jobsService","route","router","translateService","sidebarWrapperService","CURRENCY","RUB","instant","USD","EUR","TYPE","FULL","PART_TIME","PLACE","OFFICE","REMOTE","uploadedImageName","src","form","group","info","name","required","minSalary","max","min","maxSalary","currency","type","place","city","recruiterName","email","body","tasks","workConditions","requirements","image","_jobId$","subject","paramMap","pipe","params","id","get","parseInt","create$","next","ngOnDestroy$","subscribe","err","error","ngOnInit","setTimeout","params$","article","trending","navigation","live","showSidebar","loadFrom$","jobId","getSingle$","job","patchValue","sendPatch$","value","transformValue$","patch","patch$","meta","val","String","handleUploadFile","event","input","target","file","files","jobId$","updateImage$","_","url","handleFormChange","key","setValue","onSubmit","valid","publish$","navigate","selector","templateUrl","styleUrls","routes","path","component","JobEditRoutingModule","forChild","imports","exports","JobTypeEnum","JobPlaceEnum","JobCurrencyEnum","JobEditModule","declarations"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAqBaA,gB;AAqEX,kCACmBC,EADnB,EAEmBC,WAFnB,EAGmBC,KAHnB,EAImBC,MAJnB,EAKmBC,gBALnB,EAMmBC,qBANnB,EAM+D;AAAA;;AAAA;;AAE7D;AAPiB,gBAAAL,EAAA,GAAAA,EAAA;AACA,gBAAAC,WAAA,GAAAA,WAAA;AACA,gBAAAC,KAAA,GAAAA,KAAA;AACA,gBAAAC,MAAA,GAAAA,MAAA;AACA,gBAAAC,gBAAA,GAAAA,gBAAA;AACA,gBAAAC,qBAAA,GAAAA,qBAAA;AAvEH,gBAAAC,QAAA,uDACb,mFAAgBC,GADH,EACS,MAAKH,gBAAL,CAAsBI,OAAtB,CAA8B,YAA9B,CADT,GAEb,mFAAgBC,GAFH,EAES,MAAKL,gBAAL,CAAsBI,OAAtB,CAA8B,YAA9B,CAFT,GAGb,mFAAgBE,GAHH,EAGS,MAAKN,gBAAL,CAAsBI,OAAtB,CAA8B,YAA9B,CAHT;AAMA,gBAAAG,IAAA,uCACb,2EAAYC,IADC,EACM,MAAKR,gBAAL,CAAsBI,OAAtB,CAA8B,aAA9B,CADN,GAEb,2EAAYK,SAFC,EAEW,MAAKT,gBAAL,CAAsBI,OAAtB,CAA8B,gBAA9B,CAFX;AAKA,gBAAAM,KAAA,uCACb,6EAAaC,MADA,EACS,MAAKX,gBAAL,CAAsBI,OAAtB,CAA8B,qBAA9B,CADT,GAEb,6EAAaQ,MAFA,EAES,MAAKZ,gBAAL,CAAsBI,OAAtB,CAA8B,qBAA9B,CAFT;AAKT,gBAAAS,iBAAA,GAA4B,IAA5B;AACA,gBAAAC,GAAA,GAAc,IAAd;AAES,gBAAAC,IAAA,GAAkB,MAAKnB,EAAL,CAAQoB,KAAR,CAAc;AAC9CC,gBAAI,EAAE,MAAKrB,EAAL,CAAQoB,KAAR,CAAc;AAClBE,kBAAI,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWC,QAAZ,CAAL,CADY;AAElBC,uBAAS,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWC,GAAX,CAAe,OAAf,CAAD,EAA0B,0DAAWC,GAAX,CAAe,CAAf,CAA1B,CAAL,CAFO;AAGlBC,uBAAS,EAAE,CAAC,EAAD,EAAK,CAAC,0DAAWF,GAAX,CAAe,OAAf,CAAD,EAA0B,0DAAWC,GAAX,CAAe,CAAf,CAA1B,CAAL,CAHO;AAIlBE,sBAAQ,EAAE,CAAC,mFAAgBrB,GAAjB,EAAsB,0DAAWgB,QAAjC,CAJQ;AAKlBM,kBAAI,EAAE,CAAC,EAAD,EAAK,0DAAWN,QAAhB,CALY;AAMlBO,mBAAK,EAAE,CAAC,EAAD,EAAK,0DAAWP,QAAhB,CANW;AAOlBQ,kBAAI,EAAE,CAAC,EAAD,CAPY;AAQlBC,2BAAa,EAAE,CAAC,EAAD,CARG;AASlBC,mBAAK,EAAE,CAAC,EAAD,EAAK,0DAAWA,KAAhB;AATW,aAAd,CADwC;AAY9CC,gBAAI,EAAE,MAAKlC,EAAL,CAAQoB,KAAR,CAAc;AAClBe,mBAAK,EAAE,CAAC,EAAD,CADW;AAElBC,4BAAc,EAAE,CAAC,EAAD,CAFE;AAGlBC,0BAAY,EAAE,CAAC,EAAD,CAHI;AAIlBC,mBAAK,EAAE,CAAC,IAAD;AAJW,aAAd;AAZwC,WAAd,CAAlB;AAoD+C;AAG9D;;;;;;eAnCD,eAAiB;AAAA;;AACf,gBAAI,CAAC,KAAKC,OAAV,EAAmB;AACjB,kBAAMC,OAAO,GAA0B,IAAI,kDAAJ,CAA0B,CAA1B,CAAvC;AACA,mBAAKD,OAAL,GAAeC,OAAf;AAEA,mBAAKtC,KAAL,CAAWuC,QAAX,CAAoBC,IAApB,CACE,iEAAU,UAACC,MAAD,EAAsB;AAC9B,oBAAMC,EAAE,GAAWD,MAAM,CAACE,GAAP,CAAW,IAAX,CAAnB;;AACA,oBAAID,EAAE,IAAIE,QAAQ,CAACF,EAAD,EAAK,EAAL,CAAlB,EAA4B;AAC1B,yBAAO,gDAAG,CAACA,EAAJ,CAAP;AACD;;AACD,uBAAO,MAAI,CAAC3C,WAAL,CAAiB8C,OAAjB,EAAP;AACD,eAND,CADF,EAQE,2DAAI,UAACH,EAAD;AAAA,uBAAgBJ,OAAO,CAACQ,IAAR,CAAaJ,EAAb,CAAhB;AAAA,eAAJ,CARF,EASE,iEAAU,KAAKK,YAAf,CATF,EAUEC,SAVF,CAWE,UAACN,EAAD;AAAA,uBAAgBJ,OAAO,CAACQ,IAAR,CAAaJ,EAAb,CAAhB;AAAA,eAXF,EAYE,UAACO,GAAD,EAAc;AACZX,uBAAO,CAACY,KAAR,CAAcD,GAAd;AACA,sBAAI,CAACZ,OAAL,GAAe,IAAf;AACD,eAfH;AAiBD;;AACD,mBAAO,KAAKA,OAAZ;AACD;;;iBAaD,SAAAc,QAAQ;AAAA;;AACNC,sBAAU,CAAC,YAAM;AACf,oBAAI,CAACjD,qBAAL,CAA2BkD,OAA3B,CAAmCP,IAAnC,CAAwC;AAAEQ,uBAAO,EAAE,KAAX;AAAkBC,wBAAQ,EAAE,IAA5B;AAAkCC,0BAAU,EAAE,IAA9C;AAAoDC,oBAAI,EAAE,KAA1D;AAAiEC,2BAAW,EAAE;AAA9E,eAAxC;AACD,aAFS,CAAV;AAIA,iBAAK1D,KAAL,CAAWuC,QAAX,CAAoBC,IAApB,CACE,iEAAU,UAACC,MAAD,EAAsB;AAC9B,kBAAMC,EAAE,GAAWE,QAAQ,CAACH,MAAM,CAACE,GAAP,CAAW,IAAX,CAAD,EAAmB,EAAnB,CAA3B;AACA,qBAAQD,EAAE,IAAI,MAAI,CAACiB,SAAL,CAAejB,EAAf,CAAP,IAA8B,gDAAG,IAAH,CAArC;AACD,aAHD,CADF,EAKE,iEAAU,KAAKK,YAAf,CALF,EAMEC,SANF;AAOD;;;iBAEO,SAAAW,SAAS,CAACC,KAAD,EAAc;AAAA;;AAC7B,mBAAO,KAAK7D,WAAL,CAAiB8D,UAAjB,CAA4BD,KAA5B,EAAmCpB,IAAnC,CACL,2DAAI,UAACsB,GAAD,EAAuB;AACzB,oBAAI,CAAC7C,IAAL,CAAU8C,UAAV,CAAqB,MAAD,OAAC,CAAD,EAAC,EAChBD,GADgB,CAArB;;AAGA,kBAAIA,GAAG,CAAC9B,IAAJ,CAASI,KAAb,EAAoB;AAClB,sBAAI,CAACrB,iBAAL,GAAyB,uBAAzB;AACA,sBAAI,CAACC,GAAL,GAAW8C,GAAG,CAAC9B,IAAJ,CAASI,KAApB;AACD;AACF,aARD,CADK,EAUL,kEAAW,YAAM;AACf,qBAAO,gDAAG,IAAH,CAAP;AACD,aAFD,CAVK,CAAP;AAcD;;;iBAEO,SAAA4B,UAAU,CAACC,KAAD,EAAoB;AAAA;;AACpC,mBAAO,KAAKC,eAAL,CAAqB,KAAKjD,IAAL,CAAUgD,KAA/B,EAAsCA,KAAtC,EAA6CzB,IAA7C,CACL,iEAAU,UAAC2B,KAAD;AAAA,qBAAsB,MAAI,CAACpE,WAAL,CAAiBqE,MAAjB,CAAwBH,KAAK,CAACI,IAAN,CAAW3B,EAAnC,EAAuCyB,KAAvC,CAAtB;AAAA,aAAV,CADK,EAEL,iEAAU,KAAKpB,YAAf,CAFK,CAAP;AAID;;;iBAEO,SAAAmB,eAAe,CAACD,KAAD,EAAaK,GAAb,EAA8B;AACnD,gBAAMtC,IAAI,mCAAmBiC,KAAK,CAACjC,IAAzB,GAA6B;AAAEI,mBAAK,EAAEkC,GAAG,CAACtC,IAAJ,CAASI;AAAlB,aAA7B,CAAV;AACA,mBAAO,gDAAG,MAAD,OAAC,CAAD,kBACJ6B,KADI,CAAC,EACA;AACR9C,kBAAI,EAAE,MAAF,OAAE,CAAF,kBACC8C,KAAK,CAAC9C,IADP,CAAE,EACS;AACbG,yBAAS,EAAE2C,KAAK,CAAC9C,IAAN,CAAWG,SAAX,GAAuBiD,MAAM,CAACN,KAAK,CAAC9C,IAAN,CAAWG,SAAZ,CAA7B,GAAsD,IADpD;AAEbG,yBAAS,EAAEwC,KAAK,CAAC9C,IAAN,CAAWM,SAAX,GAAuB8C,MAAM,CAACN,KAAK,CAAC9C,IAAN,CAAWM,SAAZ,CAA7B,GAAsD;AAFpD,eADT,CADE;AAMRO,kBAAI,EAAJA;AANQ,aADA,CAAH,CAAP;AASD;;;iBAEM,SAAAwC,gBAAgB,CAACC,KAAD,EAAW;AAAA;;AAChC,gBAAMC,KAAK,GAAqBD,KAAK,CAACE,MAAtC;AACA,gBAAMC,IAAI,GAASF,KAAK,CAACG,KAAN,CAAY,CAAZ,CAAnB;;AAEA,gBAAID,IAAJ,EAAU;AACR,mBAAKE,MAAL,CAAYtC,IAAZ,CACE,iEAAU,UAACE,EAAD;AAAA,uBAAgB,MAAI,CAAC3C,WAAL,CAAiBgF,YAAjB,CAA8BrC,EAA9B,EAAkCkC,IAAlC,CAAhB;AAAA,eAAV,CADF,EAEE,iEAAU,KAAK7B,YAAf,CAFF,EAGEC,SAHF,CAGY,UAACgC,CAAD,EAA6B;AACvC,sBAAI,CAAChE,GAAL,GAAWgE,CAAC,CAACC,GAAb;AACD,eALD;AAMA,mBAAKlE,iBAAL,GAAyB6D,IAAI,CAACxD,IAA9B;AACD,aARD,MAQO;AACL,mBAAKL,iBAAL,GAAyB,IAAzB;AACD;;AACD,iBAAKmE,gBAAL,CAAsB,YAAtB,EAAoCN,IAAI,GAAG,KAAK7D,iBAAR,GAA4B,IAApE;AACD;;;iBAEM,SAAAmE,gBAAgB,CAACC,GAAD,EAAclB,KAAd,EAAwB;AAC7C,iBAAKhD,IAAL,CAAU0B,GAAV,CAAcwC,GAAd,EAAmBC,QAAnB,CAA4BnB,KAA5B;AACD;;;iBAEM,SAAAoB,QAAQ;AAAA;;AACb,gBAAI,KAAKpE,IAAL,CAAUqE,KAAd,EAAqB;AACnB,mBAAKR,MAAL,CAAYtC,IAAZ,CACE,iEAAU,UAACE,EAAD;AAAA,uBAAgB,MAAI,CAAC3C,WAAL,CAAiB8D,UAAjB,CAA4BnB,EAA5B,CAAhB;AAAA,eAAV,CADF,EAEE,iEAAU,UAACsC,CAAD;AAAA,uBAAqB,MAAI,CAAChB,UAAL,CAAgBgB,CAAhB,EAAmBxC,IAAnB,CAC7B,iEAAU;AAAA,yBAAM,MAAI,CAACzC,WAAL,CAAiBwF,QAAjB,CAA0BP,CAAC,CAACX,IAAF,CAAO3B,EAAjC,CAAN;AAAA,iBAAV,CAD6B,EAE7B,iEAAU;AAAA,yBAAM,kDAAK,MAAI,CAACzC,MAAL,CAAYuF,QAAZ,CAAqB,CAAC,OAAD,EAAUR,CAAC,CAACX,IAAF,CAAO3B,EAAjB,CAArB,CAAL,CAAN;AAAA,iBAAV,CAF6B,CAArB;AAAA,eAAV,CAFF,EAME,iEAAU,KAAKK,YAAf,CANF,EAOEC,SAPF;AAQD;AACF;;QApKmC,0F;;;;;;cAAzBnD,gB;AAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAhBA,gB;AAAgB,kC;AAAA,6B;AAAA,4D;AAAA,kBCrB7B,mxP;AAkIA,60wO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;;;;;;;cD7GaA,gB;AAAgB;gBAL5B,uDAK4B;iBALlB;AACT4F,oBAAQ,EAAE,gBADD;AAETC,uBAAW,EAAE,2BAFJ;AAGTC,qBAAS,EAAE,CAAC,2BAAD;AAHF,W;AAKkB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AErB7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAIA,UAAMC,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,oB;;;;;;;;cAAAA,oB;AAAoB,gB;AAAA;;;;;;cAApBA,oB;AAAoB,+E;AAAA,kBAFrB,4DAEqB;;;;;;cAApBA,oB;AAAoB,kBAHtB,CAAC,6DAAaC,QAAb,CAAsBJ,MAAtB,CAAD,CAGsB,EAFrB,4DAEqB;;;;;;;cAApBG,oB;AAAoB;gBAJhC,sDAIgC;iBAJvB;AACRE,mBAAO,EAAE,CAAC,6DAAaD,QAAb,CAAsBJ,MAAtB,CAAD,CADD;AAERM,mBAAO,EAAE,CAAC,4DAAD;AAFD,W;AAIuB;;;;;;;;;;;;;;;;;;ACfjC;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYC,WAAZ;;AAAA,iBAAYA,WAAZ,EAAuB;AACnB;AACA;AACH,OAHD,EAAYA,WAAW,KAAXA,WAAW,MAAvB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYC,YAAZ;;AAAA,iBAAYA,YAAZ,EAAwB;AACpB;AACA;AACH,OAHD,EAAYA,YAAY,KAAZA,YAAY,MAAxB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYC,eAAZ;;AAAA,iBAAYA,eAAZ,EAA2B;AACvB;AACA;AACA;AACH,OAJD,EAAYA,eAAe,KAAfA,eAAe,MAA3B;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAuBaC,a;;;;;;;;cAAAA,a;AAAa,gB;AAAA;;;;;;cAAbA,a;AAAa,uBAZT,oEAYS,C;AAZO,kBAE7B,4DAF6B,EAG7B,6EAH6B,EAI7B,kEAJ6B,EAK7B,0EAL6B,EAM7B,kGAN6B,EAO7B,2DAP6B,EAOf,mEAPe,C;AAOf,kBAGN,oEAHM;;;;;;cAKLA,a;AAAa,kBAXf,CACP,4DADO,EAEP,6EAFO,EAGP,kEAHO,EAIP,0EAJO,EAKP,kGALO,EAMP,2DANO,EAOP,oEAAgBN,QAAhB,EAPO,CAWe;;;;;;;cAAbM,a;AAAa;gBAbzB,sDAayB;iBAbhB;AACRC,wBAAY,EAAE,CAAC,oEAAD,CADN;AAERN,mBAAO,EAAE,CACP,4DADO,EAEP,6EAFO,EAGP,kEAHO,EAIP,0EAJO,EAKP,kGALO,EAMP,2DANO,EAOP,oEAAgBD,QAAhB,EAPO,CAFD;AAWRE,mBAAO,EAAE,CAAC,oEAAD;AAXD,W;AAagB","file":"job-edit-job-edit-module-es5.js","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router, ParamMap } from '@angular/router';\nimport { from, Observable, of, ReplaySubject } from 'rxjs';\nimport { catchError, map, takeUntil, tap, switchMap } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { JobTypeEnum } from '@api/schemas/job/job-type.enum';\nimport { IJobViewFull } from '@api/schemas/job/job-view-full.interface';\nimport { JobCurrencyEnum } from '@api/schemas/job/job-currency.enum';\nimport { JobPlaceEnum } from '@api/schemas/job/job-place.enum';\nimport { JobsService } from '@api/routes/jobs.service';\nimport { IJobPatch } from '@api/schemas/job/job-patch.inetrface';\nimport { IUploadImageResponse } from '@api/schemas/image/upload-image-response.interface';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\n\n@Component({\n  selector: 'app-job-create',\n  templateUrl: './job-edit.component.html',\n  styleUrls: ['./job-edit.component.scss'],\n})\nexport class JobEditComponent extends AbstractComponent implements OnInit, OnDestroy {\n  // tslint:disable-next-line:variable-name\n  private _jobId$: Observable<number>;\n\n  public readonly CURRENCY: any = {\n    [JobCurrencyEnum.RUB]: this.translateService.instant('COMMON.RUB'),\n    [JobCurrencyEnum.USD]: this.translateService.instant('COMMON.USD'),\n    [JobCurrencyEnum.EUR]: this.translateService.instant('COMMON.EUR'),\n  };\n\n  public readonly TYPE: any = {\n    [JobTypeEnum.FULL]: this.translateService.instant('COMMON.FULL'),\n    [JobTypeEnum.PART_TIME]: this.translateService.instant('COMMON.PARTIAL'),\n  };\n\n  public readonly PLACE: any = {\n    [JobPlaceEnum.OFFICE]: this.translateService.instant('COMMON.PLACE.OFFICE'),\n    [JobPlaceEnum.REMOTE]: this.translateService.instant('COMMON.PLACE.REMOTE'),\n  };\n\n  public uploadedImageName: string = null;\n  public src: string = null;\n\n  public readonly form: FormGroup = this.fb.group({\n    info: this.fb.group({\n      name: ['', [Validators.required]],\n      minSalary: ['', [Validators.max(9999999), Validators.min(1)]],\n      maxSalary: ['', [Validators.max(9999999), Validators.min(1)]],\n      currency: [JobCurrencyEnum.RUB, Validators.required],\n      type: ['', Validators.required],\n      place: ['', Validators.required],\n      city: [''],\n      recruiterName: [''],\n      email: ['', Validators.email],\n    }),\n    body: this.fb.group({\n      tasks: [''],\n      workConditions: [''],\n      requirements: [''],\n      image: [null],\n    }),\n  });\n\n  public get jobId$(): Observable<number> {\n    if (!this._jobId$) {\n      const subject: ReplaySubject<number> = new ReplaySubject<number>(1);\n      this._jobId$ = subject;\n\n      this.route.paramMap.pipe(\n        switchMap((params: ParamMap) => {\n          const id: string = params.get('id');\n          if (id && parseInt(id, 10)) {\n            return of(+id);\n          }\n          return this.jobsService.create$();\n        }),\n        tap((id: number) => subject.next(id)),\n        takeUntil(this.ngOnDestroy$)\n      ).subscribe(\n        (id: number) => subject.next(id),\n        (err: any) => {\n          subject.error(err);\n          this._jobId$ = null;\n        },\n      );\n    }\n    return this._jobId$;\n  }\n\n  constructor(\n    private readonly fb: FormBuilder,\n    private readonly jobsService: JobsService,\n    private readonly route: ActivatedRoute,\n    private readonly router: Router,\n    private readonly translateService: TranslateService,\n    private readonly sidebarWrapperService: SidebarWrapperService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: true, navigation: true, live: false, showSidebar: true });\n    });\n\n    this.route.paramMap.pipe(\n      switchMap((params: ParamMap) => {\n        const id: number = parseInt(params.get('id'), 10);\n        return (id && this.loadFrom$(id)) || of(null);\n      }),\n      takeUntil(this.ngOnDestroy$),\n    ).subscribe();\n  }\n\n  private loadFrom$(jobId: number): Observable<void> {\n    return this.jobsService.getSingle$(jobId).pipe(\n      map((job: IJobViewFull) => {\n        this.form.patchValue({\n          ...job,\n        });\n        if (job.body.image) {\n          this.uploadedImageName = 'Изображение загружено';\n          this.src = job.body.image;\n        }\n      }),\n      catchError(() => {\n        return of(null);\n      }),\n    );\n  }\n\n  private sendPatch$(value: IJobViewFull): Observable<IJobViewFull> {\n    return this.transformValue$(this.form.value, value).pipe(\n      switchMap((patch: IJobPatch) => this.jobsService.patch$(value.meta.id, patch)),\n      takeUntil(this.ngOnDestroy$)\n    );\n  }\n\n  private transformValue$(value: any, val: IJobViewFull): Observable<IJobPatch> {\n    const body: IJobPatch = { ...value.body, image: val.body.image };\n    return of({\n      ...value,\n      info: {\n        ...value.info,\n        minSalary: value.info.minSalary ? String(value.info.minSalary) : null,\n        maxSalary: value.info.maxSalary ? String(value.info.maxSalary) : null,\n      },\n      body,\n    });\n  }\n\n  public handleUploadFile(event: any): void {\n    const input: HTMLInputElement = event.target as HTMLInputElement;\n    const file: File = input.files[0];\n\n    if (file) {\n      this.jobId$.pipe(\n        switchMap((id: number) => this.jobsService.updateImage$(id, file)),\n        takeUntil(this.ngOnDestroy$)\n      ).subscribe((_: IUploadImageResponse) => {\n        this.src = _.url;\n      });\n      this.uploadedImageName = file.name;\n    } else {\n      this.uploadedImageName = null;\n    }\n    this.handleFormChange('body.image', file ? this.uploadedImageName : null);\n  }\n\n  public handleFormChange(key: string, value: any): void {\n    this.form.get(key).setValue(value);\n  }\n\n  public onSubmit(): void {\n    if (this.form.valid) {\n      this.jobId$.pipe(\n        switchMap((id: number) => this.jobsService.getSingle$(id)),\n        switchMap((_: IJobViewFull) => this.sendPatch$(_).pipe(\n          switchMap(() => this.jobsService.publish$(_.meta.id)),\n          switchMap(() => from(this.router.navigate(['/jobs', _.meta.id]))),\n        )),\n        takeUntil(this.ngOnDestroy$)\n      ).subscribe();\n    }\n  }\n}\n","<app-ui-card class=\"job-creation-form\" [shadow]=\"false\">\n  <form *ngIf=\"form\" [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n\n    <div class=\"job-name-wrapper\" formGroupName=\"info\">\n      <input class=\"job-name\"\n             formControlName=\"name\"\n             [placeholder]=\"'COMMON.VACANCYS_TITLE' | translate\"\n             maxlength=\"100\">\n      <span class=\"counter c-primary caption\">{{ 100 - form.value.info.name.length + '/100' }}</span>\n    </div>\n\n    <hr class=\"blue-line margin-bottom-30\">\n\n    <div class=\"fade-1 job-salary-wrapper margin-bottom-30\" formGroupName=\"info\">\n      <h6 class=\"margin-right-15\">{{ 'COMMON.SALARY' | translate }}</h6>\n      <div class=\"from-wrapper v-center margin-right-4\">\n        <app-ui-form-control class=\"v-center\">\n          <app-ui-label class=\"subtitle-1 from-to\" [normal]=\"true\">{{ 'COMMON.FROM' | translate }}</app-ui-label>\n          <input type=\"number\" class=\"job-salary-input\" formControlName=\"minSalary\" uiInput min=\"1\" max=\"9999999\">\n        </app-ui-form-control>\n      </div>\n      <div class=\"to-wrapper v-center\">\n        <app-ui-form-control class=\"v-center\">\n          <app-ui-label class=\"subtitle-1 from-to\" [normal]=\"true\">{{ 'COMMON.TO' | translate }}</app-ui-label>\n          <input type=\"number\" class=\"job-salary-input\" formControlName=\"maxSalary\" uiInput min=\"1\" max=\"9999999\">\n        </app-ui-form-control>\n      </div>\n      <app-ui-dropdown-menu class=\"subtitle-1 fade-1 overflow-none job-curents-select\">\n        <header class=\"head v-center clickable\">\n          <h6 class=\"dropdown-currency margin-right-8\">{{ CURRENCY[form.value.info.currency] }}</h6>\n          <svg class=\"f-primary\" name=\"chevron/down\"></svg>\n        </header>\n        <app-ui-dropdown-menu-item *ngFor=\"let kv of CURRENCY | keyvalue\"\n                                   (click)=\"handleFormChange('info.currency', kv.key)\"\n                                   [class.selected]=\"form.get('info.currency').value === kv.key\">{{ kv.value }}</app-ui-dropdown-menu-item>\n      </app-ui-dropdown-menu>\n    </div>\n\n    <div class=\"v-center margin-bottom-30 type-zan\" formGroupName=\"info\">\n      <app-ui-dropdown-menu class=\"fade-1 margin-right-44 overflow-none job-curents-left\">\n        <header class=\"head v-center clickable\">\n          <h6 class=\"margin-right-8\">{{ TYPE[form.value.info.type] || 'Тип занятости' }}</h6>\n          <svg class=\"f-primary\" name=\"chevron/down\"></svg>\n        </header>\n        <app-ui-dropdown-menu-item *ngFor=\"let kv of TYPE | keyvalue\" (click)=\"handleFormChange('info.type', kv.key)\"\n                                   [class.selected]=\"form.get('info.type').value === kv.key\">\n          {{ kv.value }}</app-ui-dropdown-menu-item>\n      </app-ui-dropdown-menu>\n      <app-ui-dropdown-menu class=\"fade-1 margin-right-44 overflow-none job-curents-right\">\n        <header class=\"head v-center clickable\">\n          <h6 *ngIf=\"form.value.info.place === 'OFFICE'\" class=\"margin-right-8\">{{ 'COMMON.PLACE.OFFICE' | translate }}\n          </h6>\n          <h6 *ngIf=\"form.value.info.place === 'REMOTE'\" class=\"margin-right-8\">{{ 'COMMON.PLACE.REMOTE' | translate }}\n          </h6>\n          <h6 *ngIf=\"!form.value.info.place\" class=\"margin-right-8\">{{ 'COMMON.PLACE.DEFAULT' | translate }}</h6>\n          <svg class=\"f-primary\" name=\"chevron/down\"></svg>\n        </header>\n        <app-ui-dropdown-menu-item *ngFor=\"let kv of PLACE | keyvalue\" (click)=\"handleFormChange('info.place', kv.key)\"\n                                   [class.selected]=\"form.get('info.place').value === kv.key\">\n          {{ kv.value }}</app-ui-dropdown-menu-item>\n        </app-ui-dropdown-menu>\n      <div class=\"to-wrapper\">\n        <app-ui-form-control>\n          <h6 class=\"fade-1 margin-right-8\">{{ 'COMMON.CITY'  | translate}}</h6>\n          <input class=\"job-salary-input city-input\" formControlName=\"city\" uiInput>\n        </app-ui-form-control>\n      </div>\n    </div>\n\n    <div class=\"fields-wrapper margin-bottom-20\" formGroupName=\"body\">\n      <div class=\"margin-bottom-30\">\n        <h6 class=\"fade-1 margin-bottom-10\" [class.c-primary]=\"inputTasks.focus\">{{ 'COMMON.TASKS' | translate }}</h6>\n        <textarea #inputTasks formControlName=\"tasks\" autosize [minRows]=\"1\"\n          placeholder=\"{{ 'COMMON.DESCRIBE_THE_TASKS'  | translate}}...\"></textarea>\n      </div>\n      <div class=\"margin-bottom-30\">\n        <h6 class=\"fade-1 margin-bottom-10\" [class.c-primary]=\"inputConditions.focus\">\n          {{ 'COMMON.JOB_CONDITIONS' | translate }}</h6>\n        <textarea #inputConditions formControlName=\"workConditions\" autosize [minRows]=\"1\"\n          placeholder=\"{{ 'COMMON.DESCRIBE_THE_JOB'  | translate}}...\"></textarea>\n      </div>\n      <div>\n        <h6 class=\"fade-1 margin-bottom-10\" [class.c-primary]=\"inputRequirements.focus\">\n          {{ 'COMMON.REQUIREMENTS' | translate }}</h6>\n        <textarea #inputRequirements formControlName=\"requirements\" autosize [minRows]=\"1\"\n          placeholder=\"{{ 'COMMON.DESCRIBE_THE_CANDIDATES'  | translate}}...\"></textarea>\n      </div>\n    </div>\n\n    <div class=\"margin-bottom-20\" formGroupName=\"body\">\n      <input id=\"file-attachment\" class=\"hidden\" type=\"file\" accept=\"image/*\" (input)=\"handleUploadFile($event)\">\n      <label class=\"button-1 v-center c-primary clickable\" for=\"file-attachment\">\n        <svg name=\"clip\" class=\"f-primary margin-right-8\"></svg>\n        <span\n          class=\"clickable\">{{ uploadedImageName ? uploadedImageName : ('COMMON.ADD_OFFICE_PHOTO' | translate) }}</span>\n      </label>\n    </div>\n\n    <div style=\"display: flex; flex-wrap: wrap;\">\n      <div class=\"contact-input-wrapper margin-bottom-20\" style=\"width: 340px;\" formGroupName=\"info\">\n        <h6 class=\"fade-1 margin-bottom-20\">{{ 'COMMON.CONTACTS' | translate }}</h6>\n        <span class=\"subtitle-1 fade-1 margin-bottom-15\" [class.c-primary]=\"nameInput.focus\"\n          [class.c-error]=\"nameInput.focus && form.controls.info['controls']['recruiterName'].invalid && form.controls.info['controls']['recruiterName'].dirty\">{{ 'COMMON.CONTACT_PERSON' | translate }}</span>\n        <app-ui-icon-input #nameInput type=\"text\" class=\"margin-bottom-20\" icon=\"user\" [placeholder]=\"'COMMON.ENTER_YOUR_NAME' | translate\"\n                           [control]=\"form.controls.info['controls']['recruiterName']\">\n        </app-ui-icon-input>\n        <span class=\"subtitle-1 fade-1 margin-bottom-15\" [class.c-primary]=\"emailInput.focus\"\n          [class.c-error]=\"emailInput.focus && form.controls.info['controls']['email'].invalid && form.controls.info['controls']['email'].dirty\">{{ 'COMMON.EMAIL_ADDRESS' | translate }}</span>\n        <app-ui-icon-input #emailInput type=\"email\" placeholder=\"example@gmail.com\" icon=\"mail\"\n                           [control]=\"form.controls.info['controls']['email']\"></app-ui-icon-input>\n      </div>\n\n      <div *ngIf=\"src\" style=\"margin-left: auto;\">\n        <img [src]=\"src\">\n      </div>\n    </div>\n\n    <div class=\"input-submit v-center space-between\">\n      <button id=\"input-login-submit\" type=\"submit\" [disabled]=\"form.invalid\" class=\"v-center button-1\">\n        <span class=\"margin-right-15\">{{ 'COMMON.PUBLISH' | translate }}</span>\n        <svg name=\"paper-airplane\"></svg>\n      </button>\n      <div class=\"sub-info flex-item\">\n        <span>{{ 'COMMON.VACANCIES_CAN_BE' | translate }}<a [routerLink]=\"['/news/508']\"\n          style=\"color: inherit; padding: 0;\">{{ 'COMMON.COMPANYS_BLOG' | translate }}</a>.</span>\n      </div>\n    </div>\n\n  </form>\n</app-ui-card>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { JobEditComponent } from './job-edit.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: JobEditComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class JobEditRoutingModule {}\n","export enum JobTypeEnum {\n    FULL = 'FULL',\n    PART_TIME = 'PART_TIME',\n}\n","export enum JobPlaceEnum {\n    OFFICE = 'OFFICE',\n    REMOTE = 'REMOTE',\n}\n","export enum JobCurrencyEnum {\n    RUB = 'RUB',\n    USD = 'USD',\n    EUR = 'EUR',\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { JobEditComponent } from './job-edit.component';\nimport { AutosizeModule } from 'ngx-autosize';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { JobEditRoutingModule } from './job-edit-routing.module';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\n\n@NgModule({\n  declarations: [JobEditComponent],\n  imports: [\n    CommonModule,\n    JobEditRoutingModule,\n    ReactiveFormsModule,\n    SharedUiModule,\n    SharedComponentsModule,\n    AutosizeModule,\n    TranslateModule.forChild()\n  ],\n  exports: [JobEditComponent],\n})\nexport class JobEditModule {}\n"]}