{"version":3,"sources":["./src/app/modules/homepage/pages/home-page/home-page.module.ts","./src/app/modules/homepage/pages/home-page/home-page-routing.module.ts","./src/app/modules/homepage/pages/home-page/home-page.component.ts","./src/app/modules/homepage/pages/home-page/home-page.component.html"],"names":[],"mappings":"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","file":"pages-home-page-home-page-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HomePageRoutingModule } from './home-page-routing.module';\nimport { HomePageComponent } from './home-page.component';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { FeedModule } from '@shared/modules/feed/feed.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { ShortJobListModule } from '@shared/modules/short-job-list/short-job-list.module';\nimport { ShortEventListModule } from '@shared/modules/short-event-list/short-event-list.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n\n@NgModule({\n  declarations: [HomePageComponent],\n  imports: [\n    CommonModule,\n    HomePageRoutingModule,\n    SharedComponentsModule,\n    FeedModule,\n    SvgModule,\n    ShortJobListModule,\n    ShortEventListModule,\n    TranslateModule.forChild()\n  ]\n})\nexport class HomePageModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HomePageComponent } from './home-page.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { FeedComponent } from '@shared/classes/feed-component.class';\nimport { FeedService } from '@api/routes/feed.service';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { HomepageService } from '@shared/services/homepage.service';\nimport { FeedSourceEnum } from '@shared/enums/feed-source.enum';\nimport { IFeedParams } from '@api/schemas/feed/feed-params.interface';\nimport { PageableContent } from '@shared/classes/pageable-conetnt.class';\nimport { IArticleView } from '@api/schemas/article/article-view.interface';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { AdministrationService } from '@api/routes/administration.service';\nimport { AdvertisementService } from '@api/routes/advertisement.service';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { takeUntil, switchMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home-page.component.html',\n  styleUrls: ['./home-page.component.scss']\n})\nexport class HomePageComponent extends FeedComponent implements OnInit, OnDestroy {\n  public readonly pageable: PageableContent<[IArticleView, ITopicView], IFeedParams> =\n    new PageableContent<[IArticleView, ITopicView], IFeedParams>(this.fetch$.bind(this));\n\n  constructor(\n    administrationService: AdministrationService,\n    protected readonly feedService: FeedService,\n    protected readonly activatedRoute: ActivatedRoute,\n    protected readonly topicsService: TopicsService,\n    protected readonly advertisementService: AdvertisementService,\n    protected readonly platformService: PlatformService,\n    private readonly homepageService: HomepageService,\n    private readonly sidebarWrapperService: SidebarWrapperService,\n    public readonly responsive: ResponsiveService,\n    protected readonly translateService: TranslateService\n  ) {\n    super(feedService, topicsService, administrationService, activatedRoute, advertisementService, platformService);\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({\n        article: false,\n        trending: true,\n        navigation: true,\n        live: true,\n        showSidebar: true\n      });\n    });\n    super.ngOnInit();\n\n    this.homepageService.feedSource$.next(FeedSourceEnum.PERSONAL);\n    this.activatedRoute.queryParams.pipe(\n      switchMap((params: Params) =>\n        this.pageable.setOptionsWithReset$(params.sub ? params : { sub: ['AUTHOR', 'TOPIC'] })),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe();\n  }\n\n  ngOnDestroy(): void {\n    this.homepageService.feedSource$.next(FeedSourceEnum.NONE);\n    super.ngOnDestroy();\n  }\n\n  public onHide(article: IArticleView): void {\n    this.pageable.content.splice(\n      this.pageable.content.findIndex((item: [IArticleView, ITopicView]) => item[0].meta.id === article.meta.id),\n      1,\n    );\n  }\n}\n","<ul class=\"block-card item-space-20 no-empty\">\n    <li *ngFor=\"let item of pageable.content; let i = index\">\n        <app-feed-article-view [data]=\"item[0]\" [topic]=\"item[1]\" [options]=\"{ pictureOn: true, menuOn: true }\" (gone)=\"onHide($event)\"></app-feed-article-view>\n        <div #adElem1 (click)=\"adClicked(0)\" class=\"ad\" *ngIf=\"(ads && ads[0].content && ads[0].content[0]) && ads[0].content[adNums[0]].afterPublication - 1 === i\">\n            <ng-container [ngTemplateOutlet]=\"addContainer\" [ngTemplateOutletContext]=\"{ src: ads[0].content[adNums[0]].picture, text: ads[0].content[adNums[0]].text }\"></ng-container>\n        </div>\n        <div #adElem2 (click)=\"adClicked(1)\" class=\"ad\" *ngIf=\"(ads && ads[1].content && ads[1].content[0]) && ads[1].content[adNums[1]].afterPublication - 1 === i\">\n            <ng-container [ngTemplateOutlet]=\"addContainer\" [ngTemplateOutletContext]=\"{ src: ads[1].content[adNums[1]].picture, text: ads[1].content[adNums[1]].text }\"></ng-container>\n        </div>\n        <div #adElem3 (click)=\"adClicked(2)\" class=\"ad\" *ngIf=\"(ads && ads[2].content && ads[2].content[0]) && ads[2].content[adNums[2]].afterPublication - 1 === i\">\n            <ng-container [ngTemplateOutlet]=\"addContainer\" [ngTemplateOutletContext]=\"{ src: ads[2].content[adNums[2]].picture, text: ads[2].content[adNums[2]].text }\"></ng-container>\n        </div>\n        <app-events *ngIf=\"(i + 1) === eventsJobs.firstView.events && eventsJobs.feed.events\" [page]=\"0\" [blueClass]=\"'blue-events'\"></app-events>\n        <app-events *ngIf=\"(i + 1) === eventsJobs.secondView.events && eventsJobs.feed.events\" [page]=\"1\" [blueClass]=\"'blue-events'\"></app-events>\n        <app-events *ngIf=\"(i + 1) === eventsJobs.thirdView.events && eventsJobs.feed.events\" [page]=\"2\" [blueClass]=\"'blue-events'\"></app-events>\n        <app-jobs *ngIf=\"(i + 1) === eventsJobs.firstView.jobs && eventsJobs.feed.jobs\" [page]=\"0\"></app-jobs>\n        <app-jobs *ngIf=\"(i + 1) === eventsJobs.secondView.jobs && eventsJobs.feed.jobs\" [page]=\"1\"></app-jobs>\n        <app-jobs *ngIf=\"(i + 1) === eventsJobs.thirdView.jobs && eventsJobs.feed.jobs\" [page]=\"2\"></app-jobs>\n    </li>\n</ul>\n\n<app-pagination [pageable]=\"pageable\" [fireFirstPage]=\"true\"></app-pagination>\n\n<ng-template #addContainer let-src=\"src\" let-text=\"text\">\n    <img [src]=\"src\" alt=\"\">\n    <div class=\"ad-container\">\n        <div class=\"ad-btn\" *ngIf=\"!(responsive.lt.medium | async)\">\n            <span>{{ text }}</span>\n            <svg name=\"chevron/right\" size=\"25\" fill=\"#92929D\"></svg>\n        </div>\n    </div>\n</ng-template>\n"],"sourceRoot":"webpack:///"}