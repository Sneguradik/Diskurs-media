{"version":3,"sources":["./src/app/modules/content-overview/pages/author-list-page/author-list-page.module.ts","./src/app/modules/content-overview/pages/author-list-page/author-list-page-routing.module.ts","./src/app/modules/content-overview/pages/author-list-page/author-list-page.component.ts","./src/app/modules/content-overview/pages/author-list-page/author-list-page.component.html"],"names":[],"mappings":"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","file":"pages-author-list-page-author-list-page-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AuthorListPageRoutingModule } from './author-list-page-routing.module';\nimport { AuthorListPageComponent } from './author-list-page.component';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { RangesModule } from '@shared/modules/ranges/ranges.module';\nimport { NavbarModule } from '@modules/content-overview/navbar/navbar.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { UserViewModule } from '@shared/modules/user-view/user-view.module';\nimport { FiltersModule } from '@shared/modules/filters/filters.module';\n\n\n@NgModule({\n  declarations: [AuthorListPageComponent],\n  imports: [\n    CommonModule,\n    AuthorListPageRoutingModule,\n    SharedUiModule,\n    SharedPipesModule,\n    SharedComponentsModule,\n    SvgModule,\n    RangesModule,\n    NavbarModule,\n    TranslateModule.forChild(),\n    UserViewModule,\n    FiltersModule\n  ]\n})\nexport class AuthorListPageModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthorListPageComponent } from './author-list-page.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthorListPageComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuthorListPageRoutingModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { UsersService } from '@api/routes/users.service';\nimport { SessionService } from '@app/services/session.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { extractQuery } from '@shared/functions/extract-query.function';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { AbstractUserListComponent } from '@shared/classes/abstract-user-list-component';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { takeUntil } from 'rxjs/operators';\nimport { IUserQuery } from '@api/schemas/user/user-query.interface';\n\n@Component({\n  selector: 'app-author-list-page',\n  templateUrl: './author-list-page.component.html',\n  styleUrls: ['./author-list-page.component.scss']\n})\nexport class AuthorListPageComponent extends AbstractUserListComponent implements OnInit, OnDestroy {\n  public authors: IUserView[] = [];\n\n  constructor(\n    protected readonly translateService: TranslateService,\n    private readonly usersService: UsersService,\n    private readonly sessionService: SessionService,\n    private readonly sidebarWrapperService: SidebarWrapperService\n  ) {\n    super(translateService);\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({ article: false, trending: true, navigation: true, live: false, showSidebar: true });\n    });\n\n    super.ngOnInit();\n  }\n\n  public fetchNextPage(): void {\n    if (!this.isLoading && this.currentPage < this.totalPages - 1) {\n      this.isLoading$.next(true);\n      this.currentPage += 1;\n      const params: IUserQuery = {\n        ...extractQuery(this.selectedRange),\n        ...extractQuery(this.selectedFilter)\n      };\n      if (this.query) {\n        params.query = this.query;\n      }\n      this.usersService.get$(this.currentPage, params)\n        .pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe((response: IPageResponse<IUserView>) => {\n        const handledItems = response.content.filter((item: IUserView) => item.meta.id !== this.sessionService.userId);\n        this.authors.push(...handledItems);\n        this.currentPage = response.page;\n        this.totalPages = response.totalPages;\n        this.isLoading$.next(false);\n      });\n    }\n  }\n\n  public remove(id: number): void {\n    this.authors = this.authors.filter((author: IUserView) => author.meta.id !== id);\n  }\n\n  public reset(): void {\n    this.currentPage = -1;\n    this.totalPages = 1;\n    this.authors = [];\n    this.fetchNextPage();\n  }\n}\n","<app-navbar [searchPlaceholder]=\"'COMMON.SEARCH_BY_AUTHOR' | translate\"\n            [activeItem]=\"'COMMON.AUTHORS' | translate\"\n            (search)=\"handleSearch($event)\"\n></app-navbar>\n<app-filters [filters]=\"filters\"\n             [activeFilter]=\"activeFilter\"\n             (toggleFilter)=\"filterEvent($event)\"\n></app-filters>\n<app-ranges [ranges]=\"ranges\"\n            [activeRange]=\"activeRange\"\n            (toggleRange)=\"rangeEvent($event)\"\n></app-ranges>\n\n<ul class=\"block-card item-space-20\">\n    <app-user-view\n        *ngFor=\"let author of authors\"\n        [data]=\"author\"\n        (gone)=\"remove($event)\">\n        <div class=\"row margin-bottom-6\">\n            <p class=\"stats-item\">\n                {{ 'COMMON.AUTHORS_RATING' | translate}}\n                <span class=\"stats-item__value\">{{ author.rating > 0 ? '+' : '' }}{{ author.rating }}</span>\n            </p>\n            <p class=\"stats-item\">\n                {{ 'COMMON.PUBLICATIONS_' | translate}}\n                <span class=\"stats-item__value\">{{ author.postCount | bigNumbers }}</span>\n            </p>\n            <aside class=\"subscribers\">\n                <p class=\"stats-item\">\n                    {{ 'COMMON.SUBSCRIBERS' | translate}}\n                    <span class=\"stats-item__value\">{{ author.subscribers.count | bigNumbers }}</span>\n                </p>\n            </aside>\n        </div>\n    </app-user-view>\n</ul>\n\n<app-pagination [page]=\"currentPage\" [maxPages]=\"totalPages\" [enabled]=\"!isLoading\" (onPage)=\"fetchNextPage()\"></app-pagination>\n"],"sourceRoot":"webpack:///"}