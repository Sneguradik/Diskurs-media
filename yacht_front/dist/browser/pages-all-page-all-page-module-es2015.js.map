{"version":3,"sources":["./src/app/modules/homepage/pages/all-page/all-page.module.ts","./src/app/modules/homepage/pages/all-page/all-page.component.ts","./src/app/modules/homepage/pages/all-page/all-page.component.html","./src/app/modules/homepage/pages/all-page/all-page-routing.module.ts"],"names":[],"mappings":"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","file":"pages-all-page-all-page-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AllPageRoutingModule } from './all-page-routing.module';\nimport { AllPageComponent } from './all-page.component';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { FeedModule } from '@shared/modules/feed/feed.module';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { ShortEventListModule } from '@shared/modules/short-event-list/short-event-list.module';\nimport { ShortJobListModule } from '@shared/modules/short-job-list/short-job-list.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [AllPageComponent],\n  imports: [\n    CommonModule,\n    AllPageRoutingModule,\n    SharedComponentsModule,\n    FeedModule,\n    SvgModule,\n    ShortEventListModule,\n    ShortJobListModule,\n    TranslateModule.forChild()\n  ]\n})\nexport class AllPageModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { SidebarWrapperService } from '@layout/sidebar-wrapper/sidebar-wrapper.service';\nimport { FeedSourceEnum } from '@shared/enums/feed-source.enum';\nimport { IFeedParams } from '@api/schemas/feed/feed-params.interface';\nimport { FeedOrderEnum } from '@api/schemas/feed/feed-order.enum';\nimport { HomepageService } from '@shared/services/homepage.service';\nimport { IArticleView } from '@api/schemas/article/article-view.interface';\nimport { PageableContent } from '@shared/classes/pageable-conetnt.class';\nimport { FeedService } from '@api/routes/feed.service';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { FeedComponent } from '@shared/classes/feed-component.class';\nimport { ActivatedRoute } from '@angular/router';\nimport { AdministrationService } from '@api/routes/administration.service';\nimport { AdvertisementService } from '@api/routes/advertisement.service';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { SocialLoginService } from '@layout/shared/services/social-login/social-login.service';\n\n@Component({\n  selector: 'app-all-page',\n  templateUrl: './all-page.component.html',\n  styleUrls: ['./all-page.component.scss']\n})\nexport class AllPageComponent extends FeedComponent implements OnInit, OnDestroy {\n  public readonly pageable: PageableContent<[IArticleView, ITopicView], IFeedParams> =\n    new PageableContent<[IArticleView, ITopicView], IFeedParams>(this.fetch$.bind(this));\n\n  constructor(\n    activatedRoute: ActivatedRoute,\n    administrationService: AdministrationService,\n    protected readonly feedService: FeedService,\n    protected readonly topicsService: TopicsService,\n    protected readonly advertisementService: AdvertisementService,\n    protected readonly platformService: PlatformService,\n    private readonly sidebarWrapperService: SidebarWrapperService,\n    private readonly homepageService: HomepageService,\n    public readonly responsive: ResponsiveService,\n    protected readonly translateService: TranslateService,\n    private readonly socialLoginService: SocialLoginService\n  ) {\n    super(feedService, topicsService, administrationService, activatedRoute, advertisementService, platformService);\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.sidebarWrapperService.params$.next({\n        article: false,\n        trending: true,\n        navigation: true,\n        live: true,\n        showSidebar: true\n      });\n    });\n\n    super.ngOnInit();\n\n    this.homepageService.feedSource$.next(FeedSourceEnum.ALL);\n    this.pageable.setOptionsWithReset$({ order: FeedOrderEnum.TIME });\n\n    if (this.platformService.isServer) {\n      this.pageable.content = this.activatedRoute.snapshot.data.feed;\n    }\n\n    if (globalThis.window && window.location.hash.includes('tgAuthResult')) {\n      this.socialLoginService.loginWithTg();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.homepageService.feedSource$.next(FeedSourceEnum.NONE);\n    super.ngOnDestroy();\n  }\n\n  public onHide(article: IArticleView): void {\n    this.pageable.content.splice(\n      this.pageable.content.findIndex((item: [IArticleView, ITopicView]) => item[0].meta.id === article.meta.id),\n      1,\n    );\n  }\n}\n","<ul class=\"block-card item-space-20 no-empty\">\n    <li *ngFor=\"let item of pageable.content; let i = index\">\n        <app-feed-article-view [data]=\"item[0]\"\n                               [topic]=\"item[1]\"\n                               [options]=\"{ pictureOn: true, menuOn: true }\"\n                               (gone)=\"onHide($event)\">\n        </app-feed-article-view>\n        <div #adElem1 (click)=\"adClicked(0)\" class=\"ad\" *ngIf=\"(ads && ads[0].content && ads[0].content[0]) && ads[0].content[adNums[0]].afterPublication - 1 === i\">\n            <ng-container [ngTemplateOutlet]=\"addContainer\" [ngTemplateOutletContext]=\"{ src: ads[0].content[adNums[0]].picture, text: ads[0].content[adNums[0]].text }\"></ng-container>\n        </div>\n        <div #adElem2 (click)=\"adClicked(1)\" class=\"ad\" *ngIf=\"(ads && ads[1].content && ads[1].content[0]) && ads[1].content[adNums[1]].afterPublication - 1 === i\">\n            <ng-container [ngTemplateOutlet]=\"addContainer\" [ngTemplateOutletContext]=\"{ src: ads[1].content[adNums[1]].picture, text: ads[1].content[adNums[1]].text }\"></ng-container>\n        </div>\n        <div #adElem3 (click)=\"adClicked(2)\" class=\"ad\" *ngIf=\"(ads && ads[2].content && ads[2].content[0]) && ads[2].content[adNums[2]].afterPublication - 1 === i\">\n            <ng-container [ngTemplateOutlet]=\"addContainer\" [ngTemplateOutletContext]=\"{ src: ads[2].content[adNums[2]].picture, text: ads[2].content[adNums[2]].text }\"></ng-container>\n        </div>\n        <app-events *ngIf=\"(i + 1) === eventsJobs?.firstView.events && eventsJobs?.publications.events\" [page]=\"0\" [blueClass]=\"'blue-events'\"></app-events>\n        <app-events *ngIf=\"(i + 1) === eventsJobs?.secondView.events && eventsJobs?.publications.events\" [page]=\"1\" [blueClass]=\"'blue-events'\"></app-events>\n        <app-events *ngIf=\"(i + 1) === eventsJobs?.thirdView.events && eventsJobs?.publications.events\" [page]=\"2\" [blueClass]=\"'blue-events'\"></app-events>\n        <app-jobs *ngIf=\"(i + 1) === eventsJobs?.firstView.jobs && eventsJobs?.publications.jobs\" [page]=\"0\"></app-jobs>\n        <app-jobs *ngIf=\"(i + 1) === eventsJobs?.secondView.jobs && eventsJobs?.publications.jobs\" [page]=\"1\"></app-jobs>\n        <app-jobs *ngIf=\"(i + 1) === eventsJobs?.thirdView.jobs && eventsJobs?.publications.jobs\" [page]=\"2\"></app-jobs>\n    </li>\n</ul>\n\n<app-pagination [pageable]=\"pageable\" [fireFirstPage]=\"true\"></app-pagination>\n\n<ng-template #addContainer let-src=\"src\" let-text=\"text\">\n    <img [src]=\"src\" alt=\"\">\n    <div class=\"ad-container\">\n        <div class=\"ad-btn\" *ngIf=\"!(responsive.lt.medium | async)\">\n            <span>{{ text }}</span>\n            <svg name=\"chevron/right\" size=\"25\" fill=\"#92929D\"></svg>\n        </div>\n    </div>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AllPageComponent } from './all-page.component';\nimport { FeedResolverService } from '@shared/services/feed-resolver.service';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AllPageComponent,\n    resolve: { feed: FeedResolverService }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AllPageRoutingModule { }\n"],"sourceRoot":"webpack:///"}