{"version":3,"sources":["webpack:///src/app/layout/sidebar-wrapper/live-content/showcase-edit-block.service.ts","webpack:///src/app/layout/header/user-dropdown/user-dropdown-route.enum.ts","webpack:///src/app/layout/header/search-box/search-box.component.ts","webpack:///src/app/layout/header/search-box/search-box.component.html","webpack:///src/app/layout/header/header.component.ts","webpack:///src/app/layout/header/header.component.html","webpack:///src/app/shared/components/contact-compact-list/contact-compact-list.component.ts","webpack:///src/app/shared/components/contact-compact-list/contact-compact-list.component.html","webpack:///util.inspect (ignored)","webpack:///src/app/api/routes/recovery.service.ts","webpack:///src/app/shared/ui/textarea/textarea.component.ts","webpack:///src/app/shared/ui/textarea/textarea.component.html","webpack:///src/app/shared/guards/guards/auth.guard.ts","webpack:///src/app/shared/ui/label/label.component.ts","webpack:///src/app/shared/ui/label/label.component.html","webpack:///readable-stream (ignored)","webpack:///src/app/shared/pipes/person-name-short.pipe.ts","webpack:///src/app/shared/pipes/unsafe-url.pipe.ts","webpack:///src/app/layout/header/login-form/login-form.const.ts","webpack:///src/app/api/routes/events.service.ts","webpack:///src/app/shared/components/action-menu/action-menu-event/action-menu-event.component.ts","webpack:///src/app/shared/components/action-menu/action-menu-event/action-menu-event.component.html","webpack:///src/app/shared/components/wysiwyg-editor/wysiwyg-editor.service.ts","webpack:///src/app/shared/modules/more-menu/more-menu-wrapper/more-menu-wrapper.component.ts","webpack:///src/app/shared/modules/more-menu/more-menu-wrapper/more-menu-wrapper.component.html","webpack:///src/app/layout/login-social-connect/login-social-connect.component.ts","webpack:///src/app/layout/login-social-connect/login-social-connect.component.html","webpack:///src/app/core/store/user-stats/consts/users-stats-state.const.ts","webpack:///src/app/shared/components/comment-section/order-by-score.function.ts","webpack:///src/app/core/services/permission/roles.const.ts","webpack:///src/app/shared/classes/abstract-component.class.ts","webpack:///src/app/api/routes/administration.service.ts","webpack:///src/app/modules/user/pages/user-notifications-page/notification/type-map.const.ts","webpack:///src/app/api/enums/api-method.enum.ts","webpack:///src/app/layout/sidebar-wrapper/trending-sidebar/trending-sidebar.component.ts","webpack:///src/app/layout/sidebar-wrapper/trending-sidebar/trending-sidebar.component.html","webpack:///src/app/layout/shared/services/user-dropdown.service.ts","webpack:///src/app/layout/shared/services/header-stats-sync.service.ts","webpack:///src/app/api/functions/to-angular-params.function.ts","webpack:///src/app/shared/pipes/big-numbers.pipes.ts","webpack:///src/app/shared/ui/icon/icon.component.ts","webpack:///src/app/shared/ui/icon/icon.component.html","webpack:///src/app/shared/ui/button/button.component.ts","webpack:///src/app/shared/ui/button/button.component.html","webpack:///src/app/shared/guards/guards/index.ts","webpack:///src/app/layout/report-block/report-block.service.ts","webpack:///src/app/layout/sidebar-wrapper/navigation-sidebar/navigation-sidebar.component.ts","webpack:///src/app/layout/sidebar-wrapper/navigation-sidebar/navigation-sidebar.component.html","webpack:///src/environments/environment.ts","webpack:///src/app/shared/components/action-menu/action-menu-job/action-menu-job.component.ts","webpack:///src/app/shared/components/action-menu/action-menu-job/action-menu-job.component.html","webpack:///src/app/layout/sidebar-wrapper/article-info-sidebar/article-info-sidebar.component.ts","webpack:///src/app/layout/sidebar-wrapper/article-info-sidebar/article-info-sidebar.component.html","webpack:///src/app/shared/guards/guards/user.guard.ts","webpack:///src/app/shared/modules/more-menu/more-menu.service.ts","webpack:///src/app/shared/components/action-menu/action-menu-tag/action-menu-tag.component.ts","webpack:///src/app/shared/components/action-menu/action-menu-tag/action-menu-tag.component.html","webpack:///src/app/layout/shared/services/social-login/social-login.service.ts","webpack:///src/app/shared/components/wysiwyg-editor/wysiwyg-editor.const.ts","webpack:///src/app/shared/components/voting/voting.const.ts","webpack:///src/app/shared/ui/dots-menu/dots-menu-item/dots-menu-item.component.ts","webpack:///src/app/shared/ui/dots-menu/dots-menu-item/dots-menu-item.component.html","webpack:///src/app/shared/ui/form-control/form-control.component.ts","webpack:///src/app/shared/ui/form-control/form-control.component.html","webpack:///src/app/shared/directives/logged-in.directive.ts","webpack:///src/app/shared/directives/let.directive.ts","webpack:///src/app/shared/ui/checkbox/checkbox.component.ts","webpack:///src/app/shared/ui/checkbox/checkbox.component.html","webpack:///src/app/layout/shared/components/toolbar/toolbar.component.ts","webpack:///src/app/layout/shared/components/toolbar/toolbar.component.html","webpack:///src/app/shared/ui/expand-box/expand-box.component.ts","webpack:///src/app/shared/ui/expand-box/expand-box.component.html","webpack:///src/app/shared/modules/svg/svg.module.ts","webpack:///src/app/shared/ui/expand-box/expand-box-template.enum.ts","webpack:///src/app/shared/ui/icon-input/icon-input.component.ts","webpack:///src/app/shared/ui/icon-input/icon-input.component.html","webpack:///src/app/api/schemas/report/report-entity-type.enum.ts","webpack:///src/app/shared/services/homepage.service.ts","webpack:///src/app/shared/pipes/trunk.pipe.ts","webpack:///src/app/api/schemas/feed/unread-filter.enum.ts","webpack:///src/app/api/classes/cached-get-many.class.ts","webpack:///src/app/layout/header/login-form/register-mode.enum.ts","webpack:///src/app/core/services/token.service.ts","webpack:///src/app/shared/guards/guards/events-create.guard.ts","webpack:///src/app/shared/modules/ranges/ranges.component.ts","webpack:///src/app/shared/modules/ranges/ranges.component.html","webpack:///src/app/layout/shared/services/login-social-connect.service.ts","webpack:///src/app/api/routes/advertisement.service.ts","webpack:///src/app/shared/services/platform.service.ts","webpack:///src/app/api/routes/comments.service.ts","webpack:///src/app/core/store/user-stats/actions/add-to-property.action.ts","webpack:///src/app/shared/guards/guards/editor.guard.ts","webpack:///src/app/shared/ui/card/card.component.ts","webpack:///src/app/shared/ui/card/card.component.html","webpack:///src/app/shared/components/comment-section/comment-section.const.ts","webpack:///src/app/layout/sidebar-wrapper/live-content/live-content.component.ts","webpack:///src/app/layout/sidebar-wrapper/live-content/live-content.component.html","webpack:///src/app/shared/ui/search/search.component.ts","webpack:///src/app/shared/ui/search/search.component.html","webpack:///src/app/api/classes/base-status/base-status-action.enum.ts","webpack:///src/app/api/constants/errors.const.ts","webpack:///src/app/shared/guards/guards/super-user.guard.ts","webpack:///src/app/shared/components/wysiwyg-editor/wysiwyg-editor.component.ts","webpack:///src/app/shared/components/wysiwyg-editor/wysiwyg-editor.component.html","webpack:///src/app/shared/modules/more-menu/more-menu.directive.ts","webpack:///src/app/api/functions/order-object.function.ts","webpack:///src/app/shared/services/notification-update.service.ts","webpack:///src/app/shared/components/pagination/pagination.component.ts","webpack:///src/app/core/classes/jwt.class.ts","webpack:///src/app/core/glb/glb.ts","webpack:///src/app/shared/directives/report.directive.ts","webpack:///src/app/api/schemas/user/user-order.enum.ts","webpack:///src/app/shared/modules/more-menu/more-menu.component.ts","webpack:///src/app/shared/modules/more-menu/more-menu.component.html","webpack:///src/app/shared/ui/dots-menu/dots-menu.component.ts","webpack:///src/app/shared/ui/dots-menu/dots-menu.component.html","webpack:///src/app/shared/modules/filters/filters.component.ts","webpack:///src/app/shared/modules/filters/filters.component.html","webpack:///src/app/layout/cookies-banner/cookies-banner.component.ts","webpack:///src/app/layout/cookies-banner/cookies-banner.component.html","webpack:///src/app/api/routes/feed.service.ts","webpack:///src/app/api/routes/auth.service.ts","webpack:///src/app/core/services/responsive.service.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/shared/guards/guards/jobs-create.guard.ts","webpack:///src/app/core/store/user-stats/actions/update-property.action.ts","webpack:///src/app/layout/layout.module.ts","webpack:///src/app/shared/functions/time.function.ts","webpack:///src/app/shared/guards/guards/company.guard.ts","webpack:///src/app/api/schemas/tags/tag-order.enum.ts","webpack:///src/app/shared/components/comment-section/comment/comment.component.ts","webpack:///src/app/shared/components/comment-section/comment/comment.component.html","webpack:///src/app/layout/header/notification-element/notification-element.component.ts","webpack:///src/app/layout/header/notification-element/notification-element.component.html","webpack:///src/app/layout/header/user-dropdown/user-dropdown.component.ts","webpack:///src/app/layout/header/user-dropdown/user-dropdown.component.html","webpack:///src/app/layout/shared/components/feed-nav/feed-nav-item/feed-nav-item.component.ts","webpack:///src/app/layout/shared/components/feed-nav/feed-nav-item/feed-nav-item.component.html","webpack:///src/app/shared/ui/dropdown-menu/dropdown-menu-item/dropdown-menu-item.component.ts","webpack:///src/app/shared/ui/dropdown-menu/dropdown-menu-item/dropdown-menu-item.component.html","webpack:///src/app/api/routes/topics.service.ts","webpack:///src/app/shared/components/action-menu/action-menu-user/action-menu-user.component.ts","webpack:///src/app/shared/components/action-menu/action-menu-user/action-menu-user.component.html","webpack:///src/app/api/routes/jobs.service.ts","webpack:///src/app/api/services/api.service.ts","webpack:///src/app/app.module.ts","webpack:///src/app/core/services/permission/permission.service.ts","webpack:///src/app/layout/header/login-form/login-form.component.ts","webpack:///src/app/layout/header/login-form/login-form.component.html","webpack:///src/app/shared/components/action-menu/action-menu-topic/action-menu-topic.component.ts","webpack:///src/app/shared/components/action-menu/action-menu-topic/action-menu-topic.component.html","webpack:///src/app/api/schemas/feed/feed-order.enum.ts","webpack:///src/app/shared/pipes/shared-pipes.module.ts","webpack:///src/app/shared/modules/svg/svg/svg.component.ts","webpack:///src/app/api/schemas/topic/topic-order.enum.interface.ts","webpack:///src/app/layout/sidebar-wrapper/sidebar-wrapper.service.ts","webpack:///src/app/layout/shared/components/feed-nav/feed-dropdown.const.ts","webpack:///src/app/shared/directives/role-guard.directive.ts","webpack:///src/app/shared/pipes/custom-date.pipe.ts","webpack:///src/app/shared/classes/abstract-notification-component/abstract-notification-component.class.ts","webpack:///src/app/blocker/blocker.guard.ts","webpack:///src/app/shared/guards/guards/sales.guard.ts","webpack:///src/app/shared/components/comment-section/order-by-time.interface.ts","webpack:///src/app/shared/guards/guards/personal-feed.guard.ts","webpack:///src/app/shared/guards/guards/recovery.guard.ts","webpack:///src/app/core/modules/i18n/functions/translate-cache-factory.function.ts","webpack:///src/app/core/services/auth-handler.service.ts","webpack:///src/app/shared/components/action-menu/action-menu-comment/action-menu-comment.component.ts","webpack:///src/app/shared/components/action-menu/action-menu-comment/action-menu-comment.component.html","webpack:///src/app/shared/enums/local-storage-key.enum.ts","webpack:///src/app/shared/ui/input/ui-input-appearance.enum.ts","webpack:///src/app/shared/modules/ranges/ranges.module.ts","webpack:///src/app/api/routes/upload.service.ts","webpack:///src/app/shared/ui/shared-ui.module.ts","webpack:///src/app/layout/showcase-editor/showcase-editor.component.ts","webpack:///src/app/layout/showcase-editor/showcase-editor.component.html","webpack:///src/app/shared/ui/dropdown-menu/dropdown-menu.component.ts","webpack:///src/app/shared/ui/dropdown-menu/dropdown-menu.component.html","webpack:///src/app/shared/guards/master.guard.ts","webpack:///src/app/api/schemas/advertisement/banner-place.enum.ts","webpack:///src/app/shared/components/shared-components.module.ts","webpack:///src/app/shared/pipes/url.pipe.ts","webpack:///src/app/api/routes/users.service.ts","webpack:///src/app/api/schemas/article/publication-stage.enum.ts","webpack:///src/app/shared/pipes/call.pipe.ts","webpack:///src/app/layout/shared/components/feed-nav/feed-nav.component.ts","webpack:///src/app/layout/shared/components/feed-nav/feed-nav.component.html","webpack:///src/app/api/schemas/locale/locale.enum.ts","webpack:///src/app/api/routes/report.service.ts","webpack:///src/app/api/routes/tags.service.ts","webpack:///src/app/api/services/fingerprint.service.ts","webpack:///src/app/shared/modules/filters/filters.module.ts","webpack:///src/app/core/modules/i18n/functions/translate-loader-factory.function.ts","webpack:///src/app/shared/components/comment-section/comment-editor/comment-editor.component.ts","webpack:///src/app/shared/components/comment-section/comment-editor/comment-editor.component.html","webpack:///src/app/api/routes/notifications.service.ts","webpack:///src/app/shared/components/comment-section/comment-section.component.ts","webpack:///src/app/shared/components/comment-section/comment-section.component.html","webpack:///src/app/layout/report-block/report-block.component.ts","webpack:///src/app/layout/report-block/report-block.component.html","webpack:///src/app/shared/components/file-upload/file-upload.component.ts","webpack:///src/app/shared/components/file-upload/file-upload.component.html","webpack:///src/app/shared/ui/subscribable-view-item/subscribable-view-item.component.ts","webpack:///src/app/shared/ui/subscribable-view-item/subscribable-view-item.component.html","webpack:///src/app/api/routes/companies.service.ts","webpack:///src/app/core/services/session.service.ts","webpack:///src/app/api/routes/articles.service.ts","webpack:///src/app/shared/classes/scroll-trigger.class.ts","webpack:///src/app/shared/components/action-menu/action-menu-article/action-menu-article.component.ts","webpack:///src/app/shared/components/action-menu/action-menu-article/action-menu-article.component.html","webpack:///src/app/routes.const.ts","webpack:///src/app/core/services/login.service.ts","webpack:///src/app/shared/enums/feed-source.enum.ts","webpack:///src/app/shared/pipes/person-name.pipe.ts","webpack:///src/app/shared/ui/input/ui-input.directive.ts","webpack:///src/app/core/store/user-stats/enums/user-stats-property.enum.ts","webpack:///src/app/shared/pipes/account-url.pipe.ts","webpack:///src/app/layout/layout.component.ts","webpack:///src/app/layout/layout.component.html","webpack:///src/app/shared/components/voting/voting.component.ts","webpack:///src/app/shared/components/voting/voting.component.html","webpack:///src/app/api/functions/file-to-formdata.function.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/layout/sidebar-wrapper/sidebar-wrapper.component.ts","webpack:///src/app/layout/sidebar-wrapper/sidebar-wrapper.component.html","webpack:///src/app/api/routes/showcases.service.ts","webpack:///src/app/layout/dynamic-meta-tags/dynamic-meta-tags.component.ts","webpack:///src/app/core/store/user-stats/user-stats.state.ts","webpack:///src/app/layout/dynamic-meta-tags/dynamic-meta-tags.service.ts","webpack:///src/app/api/classes/base-status/base-status.class.ts","webpack:///src/app/shared/components/share/share.component.ts","webpack:///src/app/shared/components/share/share.component.html","webpack:///src/app/shared/modules/more-menu/more-menu.module.ts","webpack:///src/app/layout/shared/functions/toggle-fn.function.ts","webpack:///src/app/core/modules/i18n/i18n.module.ts","webpack:///src/app/shared/directives/directives.module.ts","webpack:///src/app/shared/components/ad-banner/ad-banner.component.ts","webpack:///src/app/shared/components/ad-banner/ad-banner.component.html","webpack:///src/app/shared/enums/error-message.enum.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["ShowcaseEditBlockService","open","id","refresh$","toggle","next","value","getValue","setId","getId$","navigate$","created","providedIn","UserDropdownRouteEnum","SearchBoxComponent","topicService","feedService","close","search$","result","totalResults","ngOnInit","subscribeToSearch","ngOnChanges","changes","query","isFirstChange","currentValue","pipe","search","ngOnDestroy$","subscribe","articlesSearchResult","topicsSearchResult","total","push","content","map","topic","text","info","name","routerLink","meta","image","picture","slice","article","title","selector","templateUrl","styleUrls","HeaderComponent","router","articleService","userDropdownService","session","responsive","notificationsService","userDropdown","notificationUpdateService","platformService","viewportScroller","searchBoxFocus","userMenuState","shown","sub","searchState","noteState","noteToggle","isBrowser","noteDropdown","notifications$","res","filter","notify","read","markRead$","update","loggedIn$","setShowDropdown","document","addEventListener","event","searchBox","nativeElement","contains","target","subscribeToDropdownChanges","events","_","user$","a","b","subOnNotifications","disconnect","getShowDropdown","unsubscribe","requestAnimationFrame","e","userMenu","toggleUserMenu","createDraftAndEdit","create$","navigate","startSearch","focus","setSelectionRange","scrollToTopAndNavigate","navigateByUrl","scrollToPosition","styles","ContactCompactListComponent","size","changeDetection","OnPush","contacts","RecoverPasswordService","api","init$","email","post$","check$","hash","get$","change$","password","TextareaComponent","valueChange","disabled","placeholder","innerValue","input","innerText","registerOnChange","fn","onChangeCallback","registerOnTouched","onTouchedCallback","setDisabledState","isDisabled","writeValue","touched","change","emit","normalize","provide","useExisting","multi","providers","AuthGuard","canActivate","user","UiLabelComponent","error","heading","normal","PersonNameShortPipe","transform","company","isCompany","confirmed","firstName","lastName","UnsafeUrlPipe","domSanitizer","bypassSecurityTrustResourceUrl","LOGIN_FORM","loginForm","subject","remember","recoveryForm","registerForm","control","test","wrongFormat","username","noMatch","passwordRepeat","validators","group","controls","mismatch","CONTROLLER_ENDPOINT","EventsService","apiService","store","page","count$","getSingle$","getBookmarked$","userId","patch$","patch","setSource$","source","put$","getSource$","delete$","submit$","toggleStatus$","SUBMIT","publish$","PUBLISH","withdraw$","ActionMenuEventComponent","eventsService","showcasesService","gone","publicationStageEnum","reportEntityTypeEnum","delete","d","data","showcase","showcase$","hide","hide$","hidden","publish","publicationStage","PUBLISHED","withdraw","DRAFT","own","WysiwygEditorService","uploadService","createCkUploadAdapter","loader","cancelled$","upload","file$","file","uploadImage$","response","url","err","message","toPromise","abort","Error","MoreMenuWrapperComponent","viewRef","capture","element","stopPropagation","current","destroy","ref","containerRef","createEmbeddedView","detectChanges","el","rect","getBoundingClientRect","style","left","width","top","height","LoginSocialConnectComponent","socialLoginService","loginSocialConnectService","authService","loginService","fb","showConnect","component","cancel","currentTarget","onSubmitLogin","login$","tokens","connect$","cause","setErrors","wrongSubject","wrongPassword","backend","connectGoogle","getGoogle$","body","connectFacebook","getFacebook$","connectVk","getVk$","connectTg","getTg$","register","register$","USER_STATS_STATE","topics","authors","companies","promoted","posts","drafts","comments","orderByScore","as","deletedAt","Infinity","votes","up","down","bs","ROLES","USER","SALES","CHIEF_EDITOR","SUPERUSER","EDITOR$","PRIV_USER$","AbstractComponent","ngOnDestroy","template","AdministrationService","getActivity$","before","after","getEventsJobs$","postEventsJobs$","getRatings$","postRatings$","getTags$","getStats$","putPreviewCover$","putPreviewContent$","getPreview$","getUsersByRoleWithQuery$","role","forEach","roles","icon","rating","publicationCount","postCount","subscribers","count","totalPages","ALERT","COMMENT","MESSAGE","POST","TYPE_MAP","new_subscriber","type","content_report","custom","bookmark_comment","post_comment","comment_mention","comment_reply","watched_comment_reply","post_submitted","mod_post_blocked","post_reviewing","post_drafted","account_banned","account_unbanned","mod_post_unblocked","mod_post_published","mod_post_withdrawn","post_deleted","mod_post_deleted","editor_message","ApiMethodEnum","TrendingSidebarComponent","translate","expandBoxTemplateEnum","news","discussed","todayReading","news$","discussed$","viewed$","getNews","r","item","instant","changeLang","lang","use","location","reload","UserDropdownService","showDropdown$","asObservable","HeaderStatsSyncService","articlesCountSyncEvent$","subEvent$","toAngularParams","Object","keys","key","undefined","Array","isArray","it","String","BigNumbersPipe","IconComponent","textAlternative","words","match","reduce","state","index","src","UiButtonComponent","secondary","ReportBlockService","reported","object","state$","reported$","report","MAX_ITEMS_COUNT","NavigationSidebarComponent","companyService","userService","tagService","headerStatsSyncService","sessionService","setData","unreadAuthorMap","loggedIn","unread$","countUnread$","MY_AUTHOR","x","authors$","order","LAST_POST_TIME","tags$","RECENT_POSTS","getCompanies","getTopics","status","find","comp","you","getRecentTopics$","pages$","Math","ceil","fill","acc","val","concat","subbedTopics","length","getRecentCompanies$","subbedCompanies","handleSubscribe","subscribe$","handleCompanySubscribe","handleFeedConfiguration","scrollTop","documentElement","environment","production","googleApiAuth2ClientId","vkAppId","facebookAppId","apiUrl","baseApiUrl","newsId","tgBotId","blocker","ActionMenuJobComponent","jobsService","obj","ArticleInfoSidebarComponent","topicsService","tagsService","articlesService","viewport","tags","share","linkBody","attrsTemplate","ITEMS","tagsTemplate","LINKS","data$","params","getData","linksInit","subscribeToLoggedIn","linkVk","linkFb","linkTw","linkIn","linkTg","articleData","getMultiple$","list","toggleShare","goTo","window","emitUnpublish","emitHide","scrollToComments","scrollToAnchor","emitToggleBookmark","bookmarks","bookmark$","vote","castVote","vote$","UserGuard","route","includes","replace","MoreMenuService","wrapper","templateRef","ActionMenuTagComponent","SocialLoginService","onVkApiLoaded$","onFbApiLoaded$","onGoogleApiLoaded$","initFacebookApi","initGoogleApi","initVkApi","loadedSub","doSocialLogin$","gapi","load","auth2","init","client_id","VK","apiId","injectScript","s","createElement","async","defer","getElementsByTagName","appendChild","fbAsyncInit","FB","appId","autoLogAppEvents","xfbml","version","vkAsyncInit","vkApiTransport","position","tryLogin$","method","exists$","exists","loginWithGoogle","loginWithFacebook","loginWithVk","goToTgAuthPage","tgAuthPathname","baseUrl","tgAuthUrl","href","loginWithTg","getAuthInstance","signOut","signIn","idToken","getAuthResponse","id_token","subscriber","Auth","login","expire","mid","secret","sid","sig","complete","signedRequest","authResponse","decodeURIComponent","split","tgAuthResult","TOOLBAR","VoteActionNames","makeEnum","UP","DOWN","VoteStyleNames","ARTICLE","VoteActionValuesNames","POSITIVE","NEGATIVE","DotsMenuItemComponent","FormControlComponent","renderer","setHeaderBackGroundColor","color","setStyle","formControlHeader","addFocusEvent","formControlAction","first","editorOut","elementRef","ngAfterViewInit","inputRef","iconRef","descendants","LoggedInDirective","viewContainer","clear","LetDirective","vcr","context","appLet","CheckboxComponent","onChange","checked","ToolbarComponent","ExpandBoxComponent","translateService","cdr","fallbackText","customCD","actionEvent","prevData","expand","ngDoCheck","checkForChanges","JSON","parse","stringify","markForCheck","i","emitActionEvent","expandFunc","redirectToAll","templateType","customFooter","routerLinkPrefix","SvgModule","declarations","exports","imports","ExpandBoxTemplateEnum","IconInputComponent","focusin","focusout","ReportEntityTypeEnum","HomepageService","feedSource$","NONE","TrunkPipe","finalString","UnreadFilterEnum","CachedGetMany","cache","Map","fetch$","getMany$","ids","join","array","get","NOT_FOUND","createSubject$","has","set","missing","cached","sort","RegisterModeEnum","TokenService","cookieService","_claims","grants","access","refresh","tokens$","isServer","loadFromCookies","Date","now","exp","accessJwt","claims","rol","check","localStorage","getItem","TOKEN_ACCESS","TOKEN_REFRESH","save","setItem","removeItem","EventCreateGuard","createUrlTree","RangesComponent","toggleRange","selectRange","range","activeRange","ranges","LoginSocialConnectService","authHandlerService","usersService","currentBody","currentMethod","registerSocial$","token","loginSocial$","connectSocial$","AdvertisementService","place","click$","view$","getAll$","placeType","updateImage$","getById$","PlatformService","platformID","CommentsService","watch$","watch","WATCH","AddToProperty","addNumber","property","EditorGuard","indexOf","CardComponent","shadow","SortModes","LiveContentComponent","showcaseService","showcaseEditBlockService","perms","items","currentPage","isLoading","fetchNextPage","__","views","storeView$","splice","SearchComponent","BaseStatusActionEnum","UNKNOWN_ERROR","WRONG_SUBJECT_ERROR","WRONG_PASSWORD_ERROR","WRONG_CREDENTIALS_ERROR","USERNAME_TAKEN","EMAIL_TAKEN","SuperUserGuard","WysiwygEditorComponent","wysiwygEditorService","readOnly","config","ready","parsedString","ClassicEditor","editor","toolbar","options","model","view","language","currentLang","link","addTargetToExternalLinks","parser","fromString","initialData","ignoreHref","onReady","editorComponent","toolbarContainer","querySelector","plugins","createUploadAdapter","ui","setTimeout","setValue","editorInstance","editing","eventName","dispatchEvent","Event","bubbles","MoreMenuDirective","exportAs","orderObjects","indexA","indexB","NotificationUpdateService","http","client","unreadNotifications$","lastToken","onWebSocketClose","connect","header","Authorization","unreadCount$","temp","unshift","post","refreshToken","updateCount","add","PaginationComponent","fireFirstPage","pageable","onPage","onPageAttempt","fetch","initInfiniteScroll","scrollTrigger","scroll$","onScroll","enabled","maxPages","atobSafe","atob","str","Buffer","from","toString","Jwt","withHeader","components","_header","escape","_data","Glb","ReportDirective","reportBlockService","onClick","UserOrderEnum","MoreMenuComponent","moreMenuService","svgColor","moreMenu","DotsMenuComponent","hostClassHasDropdown","hostClassVCenter","menuItems","querySelectorAll","bind","dropdown","FiltersComponent","toggleFilter","selectFilter","activeFilter","filters","CookiesBannerComponent","show","COOKIES_BANNER","btnClick","FeedService","feedRequest$","encodeURIComponent","seen","author","unreadHeader$","pinned$","drafts$","stage","after$","floor","getTime","TIME","VIEWS","viewsAfter","COMMENTS","AuthService","ResponsiveService","width$","innerWidth","height$","innerHeight","breakpoints","xlarge","large","medium","small","lt","mt","onResize","AppComponent","JobCreateGuard","UpdateProperty","LayoutModule","forChild","monthNamesEn","monthNamesRu","TimeFunctions","timestampToStringRange","timestamp","date","monthNames","getDate","getMonth","timeToString","timestampToStringNews","today","timestampToString","getHours","padStart","getMinutes","CompanyGuard","TagOrderEnum","CommentComponent","commentsService","extraStyle","reply","watchEmit","deleteComment","isBellWatched","editMode$","editableContent","processing$","error$","comment","html","ownID","owner","iconSize","depth","doCommentVote","edit","submit","parent","parentAuthor","isLogged","renderedContent","NotificationElementComponent","personNamePipe","UserDropdownComponent","permission","userDropdownRouteEnum","isAdmin","isEditor","setCurrentRoute","setUser","currentRoute","substring","toUpperCase","PROMOTED","hasAnyRole$","dispatch","logout","FeedNavItemComponent","selected","dropdownConf","hasDropdown","isSecondHeader","dropdownExtraClass","dropAction","handleClick","action","DropdownMenuItemComponent","TopicsService","manyCache","getOne$","isNaN","parseInt","getCount","deleteAdvanced$","update$","updateAvatar$","updateCover$","ActionMenuUserComponent","setBanned","ban","ban$","setCompany","setCompanyStatus$","hasRole","setRole","setRole$","JobsService","ApiService","finger","freshHeaders$","empty","simpleMethod$","allowAnonymous","GET","headers","PATCH","PUT","put","DELETE","catch401","expired","$","fingerprintAnonymousRequest$","base","hasQuery","fingerprint$","fp","HttpLoaderFactory","httpClient","AppModule","useValue","withServerTransition","forRoot","useFactory","deps","developmentMode","bootstrap","PermissionService","hasAnyRole","LoginFormComponent","registerModeEnum","recovered","recError","registerMode","LOGIN","wrongCredentials","onSubmitRecovery","resetInit$","onSubmitRegister","names","taken","setRegisterMode","mode","ActionMenuTopicComponent","FeedOrderEnum","SharedPipesModule","DEFAULT_SIZE","SvgComponent","hostWidth","hostHeight","_width","_height","hostViewBox","TopicOrderEnum","SidebarWrapperService","params$","showSidebar","urlAfterRedirects","feedDropdownConstant","personalDropdownConf","popularDropdownConf","RoleGuardDirective","permissionService","and","or","guard","resolveRoles","appRoleGuard","appRoleGuardAnd","appRoleGuardOr","CustomDatePipe","timeFunctions","ENotificationBodyType","AbstractNotificationComponent","NAME_MAP","notificationBodyType","fragment","setBodyTypeAndUrl","setBody","bodyType","COMMENT_BODY","POST_BODY","SHORT_POST_BODY","REPORT","USER_BODY","ACCOUNT_BANNED","ACCOUNT_UNBANNED","WATCHED_COMMENT_REPLY","COMMENT_MENTION","setReportBody","ret","entity","tempMessage","idMeta","tag","BlockerGuard","SalesGuard","orderByTime","createdAt","PersonalFeedGuard","parseUrl","RecoveryGuard","recovery","code","queryParams","translateCacheFactory","translateCacheSettings","AuthHandlerService","ActionMenuCommentComponent","deleteEmit","_context","LocalStorageKeyEnum","UiInputAppearance","RangesModule","UploadService","SharedUiModule","ShowcaseEditorComponent","uploadCover","cover","subtitle","DropdownMenuComponent","MasterGuard","injector","relation","executor","middleware","alternativeRoute","canActivateChild","findDataWithGuards","guards","guardsRelation","executeGuards","routeConfig","findIndex","guardIndex","activateGuard","BannerPlaceEnum","SharedComponentsModule","UrlPipe","platformLocation","origin","serializeUrl","UsersService","locale","me$","comments$","importFBPicture$","commentCount$","updateProfile$","setUsername$","resetCheck$","resetChange$","setUserRole$","banned","BAN","COMPANY","setFBPicture$","PublicationStageEnum","CallPipe","handler","call","FeedNavComponent","homepageService","headerStatSyncService","feedSourceEnum","unreadPersonal$","SUB","unreadPopular$","LocaleEnum","ReportService","send$","TagsService","toLowerCase","markAsViewed$","find$","FingerprintService","fingerprintObservable$","getPromise","x64hash128","FiltersModule","translateLoaderFactory","CommentEditorComponent","cd","send","closeButton","mainBlock","collapsed","commentFormControl","required","maxLength","collapse","NotificationsService","postSettings$","getSettings$","CommentSectionComponent","translationServise","addCommentEmit","addWatchtEmit","childrenOfCache","sortModes","sortMode$","rootComments$","childrenOf$","c","hasUndeletedChildren$","hasUndeletedChildren","retCommString","num","abs","commentEl","commentView","parentElement","insertBefore","floatingEditor","nextSibling","classList","remove","replyingTo","dataset","closeReply","sendComment$","replyToComment$","createComment$","sendComment","sendReply","$event","countEvent","commentId","filterDeleted","articleComments","ReportBlockComponent","reportService","FileUploadComponent","SubscribableViewItemComponent","showAdd","disableAdd","toggleCollapse","CompaniesService","createCompany$","events$","jobs$","members$","toggleMember$","companyId","jobCount$","jobCountNew$","jobCount","eventCount$","SessionService","tokenService","userIdSubject$","userId$","initUser","y","ArticlesService","copy$","updateTitle$","updateSummary$","summary","putSource$","putTopics$","putTags$","commentsForArticle$","pin$","undo","PIN","promote$","PROMOTE","block$","BLOCK","ScrollTrigger","threshold","initScrollTrigger","scrollHandler","scrollHeight","pageYOffset","ActionMenuArticleComponent","goneBookmarked","pinned","gonePromote","me","isHidden","isPromoteDefault","promotions","isBookmarkYou","bookmark","pin","op","promote","block","apply","BLOCKED","BLOCKER_ROUTES","path","pathMatch","loadChildren","then","module","BlockerModule","children","NotFoundModule","HomepageModule","ContentOverviewModule","NewsModule","TagsModule","EventsModule","JobsModule","SearchModule","UserModule","TopicsModule","DashboardModule","RecoveryModule","redirectTo","DEFAULT_ROUTES","LoginService","FeedSourceEnum","PersonNamePipe","UiInput","appearance","outline","ngAfterContentInit","setAppearanceClass","host","EUserStatsProperty","AccountUrlPipe","LayoutComponent","scrollTo","cookiesBannerStatus","VotingComponent","hostClassArticle","hostClassComment","handleVote","hostClassCanVote","fileToFormData","formData","FormData","append","routes","AppRoutingModule","relativeLinkResolution","initialNavigation","anchorScrolling","SidebarWrapperComponent","sidebarWrapperService","homeRoute","liveContent","trending","verticalMenu","right","isOpen","menu","values","toggleVerticalMenu","closeVerticalMenu","ShowcasesService","showcaseEBS","all","DynamicMetaTagsComponent","dynamicMetaTagsService","metaInfo$","metaInfo","setInfo","setTitle","updateTag","USER_STATS_STATE_TOKEN","UserStatsState","companiesService","incrementTopics","ctx","getState","newState","setState","updateProperty","TOPICS","AUTHORS","ALL","COMPANIES","bookmarked","articles","jobs","POSTS","DRAFTS","defaults","DynamicMetaTagsService","administrationService","preview","description","siteName","isSpecialUrl","setToDefault","BaseStatus","HIDE","BOOKMARK","SUBSCRIBE","VOTE","SHOWCASE","VIEW","ShareComponent","spec","wide","MoreMenuModule","toggleFn","pipeFn","onCloseFn","relatedTarget","I18nModule","translateCacheService","addLangs","setDefaultLang","browserLang","getCachedLanguage","getBrowserLang","cacheService","cacheMechanism","CommonDirectivesModule","AdBannerComponent","advertisementService","sidebar","ad","contentLoading","adNum","adViewedProp","getAd","adElem","adViewed","fetchAd","banners","HEADER","viewHeight","max","clientHeight","bottom","adClicked","ErrorMessageEnum","bootstrapModule","console","webpackEmptyAsyncContext","req","Promise","resolve"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaA,wB;AAMX,4CAAc;AAAA;;AALG,eAAAC,IAAA,GAAiC,IAAI,oDAAJ,CAA6B,KAA7B,CAAjC;AACA,eAAAC,EAAA,GAA8B,IAAI,oDAAJ,CAA4B,CAAC,CAA7B,CAA9B;AAED,eAAAC,QAAA,GAA2B,IAAI,4CAAJ,EAA3B;AAEA;;;;iBAET,SAAAC,MAAM;AACX,iBAAKH,IAAL,CAAUI,IAAV,CAAe,CAAC,KAAKJ,IAAL,CAAUK,KAA1B;AACD;;;iBAEM,SAAAC,QAAQ;AACb,mBAAO,KAAKN,IAAZ;AACD;;;iBAEM,SAAAO,KAAK,CAACN,EAAD,EAAW;AACrB,iBAAKA,EAAL,CAAQG,IAAR,CAAaH,EAAb;AACD;;;iBAEM,SAAAO,MAAM;AACX,mBAAO,KAAKP,EAAZ;AACD;;;iBAEM,SAAAQ,SAAS,CAACC,OAAD,EAAwB;AACtC,iBAAKH,KAAL,CAAWG,OAAO,CAACT,EAAnB;AACA,iBAAKE,MAAL;AACA,mBAAO,gDAAG,IAAH,CAAP;AACD;;;;;;;;cA5BUJ,wB;AAAwB,gB;AAAA;;;;;;cAAxBA,wB;AAAwB,oBAFvB;;;;;;;cAEDA,wB;AAAwB;gBAHpC,wDAGoC;iBAHzB;AACVY,sBAAU,EAAE;AADF,W;AAGyB,U;;;;;;;;;;;;;;;;;;;;;ACPrC;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYC,qBAAZ;;AAAA,iBAAYA,qBAAZ,EAAiC;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,OATD,EAAYA,qBAAqB,KAArBA,qBAAqB,MAAjC;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAgBaC,kB;AAWX,oCACmBC,YADnB,EAEmBC,WAFnB,EAE2C;AAAA;;AAAA;;AAEzC;AAHiB,gBAAAD,YAAA,GAAAA,YAAA;AACA,gBAAAC,WAAA,GAAAA,WAAA,CAAwB,CAV3C;;AAC0B,gBAAAC,KAAA,GAA4B,IAAI,0DAAJ,EAA5B;AAET,gBAAAC,OAAA,GAA2B,IAAI,4CAAJ,EAA3B;AAEV,gBAAAC,MAAA,GAA0B,IAA1B;AACA,gBAAAC,YAAA,GAAe,CAAf;AAIoC;AAG1C;;;;;;iBAED,SAAAC,QAAQ;AACN,iBAAKC,iBAAL;AACD;;;iBAED,SAAAC,WAAW,CAACC,OAAD,EAAuB;AAChC,iBAAKL,MAAL,GAAc,EAAd;AACA,iBAAKC,YAAL,GAAoB,CAApB;;AACA,gBAAI,CAACI,OAAO,CAACC,KAAR,CAAcC,aAAd,EAAD,IAAkCF,OAAO,CAACC,KAAR,CAAcE,YAApD,EAAkE;AAChE,mBAAKT,OAAL,CAAab,IAAb,CAAkBmB,OAAO,CAACC,KAAR,CAAcE,YAAhC;AACD;AACF;;;iBAEO,SAAAL,iBAAiB;AAAA;;AACvB,iBAAKJ,OAAL,CAAaU,IAAb,CACE,oEAAa,GAAb,CADF,EAEE,6EAFF,EAGE,iEAAU,UAACC,MAAD;AAAA,qBAAoB,sDAAS,CAAC,MAAI,CAACb,WAAL,CAAiBE,OAAjB,CAAyBW,MAAzB,CAAD,EAAmC,MAAI,CAACd,YAAL,CAAkBG,OAAlB,CAA0BW,MAA1B,CAAnC,CAAT,CAApB;AAAA,aAAV,CAHF,EAIE,iEAAU,KAAKC,YAAf,CAJF,EAKEC,SALF,CAKY,gBAAkH;AAAA;;AAAA;AAAA,kBAAhHC,oBAAgH;AAAA,kBAA1FC,kBAA0F;;AAC5H,oBAAI,CAACb,YAAL,GAAoBY,oBAAoB,CAACE,KAAzC;AACA,oBAAI,CAACf,MAAL,GAAc,EAAd;;AACA,qCAAI,CAACA,MAAL,EAAYgB,IAAZ,yCACKF,kBAAkB,CAACG,OAAnB,CAA2BC,GAA3B,CAA+B,UAACC,KAAD;AAAA,uBAA4B;AAC5DC,sBAAI,EAAED,KAAK,CAACE,IAAN,CAAWC,IAD2C;AAE5DC,4BAAU,EAAE,CAAC,SAAD,EAAYJ,KAAK,CAACK,IAAN,CAAWzC,EAAvB,CAFgD;AAG5D0C,uBAAK,EAAEN,KAAK,CAACE,IAAN,CAAWK,OAH0C;AAI5DP,uBAAK,EAAE;AAJqD,iBAA5B;AAAA,eAA/B,EAKCQ,KALD,CAKO,CALP,EAKU,CALV,CADL;;AAQA,sCAAI,CAAC3B,MAAL,EAAYgB,IAAZ,0CACKH,oBAAoB,CAACI,OAArB,CAA6BC,GAA7B,CAAiC,UAACU,OAAD;AAAA,uBAAgC;AAClER,sBAAI,EAAEQ,OAAO,CAACP,IAAR,CAAaQ,KAD+C;AAElEN,4BAAU,EAAE,CAAC,OAAD,EAAUK,OAAO,CAACJ,IAAR,CAAazC,EAAvB,CAFsD;AAGlEoC,uBAAK,EAAE;AAH2D,iBAAhC;AAAA,eAAjC,EAICQ,KAJD,CAIO,CAJP,EAIU,CAJV,CADL;AAOD,aAvBD;AAwBD;;QAvDqC,0F;;;;;;cAA3BhC,kB;AAAkB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAlBA,kB;AAAkB,kC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,2B;AAAA,4D;AAAA,kBChB/B,klC;AAgBA,82E;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDAaA,kB;AAAkB;gBAL9B,uDAK8B;iBALpB;AACTmC,oBAAQ,EAAE,gBADD;AAETC,uBAAW,EAAE,6BAFJ;AAGTC,qBAAS,EAAE,CAAC,6BAAD;AAHF,W;AAKoB,U;;;;;;;;;AACb1B,eAAK,EAAE,CAAF;kBAApB;AAAoB,WAAE,C;AAGGR,eAAK,EAAE,CAAF;kBAA9B;AAA8B,WAAE;;;;;;;;;;;;;;;;;;;AEpBnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UA+BamC,e;AA+BX,iCACmBC,MADnB,EAEmBC,cAFnB,EAGmBC,mBAHnB,EAIkBC,OAJlB,EAKkBC,UALlB,EAMkBC,oBANlB,EAOkBC,YAPlB,EAQkBC,yBARlB,EASkBC,eATlB,EAUSC,gBAVT,EAU2C;AAAA;;AAAA;;AAEzC;AAXiB,iBAAAT,MAAA,GAAAA,MAAA;AACA,iBAAAC,cAAA,GAAAA,cAAA;AACA,iBAAAC,mBAAA,GAAAA,mBAAA;AACD,iBAAAC,OAAA,GAAAA,OAAA;AACA,iBAAAC,UAAA,GAAAA,UAAA;AACA,iBAAAC,oBAAA,GAAAA,oBAAA;AACA,iBAAAC,YAAA,GAAAA,YAAA;AACA,iBAAAC,yBAAA,GAAAA,yBAAA;AACA,iBAAAC,eAAA,GAAAA,eAAA;AACT,iBAAAC,gBAAA,GAAAA,gBAAA;AAnCF,iBAAAC,cAAA,GAAiB,KAAjB,CAmCoC,CAjC3C;;AACO,iBAAAC,aAAA,GAA4B;AAAEC,iBAAK,EAAE,KAAT;AAAgBC,eAAG,EAAE;AAArB,WAA5B,CAgCoC,CA9B3C;;AACO,iBAAAC,WAAA,GAA0B;AAAEF,iBAAK,EAAE,KAAT;AAAgBC,eAAG,EAAE;AAArB,WAA1B;AAGA,iBAAAE,SAAA,GAAwB;AAAEH,iBAAK,EAAE,KAAT;AAAgBC,eAAG,EAAE;AAArB,WAAxB;AACA,iBAAAG,UAAA,GAAkB,OAAKR,eAAL,CAAqBS,SAArB,GACrB,6FAAS,OAAKF,SAAd,EAAyB,YAAM;AAC7B,mBAAO,OAAKG,YAAZ;AACD,WAFD,EAEG,iEAAU,OAAKzC,YAAf,CAFH,EAEiC,YAAM;AACrC,mBAAK8B,yBAAL,CAA+BY,cAA/B,CAA8C5C,IAA9C,CACE,8DADF,EAEE,gEAAS,UAAC6C,GAAD;AAAA,qBACP,sDAASA,GAAG,CAACC,MAAJ,CAAW,UAACC,MAAD;AAAA,uBAA2B,CAACA,MAAM,CAACC,IAAnC;AAAA,eAAX,EAAoDvC,GAApD,CACP,UAACsC,MAAD;AAAA,uBAA2B,OAAKjB,oBAAL,CAA0BmB,SAA1B,CAAoCF,MAAM,CAACzE,EAA3C,CAA3B;AAAA,eADO,CAAT,CADO;AAAA,aAAT,CAFF,EAMM,iEAAU,OAAK4B,YAAf,CANN,EAOEC,SAPF,CAOY;AAAA,qBAAM,OAAK6B,yBAAL,CAA+BkB,MAA/B,EAAN;AAAA,aAPZ;AAQD,WAXD,CADqB,GAarB,YAAM,CAAE,CAbL;;AA4BL,iBAAKtB,OAAL,CAAauB,SAAb,CAAuBnD,IAAvB,CAA4B,iEAAU,OAAKE,YAAf,CAA5B,EAA0DC,SAA1D,CAAoE,YAAM;AACxE,mBAAKwB,mBAAL,CAAyByB,eAAzB,CAAyC,KAAzC;AACD,WAFD;;AAHyC;AAM1C;;;;;;iBAED,SAAA3D,QAAQ;AAAA;;AACN,gBAAI,KAAKwC,eAAL,CAAqBS,SAAzB,EAAoC;AAClCW,sBAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmC,UAACC,KAAD,EAAkB;AACnD,oBAAI,MAAI,CAACpB,cAAL,IAAuB,CAAC,MAAI,CAACqB,SAAL,CAAeC,aAAf,CAA6BC,QAA7B,CAAsCH,KAAK,CAACI,MAA5C,CAA5B,EAAiF;AAC/E,wBAAI,CAACxB,cAAL,GAAsB,KAAtB;AACD;AACF,eAJD;AAKA,mBAAKyB,0BAAL;AACA,mBAAKnC,MAAL,CAAYoC,MAAZ,CAAmB7D,IAAnB,CAAwB,iEAAU,KAAKE,YAAf,CAAxB,EAAsDC,SAAtD,CAAgE,UAAC2D,CAAD,EAAoB;AAClF,oBAAIA,CAAC,YAAY,6DAAjB,EAAgC;AAC9B,wBAAI,CAAC7D,MAAL,GAAc,EAAd;AACD;AACF,eAJD;AAKD;;AAED,iBAAK2B,OAAL,CAAamC,KAAb,CAAmB/D,IAAnB,CACE,4EAAqB,UAACgE,CAAD,EAAmBC,CAAnB;AAAA,qBAAyC,CAACD,CAAD,IAAM,CAACC,CAAR,IAAeD,CAAC,IAAIC,CAAL,IAAUD,CAAC,CAACjD,IAAF,CAAOzC,EAAP,KAAc2F,CAAC,CAAClD,IAAF,CAAOzC,EAAtF;AAAA,aAArB,CADF,EAEE,iEAAU,KAAK4B,YAAf,CAFF,EAGEC,SAHF,CAGY,UAAC2D,CAAD,EAAsB;AAChCA,eAAC,KAAK,IAAN,GAAa,MAAI,CAAC9B,yBAAL,CAA+BkC,kBAA/B,CAAkDJ,CAAC,CAAC/C,IAAF,CAAOzC,EAAzD,CAAb,GAA4E,MAAI,CAAC0D,yBAAL,CAA+BmC,UAA/B,EAA5E;AACD,aALD;AAMD;;;iBAEO,SAAAP,0BAA0B;AAAA;;AAChC,iBAAKjC,mBAAL,CACGyC,eADH,GAEGpE,IAFH,CAEQ,iEAAU,KAAKE,YAAf,CAFR,EAGGC,SAHH,CAGa,UAACkC,KAAD,EAAoB;AAC7B,oBAAI,CAACD,aAAL,GAAqB,MAAH,OAAG,CAAH,kBACb,MAAI,CAACA,aADQ,CAAG,EACE;AACrBC,qBAAK,EAALA;AADqB,eADF,CAArB;;AAIA,kBAAI,CAACA,KAAD,IAAU,MAAI,CAACD,aAAL,CAAmBE,GAAjC,EAAsC;AACpC,sBAAI,CAACF,aAAL,CAAmBE,GAAnB,CAAuB+B,WAAvB;AACD,eAFD,MAEO,IAAIhC,KAAJ,EAAW;AAChBiC,qCAAqB,CAAC,YAAM;AAC1B,wBAAI,CAAClC,aAAL,CAAmBE,GAAnB,GAAyB,uDAAUe,QAAV,EAAoB,OAApB,EAA6BrD,IAA7B,CAAkC,iEAAU,MAAI,CAACE,YAAf,CAAlC,EAAgEC,SAAhE,CAA0E,UAACoE,CAAD,EAAc;AAC/G,wBAAI,CAAC,MAAI,CAACC,QAAL,CAAcf,aAAd,CAA4BC,QAA5B,CAAqCa,CAAC,CAACZ,MAAvC,CAAL,EAAqD;AACnD,4BAAI,CAAChC,mBAAL,CAAyByB,eAAzB,CAAyC,KAAzC;AACD;AACF,mBAJwB,CAAzB;AAKD,iBANoB,CAArB;AAOD;AACF,aAnBH;AAoBD;;;iBAEM,SAAAqB,cAAc;AACnB,iBAAK9C,mBAAL,CAAyByB,eAAzB,CAAyC,CAAC,KAAKhB,aAAL,CAAmBC,KAA7D;AACD;;;iBAEM,SAAAqC,kBAAkB;AAAA;;AACvB,gBAAI,KAAK9C,OAAL,CAAauB,SAAb,CAAuBzE,KAA3B,EAAkC;AAChC,mBAAKgD,cAAL,CAAoBiD,OAApB,GAA8B3E,IAA9B,CAAmC,iEAAU,KAAKE,YAAf,CAAnC,EACGC,SADH,CACa,UAAC7B,EAAD;AAAA,uBAAgB,MAAI,CAACmD,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,OAAD,EAAUtG,EAAV,EAAc,MAAd,CAArB,CAAhB;AAAA,eADb;AAED,aAHD,MAGO;AACL,mBAAKqD,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACD;AACF;;;iBAEM,SAAAyB,WAAW;AAAA;;AAChB,gBAAI,CAAC,KAAK1C,cAAV,EAA0B;AACxB,mBAAKA,cAAL,GAAsB,IAAtB;AACAmC,mCAAqB,CAAC,YAAM;;;AAC1B,sBAAI,CAACzE,KAAL,CAAW4D,aAAX,CAAyBqB,KAAzB;;AACA,4BAAI,CAACjF,KAAL,CAAW4D,aAAX,MAAwB,IAAxB,IAAwB,aAAxB,GAAwB,MAAxB,GAAwB,GAAEsB,iBAAF,CAAoB,CAApB,EAAuB,GAAvB,CAAxB;AACD,eAHoB,CAArB;AAID;AACF;;;iBAEM,SAAAC,sBAAsB;AAC3B,iBAAKvD,MAAL,CAAYwD,aAAZ,CAA0B,MAA1B;AACA,iBAAK/C,gBAAL,CAAsBgD,gBAAtB,CAAuC,CAAC,CAAD,EAAI,CAAJ,CAAvC;AACD;;QAzHkC,0F;;;;;;cAAxB1D,e;AAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAfA,e;AAAe,8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,6B;AAAA,4D;AAAA,kBC/B5B,+9H;AA8DA,2/hD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;cD/BaA,e;AAAe;gBAZ3B,uDAY2B;iBAZjB;AACTH,oBAAQ,EAAE,YADD;AAETC,uBAAW,EAAE,yBAFJ;AAGTC,qBAAS,EAAE,CAAC,yBAAD,CAHF;AAIT4D,kBAAM,EAAE;AAJC,W;AAYiB,U;;;;;;;;;;;;;;;;;;;;;;;;;AACoBtF,eAAK,EAAE,CAAF;kBAAlD,uDAAkD;mBAAxC,O,EAAS;AAAE,wBAAQ;AAAV,a;AAA+B,WAAE,C;AACJ2E,kBAAQ,EAAE,CAAF;kBAAxD,uDAAwD;mBAA9C,U,EAAY;AAAE,wBAAQ;AAAV,a;AAAkC,WAAE,C;AACThB,mBAAS,EAAE,CAAF;kBAA1D,uDAA0D;mBAAhD,W,EAAa;AAAE,wBAAQ;AAAV,a;AAAmC,WAAE,C;AACRb,sBAAY,EAAE,CAAF;kBAAhE,uDAAgE;mBAAtD,c,EAAgB;AAAE,wBAAQ;AAAV,a;AAAsC,WAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEnCrE;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASayC,2B,6BANb;AAAA;;AAQW,aAAAC,IAAA,GAAO,EAAP;AACV,O;;;;;;cAHYD,2B;AAA2B,gB;AAAA;;;;;cAA3BA,2B;AAA2B,4C;AAAA;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCTxC,+iB;AASA,g3zW;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;;cDAaA,2B;AAA2B;gBANvC,uDAMuC;iBAN7B;AACT/D,oBAAQ,EAAE,0BADD;AAETC,uBAAW,EAAE,uCAFJ;AAGTC,qBAAS,EAAE,CAAC,uCAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAM6B,U;;AAC7BC,kBAAQ,EAAE,CAAF;kBAAhB;AAAgB,WAAE,C;AACVH,cAAI;kBAAZ;AAAY;;;;;;;;;;;;;;;;;AEXf;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaI,sB;AACX,wCAA6BC,GAA7B,EAA8C;AAAA;;AAAjB,eAAAA,GAAA,GAAAA,GAAA;AAAmB;;;;iBAEzC,SAAAC,KAAK,CAACC,KAAD,EAAc;AACxB,mBAAO,KAAKF,GAAL,CAASG,KAAT,CAAe,aAAf,EAA8B;AAAED,mBAAK,EAALA;AAAF,aAA9B,EAAyC,IAAzC,CAAP;AACD;;;iBAEM,SAAAE,MAAM,CAACC,IAAD,EAAeH,KAAf,EAA4B;AACvC,mBAAO,KAAKF,GAAL,CAASM,IAAT,4BAAkCD,IAAlC,oBAAgDH,KAAhD,GAAyD,IAAzD,CAAP;AACD;;;iBAEM,SAAAK,OAAO,CAACF,IAAD,EAAeH,KAAf,EAA8BM,QAA9B,EAA8C;AAC1D,mBAAO,KAAKR,GAAL,CAASG,KAAT,CAAe,oBAAf,EAAqC;AAAED,mBAAK,EAALA,KAAF;AAASM,sBAAQ,EAARA,QAAT;AAAmBH,kBAAI,EAAJA;AAAnB,aAArC,EAAgE,IAAhE,CAAP;AACD;;;;;;;;cAbUN,sB;AAAsB;AAAA;AAAA,U;AAAA;;;;;;cAAtBA,sB;AAAsB,oBAFrB;;;;;;;cAEDA,sB;AAAsB;gBAHlC,wDAGkC;iBAHvB;AACVzG,sBAAU,EAAE;AADF,W;AAGuB,U;;;;;;;;;;;;;;;;;;;;;;;ACPnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAgBamH,iB;AAuBX,qCAAc;AAAA;;AApBY,eAAAC,WAAA,GAAoC,IAAI,0DAAJ,EAApC;AAEV,eAAAC,QAAA,GAAW,KAAX;AACA,eAAAC,WAAA,GAAc,wBAAd;AACA,eAAAxB,KAAA,GAAQ,KAAR;AAcT,eAAAyB,UAAA,GAAa,EAAb;AAEU;;;;eATjB,eAAgB;AACd,mBAAO,KAAKA,UAAZ;AACD,W;eAPD,aAA0B7H,KAA1B,EAAyC;AACvC,iBAAK6H,UAAL,GAAkB7H,KAAlB;AACA,iBAAK8H,KAAL,CAAW/C,aAAX,CAAyBgD,SAAzB,GAAqC/H,KAArC;AACD;;;iBAaM,SAAAgI,gBAAgB,CAACC,EAAD,EAAyB;AAC9C,iBAAKC,gBAAL,GAAwBD,EAAxB;AACD;;;iBAEM,SAAAE,iBAAiB,CAACF,EAAD,EAAe;AACrC,iBAAKG,iBAAL,GAAyBH,EAAzB;AACD;;;iBAEM,SAAAI,gBAAgB,CAACC,UAAD,EAAoB;AACzC,iBAAKX,QAAL,GAAgBW,UAAhB;AACD;;;iBAEM,SAAAC,UAAU,CAACvI,KAAD,EAAc;AAC7B,gBAAIA,KAAK,KAAK,KAAK6H,UAAnB,EAA+B;AAC7B,mBAAKA,UAAL,GAAkB7H,KAAlB;AACA,mBAAK8H,KAAL,CAAW/C,aAAX,CAAyBgD,SAAzB,GAAqC/H,KAArC;AACD;AACF;;;iBAEM,SAAAwI,OAAO;AACZ,iBAAKpC,KAAL,GAAa,IAAb;;AACA,gBAAI,KAAKgC,iBAAT,EAA4B;AAC1B,mBAAKA,iBAAL;AACD;AACF;;;iBAEM,SAAAK,MAAM;AACX,iBAAKZ,UAAL,GAAkB,KAAKC,KAAL,CAAW/C,aAAX,CAAyBgD,SAA3C;AAEA,iBAAKL,WAAL,CAAiBgB,IAAjB,CAAsB,KAAKb,UAA3B;;AACA,gBAAI,KAAKK,gBAAT,EAA2B;AACzB,mBAAKA,gBAAL,CAAsB,KAAKL,UAA3B;AACD;AACF;;;iBAEM,SAAAc,SAAS;AACd,iBAAKvC,KAAL,GAAa,KAAb;AACA,iBAAK0B,KAAL,CAAW/C,aAAX,CAAyBgD,SAAzB,GAAqC,KAAKF,UAA1C;AACD;;;;;;;;cA/DUJ,iB;AAAiB,gB;AAAA;;;;;cAAjBA,iB;AAAiB,mC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,mBATjB,CACT;AACEmB,iBAAO,EAAE,gEADX;AAEEC,qBAAW,EAAE,iEAAW;AAAA,mBAAMpB,iBAAN;AAAA,WAAX,CAFf;AAGEqB,eAAK,EAAE;AAHT,SADS,C;AAMV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,4D;AAAA,kBCbH,gL;AACA,0wF;AAAA;;;;;;;cDearB,iB;AAAiB;gBAb7B,uDAa6B;iBAbnB;AACT9E,oBAAQ,EAAE,iBADD;AAETC,uBAAW,EAAE,2BAFJ;AAGTC,qBAAS,EAAE,CAAC,2BAAD,CAHF;AAITkG,qBAAS,EAAE,CACT;AACEH,qBAAO,EAAE,gEADX;AAEEC,yBAAW,EAAE,iEAAW;AAAA,uBAAMpB,iBAAN;AAAA,eAAX,CAFf;AAGEqB,mBAAK,EAAE;AAHT,aADS,CAJF;AAWTlC,2BAAe,EAAE,sEAAwBC;AAXhC,W;AAamB,U;;;;;AACkBiB,eAAK,EAAE,CAAF;kBAAlD,uDAAkD;mBAAxC,O,EAAS;AAAE,wBAAQ;AAAV,a;AAA+B,WAAE,C;AAE3BJ,qBAAW,EAAE,CAAF;kBAApC;AAAoC,WAAE,C;AAEvBC,kBAAQ;kBAAvB;AAAuB,Y;AACRC,qBAAW;kBAA1B;AAA0B,Y;AACXxB,eAAK;kBAApB;AAAoB,Y;AAEDpG,eAAK;kBAAxB;AAAwB;;;;;;;;;;;;;;;;;;;AEzB3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUagJ,S;AACX,2BACmB9F,OADnB,EAC0C;AAAA;;AAAvB,eAAAA,OAAA,GAAAA,OAAA;AACf;;;;iBAEJ,SAAA+F,WAAW;AACT,mBAAO,KAAK/F,OAAL,CAAamC,KAAb,CAAmB/D,IAAnB,CACL,2DAAI,UAAC4H,IAAD;AAAA,qBAAyBA,IAAI,KAAK,IAAlC;AAAA,aAAJ,CADK,CAAP;AAGD;;;;;;;;cATUF,S;AAAS;AAAA;AAAA,U;AAAA;;;;;;cAATA,S;AAAS,oBAFR;;;;;;;cAEDA,S;AAAS;gBAHrB,wDAGqB;iBAHV;AACV1I,sBAAU,EAAE;AADF,W;AAGU,U;;;;;;;;;;;;;;;;;;;;;;;ACVtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQa6I,gB,6BAKX,4BAAc;AAAA;;AAJE,aAAAC,KAAA,GAAQ,KAAR;AACA,aAAAC,OAAA,GAAU,KAAV;AACA,aAAAC,MAAA,GAAS,KAAT;AAEA,O;;;;;;cALLH,gB;AAAgB,gB;AAAA;;;;;cAAhBA,gB;AAAgB,gC;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCR7B,6J;AAGA,m4D;AAAA;;;;;;;cDKaA,gB;AAAgB;gBAN5B,uDAM4B;iBANlB;AACTxG,oBAAQ,EAAE,cADD;AAETC,uBAAW,EAAE,wBAFJ;AAGTC,qBAAS,EAAE,CAAC,wBAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMkB,U;;;;;AACXuC,eAAK;kBAApB;AAAoB,Y;AACLC,iBAAO;kBAAtB;AAAsB,Y;AACPC,gBAAM;kBAArB;AAAqB;;;;;;;;;;;;;;;;;AEXxB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMaC,mB;;;;;;;iBACX,SAAAC,SAAS,CAACxJ,KAAD,EAA2F;AAClG,gBAAIa,MAAJ;;AACA,gBAAIb,KAAK,CAACyJ,OAAN,IAAiBzJ,KAAK,CAACyJ,OAAN,CAAcC,SAA/B,IAA4C1J,KAAK,CAACyJ,OAAN,CAAcE,SAA9D,EAAyE;AACvE9I,oBAAM,GAAGb,KAAK,CAACyJ,OAAN,CAActH,IAAd,aAAyBnC,KAAK,CAACyJ,OAAN,CAActH,IAAvC,IAAiD,EAA1D;AACD,aAFD,MAEO;AACLtB,oBAAM,aAAOb,KAAK,CAAC4J,SAAb,cAA4B5J,KAAK,CAAC6J,QAAN,CAAe,CAAf,CAA5B,MAAN;AACD;;AACD,mBAAOhJ,MAAP;AACD;;;;;;;;cATU0I,mB;AAAmB,gB;AAAA;;;;;;cAAnBA,mB;AAAmB;;;;;;;cAAnBA,mB;AAAmB;gBAH/B,kDAG+B;iBAH1B;AACJpH,gBAAI,EAAE;AADF,W;AAG0B;;;;;;;;;;;;;;;;;;ACNhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMa2H,a;AACX,+BAA6BC,YAA7B,EAAyD;AAAA;;AAA5B,eAAAA,YAAA,GAAAA,YAAA;AAA8B;;;;iBAE3D,SAAAP,SAAS,CAACxJ,KAAD,EAAc;AACrB,mBAAO,KAAK+J,YAAL,CAAkBC,8BAAlB,CAAiDhK,KAAjD,CAAP;AACD;;;;;;;;cALU8J,a;AAAa;AAAA;AAAA,U;AAAA;;;;;;cAAbA,a;AAAa;;;;;;;cAAbA,a;AAAa;gBAHzB,kDAGyB;iBAHpB;AACJ3H,gBAAI,EAAE;AADF,W;AAGoB,U;;;;;;;;;;;;;;;;;;;;;;;ACN1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAEO,UAAM8H,UAAU,GAAQ;AAC7BC,iBAAS,EAAE,IAAI,wDAAJ,CAAc;AACvBC,iBAAO,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,CADc;AAEvB3C,kBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,CAFa;AAGvB4C,kBAAQ,EAAE,IAAI,0DAAJ,CAAgB,IAAhB;AAHa,SAAd,CADkB;AAO7BC,oBAAY,EAAE,IAAI,wDAAJ,CAAc;AAC1BnD,eAAK,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWA,KAAZ,CAApB;AADmB,SAAd,CAPe;AAW7BoD,oBAAY,EAAE,IAAI,wDAAJ,CACZ;AACEnI,cAAI,EAAE,IAAI,0DAAJ,CACJ,EADI,EAEJ,UAACoI,OAAD;AAAA,mBAAgDA,OAAO,CAACvK,KAAR,IAAiB,CAAC,6BAA6BwK,IAA7B,CAAkCD,OAAO,CAACvK,KAA1C,CAAlB,GAC5C;AAAEyK,yBAAW,EAAE;AAAf,aAD4C,GAE5C,IAFJ;AAAA,WAFI,CADR;AAOEC,kBAAQ,EAAE,IAAI,0DAAJ,CACR,EADQ,EAER,UAACH,OAAD;AAAA,mBAAgDA,OAAO,CAACvK,KAAR,IAAiB,CAAC,wBAAwBwK,IAAxB,CAA6BD,OAAO,CAACvK,KAArC,CAAlB,GAC5C;AAAE2K,qBAAO,EAAE;AAAX,aAD4C,GAE5C,IAFJ;AAAA,WAFQ,CAPZ;AAaEzD,eAAK,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAAC,0DAAWA,KAAZ,CAApB,CAbT;AAcEM,kBAAQ,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,CAdZ;AAeEoD,wBAAc,EAAE,IAAI,0DAAJ,CAAgB,EAAhB;AAflB,SADY,EAkBZ;AACEC,oBAAU,EAAE,SAAZA,UAAY,CAACC,KAAD;AAAA,mBAAwCA,KAAK,CAACC,QAAN,CAAevD,QAAf,CAAwBxH,KAAxB,KAAkC8K,KAAK,CAACC,QAAN,CAAeH,cAAf,CAA8B5K,KAAhE,GAChD;AAAEgL,sBAAQ,EAAE;AAAZ,aADgD,GAEhD,IAFQ;AAAA;AADd,SAlBY;AAXe,OAAxB;;;;;;;;;;;;;;;;ACFP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAaA,UAAMC,mBAAmB,GAAG,QAA5B;;UAKaC,a;AACX,+BACqBC,UADrB,EAEqBC,KAFrB,EAEiC;AAAA;;AAAA;;AAE/B,oDAAMD,UAAN,EAAkBF,mBAAlB,EAAuCG,KAAvC;AAHmB,iBAAAD,UAAA,GAAAA,UAAA;AACA,iBAAAC,KAAA,GAAAA,KAAA;AAAY;AAGhC;;;;;;iBAEM,SAAA9D,IAAI,GAA0C;AAAA,gBAAzC+D,IAAyC,uEAA1B,CAA0B;AAAA,gBAAvBlK,KAAuB,uEAAF,EAAE;AACnD,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,CAAgD2D,mBAAhD,EAAqE,IAArE,EAA2E,MAAF,OAAE,CAAF,kBAAO9J,KAAP,CAAE,EAAU;AAAEkK,kBAAI,EAAJA;AAAF,aAAV,CAA3E,CAAP;AACD;;;iBAEM,SAAAC,MAAM,GAAsC;AAAA,gBAArCnK,KAAqC,uEAAF,EAAE;AACjD,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,CAAwC2D,mBAAxC,EAA6D,IAA7D,EAAmE9J,KAAnE,CAAP;AACD;;;iBAEM,SAAAoK,UAAU,CAAC3L,EAAD,EAAW;AAC1B,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WAAyC2D,mBAAzC,cAAkErL,EAAlE,GAAyE,IAAzE,CAAP;AACD;;;iBAEM,SAAA4L,cAAc,CAACC,MAAD,EAAiBJ,IAAjB,EAA6B;AAChD,mBAAO,KAAKF,UAAL,CAAgB7D,IAAhB,WAAoD2D,mBAApD,cAA6EQ,MAA7E,iBAAkG,KAAlG,EAAyG;AAAEJ,kBAAI,EAAJA;AAAF,aAAzG,CAAP;AACD;;;iBAEM,SAAApF,OAAO;AACZ,mBAAO,KAAKkF,UAAL,CAAgBhE,KAAhB,CAAsC8D,mBAAtC,EAA2D3J,IAA3D,CAAgE,2DAAI,UAAC8D,CAAD;AAAA,qBAAuBA,CAAC,CAACxF,EAAzB;AAAA,aAAJ,CAAhE,CAAP;AACD;;;iBAEM,SAAA8L,MAAM,CAAC9L,EAAD,EAAa+L,KAAb,EAA+B;AAC1C,mBAAO,KAAKR,UAAL,CAAgBO,MAAhB,WAA2CT,mBAA3C,cAAoErL,EAApE,GAA2E+L,KAA3E,CAAP;AACD;;;iBAEM,SAAAC,UAAU,CAAChM,EAAD,EAAaiM,MAAb,EAA2B;AAC1C,mBAAO,KAAKV,UAAL,CAAgBW,IAAhB,WAA2Cb,mBAA3C,cAAoErL,EAApE,cAAkF;AAAEiM,oBAAM,EAANA;AAAF,aAAlF,CAAP;AACD;;;iBAEM,SAAAE,UAAU,CAACnM,EAAD,EAAW;AAC1B,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WAA6C2D,mBAA7C,cAAsErL,EAAtE,aAAP;AACD;;;iBAEM,SAAAoM,OAAO,CAACpM,EAAD,EAAW;AACvB,mBAAO,KAAKuL,UAAL,CAAgBa,OAAhB,WAA4Bf,mBAA5B,cAAqDrL,EAArD,EAAP;AACD;;;iBAEM,SAAAqM,OAAO,CAACrM,EAAD,EAAW;AACvB,mBAAO,KAAKsM,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqBuM,MAA5C,CAAP;AACD;;;iBAEM,SAAAC,QAAQ,CAACxM,EAAD,EAAW;AACxB,mBAAO,KAAKsM,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqByM,OAA5C,CAAP;AACD;;;iBAEM,SAAAC,SAAS,CAAC1M,EAAD,EAAW;AACzB,mBAAO,KAAKsM,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqByM,OAA5C,EAAqD,IAArD,CAAP;AACD;;QAtDgC,qF;;;;;;cAAtBnB,a;AAAa;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAbA,a;AAAa,oBAFZ;;;;;;;cAEDA,a;AAAa;gBAHzB,wDAGyB;iBAHd;AACV5K,sBAAU,EAAE;AADF,W;AAGc,U;;;;;;;;;;;;;;;;;;;;;;;;;AClB1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAeaiM,wB;AASX,0CACmBC,aADnB,EAEmBC,gBAFnB,EAEqD;AAAA;;AAAA;;AACjD;AAFe,iBAAAD,aAAA,GAAAA,aAAA;AACA,iBAAAC,gBAAA,GAAAA,gBAAA;AAPO,iBAAAC,IAAA,GAAiC,IAAI,0DAAJ,EAAjC;AAEV,iBAAAC,oBAAA,GAAoD,gGAApD;AACA,iBAAAC,oBAAA,GAAoD,gGAApD;AAIqC;AACvC;;;;;;iBAEP,SAAAC,OAAM;AAAA;;AACX,gBAAMC,CAAC,GAAG,KAAKC,IAAf;AACA,iBAAKP,aAAL,CAAmBR,OAAnB,CAA2Bc,CAAC,CAACzK,IAAF,CAAOzC,EAAlC,EAAsC0B,IAAtC,CAA2C,iEAAU,KAAKE,YAAf,CAA3C,EAAyEC,SAAzE,CAAmF;AAAA,qBAAM,OAAI,CAACiL,IAAL,CAAU3M,IAAV,CAAe+M,CAAf,CAAN;AAAA,aAAnF;AACD;;;iBAEM,SAAAE,QAAQ;AAAA;;AACb,iBAAKR,aAAL,CAAmBS,SAAnB,CAA6B,KAAKF,IAAL,CAAU1K,IAAV,CAAezC,EAA5C,EAAgD0B,IAAhD,CACE,iEAAU,UAAC8D,CAAD;AAAA,qBAAuB,OAAI,CAACqH,gBAAL,CAAsBrM,SAAtB,CAAgCgF,CAAhC,CAAvB;AAAA,aAAV,CADF,EAEE,iEAAU,KAAK5D,YAAf,CAFF,EAGEC,SAHF;AAID;;;iBAEM,SAAAyL,IAAI;AAAA;;AACT,gBAAMJ,CAAC,GAAG,KAAKC,IAAf;AACA,iBAAKP,aAAL,CAAmBW,KAAnB,CAAyBL,CAAC,CAACzK,IAAF,CAAOzC,EAAhC,EAAoCkN,CAAC,CAACM,MAAtC,EAA8C9L,IAA9C,CAAmD,iEAAU,KAAKE,YAAf,CAAnD,EAAiFC,SAAjF,CAA2F,YAAM;AAC/FqL,eAAC,CAACM,MAAF,GAAW,CAACN,CAAC,CAACM,MAAd;;AACA,kBAAIN,CAAC,CAACM,MAAN,EAAc;AAAE,uBAAI,CAACV,IAAL,CAAU3M,IAAV,CAAe+M,CAAf;AAAoB;AACrC,aAHD;AAID;;;iBAEM,SAAAO,OAAO;AAAA;;AACZ,iBAAKb,aAAL,CAAmBJ,QAAnB,CAA4B,KAAKW,IAAL,CAAU1K,IAAV,CAAezC,EAA3C,EAA+C0B,IAA/C,CAAoD,iEAAU,KAAKE,YAAf,CAApD,EAAkFC,SAAlF,CAA4F,YAAM;AAChG,qBAAI,CAACsL,IAAL,CAAU7K,IAAV,CAAeoL,gBAAf,GAAkC,iGAAqBC,SAAvD;AACD,aAFD;AAGD;;;iBAEM,SAAAC,QAAQ;AAAA;;AACb,iBAAKhB,aAAL,CAAmBF,SAAnB,CAA6B,KAAKS,IAAL,CAAU1K,IAAV,CAAezC,EAA5C,EAAgD0B,IAAhD,CAAqD,iEAAU,KAAKE,YAAf,CAArD,EAAmFC,SAAnF,CAA6F,YAAM;AACjG,qBAAI,CAACsL,IAAL,CAAU7K,IAAV,CAAeoL,gBAAf,GAAkC,iGAAqBG,KAAvD;AACD,aAFD;AAGD;;QA5C2C,0F;;;;;;cAAjClB,wB;AAAwB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAxBA,wB;AAAwB,yC;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBCfrC,qjD;AAaA,uM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDEaA,wB;AAAwB;gBALpC,uDAKoC;iBAL1B;AACT5J,oBAAQ,EAAE,uBADD;AAETC,uBAAW,EAAE,oCAFJ;AAGTC,qBAAS,EAAE,CAAC,oCAAD;AAHF,W;AAK0B,U;;;;;;;;;AACnBkK,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACNW,aAAG,EAAE,CAAF;kBAAlB;AAAkB,WAAE,C;AAEKhB,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE;;;;;;;;;;;;;;;;;;;AEnBlC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUaiB,oB;AACX,sCAA6BC,aAA7B,EAA2D;AAAA;;AAA9B,eAAAA,aAAA,GAAAA,aAAA;AAAiC;;;;iBAEvD,SAAAC,qBAAqB,CAACC,MAAD,EAAY;AAAA;;AACtC,gBAAMC,UAAU,GAAiB,IAAI,4CAAJ,EAAjC;AACA,mBAAO;AACLC,oBAAM,EAAE,SAARA,MAAQ,GAAM;AACZ,oBAAMC,KAAK,GAAqB,kDAAKH,MAAM,CAACI,IAAZ,CAAhC;AACA,uBAAO,mDAAMH,UAAN,EAAkBE,KAAlB,EACJ3M,IADI,CAEH,iEAAU,UAAC4M,IAAD,EAAgB;AACxB,yBAAO,OAAI,CAACN,aAAL,CAAmBO,YAAnB,CAAgCD,IAAhC,CAAP;AACD,iBAFD,CAFG,EAKH,2DAAI,UAACE,QAAD;AAAA,yBAAqC;AAAE,+BAASA,QAAQ,CAACC;AAApB,mBAArC;AAAA,iBAAJ,CALG,EAMH,kEAAW,UAACC,GAAD,EAAgB;AACzB,wBAAMA,GAAG,CAACC,OAAJ,IAAe,OAArB;AACD,iBAFD,CANG,EASH,8DATG,EAWJC,SAXI,EAAP;AAYD,eAfI;AAgBLC,mBAAK,EAAE,SAAPA,KAAO;AAAA,uBAAMV,UAAU,CAAC3E,KAAX,CAAiB,IAAIsF,KAAJ,CAAU,WAAV,CAAjB,CAAN;AAAA;AAhBF,aAAP;AAkBD;;;;;;;;cAvBUf,oB;AAAoB;AAAA;AAAA,U;AAAA;;;;;;cAApBA,oB;AAAoB,oBAFnB;;;;;;;cAEDA,oB;AAAoB;gBAHhC,wDAGgC;iBAHrB;AACVrN,sBAAU,EAAE;AADF,W;AAGqB,U;;;;;;;;;;;;;;;;;;;;;;;ACVjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAWaqO,wB;AAOX,0CAA4BC,OAA5B,EAAuErL,eAAvE,EAAyG;AAAA;;AAAA;;AAAE;AAA/E,kBAAAqL,OAAA,GAAAA,OAAA;AAA2C,kBAAArL,eAAA,GAAAA,eAAA;AAFhE,kBAAAI,KAAA,GAAQ,KAAR;AAEkG;AAAY;;;;;;iBAErH,SAAA5C,QAAQ;AAAA;;AACN,gBAAI,KAAKwC,eAAL,CAAqBS,SAAzB,EAAoC;AAClC,qEAAUW,QAAV,EAAoB,OAApB,EAA6B;AAAEkK,uBAAO,EAAE;AAAX,eAA7B,EACGvN,IADH,CAEI,8DAAO;AAAA,uBAAM,OAAI,CAACqC,KAAX;AAAA,eAAP,CAFJ,EAGI,iEAAU,KAAKnC,YAAf,CAHJ,EAIIC,SAJJ,CAIc,UAACoE,CAAD,EAAmB;AAC/B,oBAAI,CAAC,OAAI,CAAC+I,OAAL,CAAaE,OAAb,CAAqB/J,aAArB,CAAmCC,QAAnC,CAA4Ca,CAAC,CAACZ,MAA9C,CAAL,EAA4D;AAC1D,yBAAI,CAACtE,KAAL;;AACAkF,mBAAC,CAACkJ,eAAF;AACD;AACF,eATD;AAUD;AACF;;;iBAEM,SAAApO,KAAK;AACV,iBAAKgD,KAAL,GAAa,KAAb;;AACA,gBAAI,KAAKqL,OAAL,IAAgB,IAApB,EAA0B;AACxB,mBAAKA,OAAL,CAAaC,OAAb;AACA,mBAAKD,OAAL,GAAe,IAAf;AACD;AACF;;;iBAEM,SAAArP,IAAI,CAACuP,GAAD,EAAwBrK,KAAxB,EAAyC;AAClD,iBAAKlE,KAAL;AACA,iBAAKqO,OAAL,GAAe,KAAKG,YAAL,CAAkBC,kBAAlB,CAAqCF,GAArC,CAAf;AACA,iBAAKF,OAAL,CAAaK,aAAb;AACA,iBAAK1L,KAAL,GAAa,IAAb;AAEA,gBAAM2L,EAAE,GAAG,KAAKV,OAAL,CAAaE,OAAb,CAAqB/J,aAAhC;AACA,gBAAMwK,IAAI,GAAI1K,KAAK,CAACI,MAAN,CAA6BuK,qBAA7B,EAAd;AACAF,cAAE,CAACG,KAAH,CAASC,IAAT,aAAmBH,IAAI,CAACG,IAAL,GAAYH,IAAI,CAACI,KAApC;AACAL,cAAE,CAACG,KAAH,CAASG,GAAT,aAAkBL,IAAI,CAACK,GAAL,GAAWL,IAAI,CAACM,MAAhB,GAAyB,EAA3C;AACD;;QA1C2C,0F;;;;;;cAAjClB,wB;AAAwB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAxBA,wB;AAAwB,yC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACT,8DADS;AACS,oBAAQ;AADjB,U;AACO,6B;AAAA,4D;AAAA,kBCZ5C,oN;AAOA;;;;;;;cDIaA,wB;AAAwB;gBALpC,uDAKoC;iBAL1B;AACThM,oBAAQ,EAAE,uBADD;AAETC,uBAAW,EAAE,oCAFJ;AAGTC,qBAAS,EAAE,CAAC,oCAAD;AAHF,W;AAK0B,U;;;;;;;;;AACgCsM,sBAAY,EAAE,CAAF;kBAA9E,uDAA8E;mBAApE,K,EAAO;AAAE7K,kBAAI,EAAE,8DAAR;AAA0B,wBAAQ;AAAlC,a;AAA6D,WAAE;;;;;;;;;;;;;;;;;;;AEZnF;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAmBawL,2B;AAUX,6CACmBC,kBADnB,EAEmBC,yBAFnB,EAGmBC,WAHnB,EAImBC,YAJnB,EAKmBC,EALnB,EAMmBpN,MANnB,EAMiC;AAAA;;AAAA;;AAC7B;AANe,kBAAAgN,kBAAA,GAAAA,kBAAA;AACA,kBAAAC,yBAAA,GAAAA,yBAAA;AACA,kBAAAC,WAAA,GAAAA,WAAA;AACA,kBAAAC,YAAA,GAAAA,YAAA;AACA,kBAAAC,EAAA,GAAAA,EAAA;AACA,kBAAApN,MAAA,GAAAA,MAAA;AAfH,kBAAAmH,SAAA,GAAY,QAAKiG,EAAL,CAAQrF,KAAR,CAAc;AACxCX,mBAAO,EAAE,QAAKgG,EAAL,CAAQ5F,OAAR,CAAgB,EAAhB,CAD+B;AAExC/C,oBAAQ,EAAE,QAAK2I,EAAL,CAAQ5F,OAAR,CAAgB,EAAhB,CAF8B;AAGxCH,oBAAQ,EAAE,QAAK+F,EAAL,CAAQ5F,OAAR,CAAgB,EAAhB;AAH8B,WAAd,CAAZ;AAMT,kBAAA5G,KAAA,GAAQ,KAAR;AACA,kBAAAyM,WAAA,GAAc,KAAd;AAQ0B;AACnB;;;;;;iBAEd,SAAArP,QAAQ;AACN,iBAAKiP,yBAAL,CAA+BK,SAA/B,GAA2C,IAA3C;AACD;;;iBAEM,SAAAC,MAAM,CAACzL,KAAD,EAAkB;AAC7B,gBAAIA,KAAK,CAACI,MAAN,KAAiBJ,KAAK,CAAC0L,aAA3B,EAA0C;AACxC,mBAAK5M,KAAL,GAAa,KAAb;AACD;AACF;;;iBAEM,SAAA6M,aAAa;AAAA;;AAClB,gBAAMxQ,KAAK,GAAG,KAAKkK,SAAL,CAAelK,KAA7B;AACA,iBAAKiQ,WAAL,CACGQ,MADH,CACUzQ,KAAK,CAACmK,OADhB,EACyBnK,KAAK,CAACwH,QAD/B,EAEGlG,IAFH,CAGI,iEAAU,UAACoP,MAAD;AAAA,qBAAwB,OAAI,CAACR,YAAL,CAAkBO,MAAlB,CAAyBC,MAAzB,CAAxB;AAAA,aAAV,CAHJ,EAII,iEAAU;AAAA,qBAAM,OAAI,CAACV,yBAAL,CAA+BW,QAA/B,EAAN;AAAA,aAAV,CAJJ,EAKI,iEAAU,KAAKnP,YAAf,CALJ,EAOGC,SAPH,CAQI,YAAM;AACJ,qBAAI,CAACkC,KAAL,GAAa,KAAb;;AACA,qBAAI,CAACZ,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB;AACD,aAXL,EAYI,UAACkD,KAAD,EAAuB;AACrB,sBAAQA,KAAK,CAACwH,KAAd;AACE,qBAAK,+EAAL;AACE,yBAAI,CAAC1G,SAAL,CAAea,QAAf,CAAwBZ,OAAxB,CAAgC0G,SAAhC,CAA0C;AAAEC,gCAAY,EAAE;AAAhB,mBAA1C;;AACA;;AACF,qBAAK,gFAAL;AACE,yBAAI,CAAC5G,SAAL,CAAea,QAAf,CAAwBvD,QAAxB,CAAiCqJ,SAAjC,CAA2C;AAAEE,iCAAa,EAAE;AAAjB,mBAA3C;;AACA;;AACF;AACE,yBAAI,CAAC7G,SAAL,CAAe2G,SAAf,CAAyB;AAAEG,2BAAO,EAAE;AAAX,mBAAzB;;AACA;AATJ;AAWD,aAxBL;AA0BD;;;iBAEM,SAAAC,aAAa;AAAA;;AAClB,iBAAKlB,kBAAL,CACGmB,UADH,GAEG5P,IAFH,CAGI,iEAAU,UAAC6P,IAAD;AAAA,qBAAe,OAAI,CAACnB,yBAAL,CAA+BS,MAA/B,CAAsC,QAAtC,EAAgDU,IAAhD,CAAf;AAAA,aAAV,CAHJ,EAII,iEAAU;AAAA,qBAAM,OAAI,CAACnB,yBAAL,CAA+BW,QAA/B,EAAN;AAAA,aAAV,CAJJ,EAKI,iEAAU,KAAKnP,YAAf,CALJ,EAOGC,SAPH,CAOa,YAAM;AAAE,qBAAI,CAACkC,KAAL,GAAa,KAAb;;AAAoB,qBAAI,CAACZ,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB;AAAiC,aAP1E;AAQD;;;iBAEM,SAAAkL,eAAe;AAAA;;AACpB,iBAAKrB,kBAAL,CACGsB,YADH,GAEG/P,IAFH,CAGI,iEAAU,UAAC6P,IAAD;AAAA,qBAAe,OAAI,CAACnB,yBAAL,CAA+BS,MAA/B,CAAsC,UAAtC,EAAkDU,IAAlD,CAAf;AAAA,aAAV,CAHJ,EAII,iEAAU;AAAA,qBAAM,OAAI,CAACnB,yBAAL,CAA+BW,QAA/B,EAAN;AAAA,aAAV,CAJJ,EAKI,iEAAU,KAAKnP,YAAf,CALJ,EAOGC,SAPH,CAOa,YAAM;AAAE,qBAAI,CAACkC,KAAL,GAAa,KAAb;;AAAoB,qBAAI,CAACZ,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB;AAAiC,aAP1E;AAQD;;;iBAEM,SAAAoL,SAAS;AAAA;;AACd,iBAAKvB,kBAAL,CACGwB,MADH,GAEGjQ,IAFH,CAGI,iEAAU,UAAC6P,IAAD;AAAA,qBAAe,OAAI,CAACnB,yBAAL,CAA+BS,MAA/B,CAAsC,IAAtC,EAA4CU,IAA5C,CAAf;AAAA,aAAV,CAHJ,EAII,iEAAU;AAAA,qBAAM,OAAI,CAACnB,yBAAL,CAA+BW,QAA/B,EAAN;AAAA,aAAV,CAJJ,EAKI,iEAAU,KAAKnP,YAAf,CALJ,EAOGC,SAPH,CAOa,YAAM;AAAE,qBAAI,CAACkC,KAAL,GAAa,KAAb;;AAAoB,qBAAI,CAACZ,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB;AAAiC,aAP1E;AAQD;;;iBAEM,SAAAsL,SAAS;AAAA;;AACd,iBAAKzB,kBAAL,CACG0B,MADH,GAEGnQ,IAFH,CAGI,iEAAU,UAAC6P,IAAD;AAAA,qBAAe,OAAI,CAACnB,yBAAL,CAA+BS,MAA/B,CAAsC,IAAtC,EAA4CU,IAA5C,CAAf;AAAA,aAAV,CAHJ,EAII,iEAAU;AAAA,qBAAM,OAAI,CAACnB,yBAAL,CAA+BW,QAA/B,EAAN;AAAA,aAAV,CAJJ,EAKI,iEAAU,KAAKnP,YAAf,CALJ,EAOGC,SAPH,CAOa,YAAM;AAAE,qBAAI,CAACkC,KAAL,GAAa,KAAb;;AAAoB,qBAAI,CAACZ,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB;AAAiC,aAP1E;AAQD;;;iBAEM,SAAAwL,QAAQ;AAAA;;AACb,iBAAK1B,yBAAL,CAA+B2B,SAA/B,GAA2CrQ,IAA3C,CAAgD,iEAAU,KAAKE,YAAf,CAAhD,EAA8EC,SAA9E,CAAwF,UAAC2D,CAAD,EAAkB;AACxG,qBAAI,CAACzB,KAAL,GAAa,KAAb;;AACA,qBAAI,CAACZ,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB;AACD,aAHD;AAID;;QA5G8C,0F;;;;;;cAApC4J,2B;AAA2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAA3BA,2B;AAA2B,4C;AAAA,6B;AAAA,4D;AAAA,kBCnBxC,yjL;AAoFA,0nmC;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDjEaA,2B;AAA2B;gBALvC,uDAKuC;iBAL7B;AACTnN,oBAAQ,EAAE,0BADD;AAETC,uBAAW,EAAE,uCAFJ;AAGTC,qBAAS,EAAE,CAAC,uCAAD;AAHF,W;AAK6B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEjBxC;AAAA;;;AAAA;AAAA;AAAA;;AAAO,UAAM+O,gBAAgB,GAAoB;AAC7CC,cAAM,EAAE,IADqC;AAE7CC,eAAO,EAAE,IAFoC;AAG7CC,iBAAS,EAAE,IAHkC;AAI7CC,gBAAQ,EAAE,IAJmC;AAK7CC,aAAK,EAAE,IALsC;AAM7CC,cAAM,EAAE,IANqC;AAO7CC,gBAAQ,EAAE;AAPmC,OAA1C;;;;;;;;;;;;;;;;ACAP;AAAA;;;AAAA;AAAA;AAAA;;AAAO,eAASC,YAAT,CAAsB9M,CAAtB,EAA8CC,CAA9C,EAAoE;AACvE,YAAM8M,EAAE,GAAW/M,CAAC,CAACjD,IAAF,CAAOiQ,SAAP,GAAmB,CAACC,QAApB,GAA+BjN,CAAC,CAACkN,KAAF,CAAQC,EAAR,GAAanN,CAAC,CAACkN,KAAF,CAAQE,IAAvE;AACA,YAAMC,EAAE,GAAWpN,CAAC,CAAClD,IAAF,CAAOiQ,SAAP,GAAmB,CAACC,QAApB,GAA+BhN,CAAC,CAACiN,KAAF,CAAQC,EAAR,GAAalN,CAAC,CAACiN,KAAF,CAAQE,IAAvE;;AACA,YAAIL,EAAE,GAAGM,EAAT,EAAa;AAAE,iBAAO,CAAC,CAAR;AAAY;;AAC3B,YAAIA,EAAE,GAAGN,EAAT,EAAa;AAAE,iBAAO,CAAP;AAAW;;AAC1B,eAAO,CAAP;AACH;;;;;;;;;;;;;;;;;ACRD;AAAA;;;AAAA;AAAA;AAAA;;AAAO,UAAMO,KAAK,GAAG;AACjBC,YAAI,EAAE,WADW;AAEjBC,aAAK,EAAE,YAFU;AAGjBC,oBAAY,EAAE,mBAHG;AAIjBC,iBAAS,EAAE,gBAJM;AAMjBC,eAAO,EAAE,CAAC,mBAAD,EAAsB,gBAAtB,CANQ;AAOjBC,kBAAU,EAAE,CAAC,sBAAD,EAAyB,mBAAzB,EAA8C,gBAA9C;AAPK,OAAd;;;;;;;;;;;;;;;;ACAP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMsBC,iB;AAHtB;AAAA;;AAIqB,eAAA3R,YAAA,GAA8B,IAAI,4CAAJ,EAA9B;AAKpB;;;;iBAHC,SAAA4R,WAAW;AACT,iBAAK5R,YAAL,CAAkBzB,IAAlB;AACD;;;;;;;;cALmBoT,iB;AAAiB,gB;AAAA;;;;;cAAjBA,iB;AAAiB,gC;AAAA,4D;AAAA,kBAF3B,E;AAAE;;;;;;;cAEQA,iB;AAAiB;gBAHtC,uDAGsC;iBAH5B;AACTE,oBAAQ,EAAE;AADD,W;AAG4B;;;;;;;;;;;;;;;;;;ACNvC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAiBA,UAAMpI,mBAAmB,GAAG,gBAA5B;;UAKaqI,qB;AACX,uCAA6BtM,GAA7B,EAA8C;AAAA;;AAAjB,eAAAA,GAAA,GAAAA,GAAA;AAAoB;;;;iBAE1C,SAAAuM,YAAY,CAACC,MAAD,EAAkBC,KAAlB,EAAgC;AACjD,mBAAO,KAAKzM,GAAL,CAASM,IAAT,WAAiC2D,mBAAjC,yBAAqEuI,MAAM,GAAG,aAAaA,MAAb,IAAuBC,KAAK,GAAG,YAAYA,KAAf,GAAuB,EAAnD,CAAH,GAA4DA,KAAK,GAAG,YAAYA,KAAf,GAAuB,EAAnK,EAAP;AACD;;;iBAEM,SAAAC,cAAc;AACnB,mBAAO,KAAK1M,GAAL,CAASM,IAAT,WAAsC2D,mBAAtC,cAAqE,IAArE,CAAP;AACD;;;iBAEM,SAAA0I,eAAe,CAACxC,IAAD,EAAyB;AAC7C,mBAAO,KAAKnK,GAAL,CAASG,KAAT,WAAmB8D,mBAAnB,cAAkDkG,IAAlD,CAAP;AACD;;;iBAEM,SAAAyC,WAAW;AAChB,mBAAO,KAAK5M,GAAL,CAASM,IAAT,WAA+B2D,mBAA/B,cAAP;AACD;;;iBAEM,SAAA4I,YAAY,CAAC1C,IAAD,EAAkB;AACnC,mBAAO,KAAKnK,GAAL,CAASG,KAAT,WAAmB8D,mBAAnB,eAAmDkG,IAAnD,CAAP;AACD;;;iBAEM,SAAA2C,QAAQ,GAAiC;AAAA,gBAAhCzI,IAAgC,uEAAjB,CAAiB;AAAA,gBAAdlK,KAAc;AAC9C,mBAAO,KAAK6F,GAAL,CAASM,IAAT,WAAoD2D,mBAApD,wBAAuFI,IAAvF,SAAgGlK,KAAK,GAAG,MAAMA,KAAT,GAAiB,EAAtH,EAAP;AACD;;;iBAEM,SAAA4S,SAAS,CAACP,MAAD,EAAkBC,KAAlB,EAAgC;AAC9C,mBAAO,KAAKzM,GAAL,CAASM,IAAT,WAAkC2D,mBAAlC,wBAAqEuI,MAAM,GAAG,aAAaA,MAAb,IAAuBC,KAAK,GAAG,YAAYA,KAAf,GAAuB,EAAnD,CAAH,GAA4DA,KAAK,GAAG,YAAYA,KAAf,GAAuB,EAAnK,EAAP;AACD;;;iBAEM,SAAAO,gBAAgB,CAAC9F,IAAD,EAAW;AAChC,mBAAO,KAAKlH,GAAL,CAAS8E,IAAT,WAAwCb,mBAAxC,iCAA0F,gGAAeiD,IAAf,CAA1F,CAAP;AACD;;;iBAEM,SAAA+F,kBAAkB,CAAC9C,IAAD,EAA+B;AACtD,mBAAO,KAAKnK,GAAL,CAAS8E,IAAT,WAA0Cb,mBAA1C,mCAA8FkG,IAA9F,CAAP;AACD;;;iBAEM,SAAA+C,WAAW;AAChB,mBAAO,KAAKlN,GAAL,CAASM,IAAT,WAA0C2D,mBAA1C,+BAA0F,IAA1F,CAAP;AACD;;;iBAEM,SAAAkJ,wBAAwB,CAAC9I,IAAD,EAAe+I,IAAf,EAA6BjT,KAA7B,EAA2C;AACxE,mBAAO,KAAK6F,GAAL,CAASM,IAAT,WAAqD2D,mBAArD,yBAAyFmJ,IAAzF,mBAAwG/I,IAAxG,SAAiHlK,KAAK,GAAG,MAAMA,KAAT,GAAiB,EAAvI,GAA8IG,IAA9I,CACL,2DAAI,UAAC6C,GAAD,EAAyC;AAC3C,kBAAMrC,OAAO,GAAyB,EAAtC;AACAqC,iBAAG,CAACrC,OAAJ,CAAYuS,OAAZ,CAAoB,UAACvF,OAAD,EAAkB;AACpChN,uBAAO,CAACD,IAAR,CAAa;AACXjC,oBAAE,EAAEkP,OAAO,CAACzM,IAAR,CAAazC,EADN;AAEX0U,uBAAK,EAAExF,OAAO,CAACwF,KAFJ;AAGXnS,sBAAI,EAAE2M,OAAO,CAAC5M,IAAR,CAAauH,OAAb,CAAqBC,SAArB,GAAiCoF,OAAO,CAAC5M,IAAR,CAAauH,OAAb,CAAqBtH,IAAtD,GAA6D2M,OAAO,CAAC5M,IAAR,CAAa0H,SAAb,GAAyB,GAAzB,GAA+BkF,OAAO,CAAC5M,IAAR,CAAa2H,QAHpG;AAIX0K,sBAAI,EAAEzF,OAAO,CAAC5M,IAAR,CAAaK,OAJR;AAKXiS,wBAAM,EAAE1F,OAAO,CAAC0F,MALL;AAMXC,kCAAgB,EAAE3F,OAAO,CAAC4F,SANf;AAOXC,6BAAW,EAAE7F,OAAO,CAAC6F,WAAR,CAAoBC;AAPtB,iBAAb;AASD,eAVD;AAYA,qBAAO;AACLvJ,oBAAI,EAAElH,GAAG,CAACkH,IADL;AAELzJ,qBAAK,EAAEuC,GAAG,CAACvC,KAFN;AAGLiT,0BAAU,EAAE1Q,GAAG,CAAC0Q,UAHX;AAIL/S,uBAAO,EAAPA;AAJK,eAAP;AAMD,aApBD,CADK,CAAP;AAuBD;;;;;;;;cAnEUwR,qB;AAAqB;AAAA;AAAA,U;AAAA;;;;;;cAArBA,qB;AAAqB,oBAFpB;;;;;;;cAEDA,qB;AAAqB;gBAHjC,wDAGiC;iBAHtB;AACVhT,sBAAU,EAAE;AADF,W;AAGsB,U;;;;;;;;;;;;;;;;;;;;;;;AClBlC;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAMwU,KAAK,GAAsB;AAC7BP,YAAI,EAAE,MADuB;AAE7BpS,YAAI,EAAE;AAFuB,OAAjC;AAIA,UAAM4S,OAAO,GAAsB;AAC/BR,YAAI,EAAE,UADyB;AAE/BpS,YAAI,EAAE;AAFyB,OAAnC;AAIA,UAAM6S,OAAO,GAAsB;AAC/BT,YAAI,EAAE,SADyB;AAE/BpS,YAAI,EAAE;AAFyB,OAAnC;AAIA,UAAM8S,IAAI,GAAsB;AAC5BV,YAAI,EAAE,MADsB;AAE5BpS,YAAI,EAAE;AAFsB,OAAhC;AAKO,UAAM+S,QAAQ,GAAuF;AACxGC,sBAAc,EAAE;AAAEC,cAAI,EAAEN,KAAR;AAAevG,iBAAO,EAAE;AAAxB,SADwF;AAExG8G,sBAAc,EAAE;AAAED,cAAI,EAAEN,KAAR;AAAevG,iBAAO,EAAE,8BAAxB;AAAwD+G,gBAAM,EAAE;AAAhE,SAFwF;AAGxGC,wBAAgB,EAAE;AAAEH,cAAI,EAAEL,OAAR;AAAiBxG,iBAAO,EAAE;AAA1B,SAHsF;AAIxGiH,oBAAY,EAAE;AAAEJ,cAAI,EAAEL,OAAR;AAAiBxG,iBAAO,EAAE;AAA1B,SAJ0F;AAKxGkH,uBAAe,EAAE;AAAEL,cAAI,EAAEL,OAAR;AAAiBxG,iBAAO,EAAE;AAA1B,SALuF;AAMxGmH,qBAAa,EAAE;AAAEN,cAAI,EAAEL,OAAR;AAAiBxG,iBAAO,EAAE;AAA1B,SANyF;AAOxGoH,6BAAqB,EAAE;AAAEP,cAAI,EAAEL,OAAR;AAAiBxG,iBAAO,EAAE;AAA1B,SAPiF;AAQxGqH,sBAAc,EAAE;AAACR,cAAI,EAAEH,IAAP;AAAa1G,iBAAO,EAAE;AAAtB,SARwF;AASxGsH,wBAAgB,EAAE;AACdT,cAAI,EAAEN,KADQ;AAEdvG,iBAAO,EAAE;AAFK,SATsF;AAaxGuH,sBAAc,EAAE;AAAEV,cAAI,EAAEH,IAAR;AAAc1G,iBAAO,EAAE;AAAvB,SAbwF;AAcxGwH,oBAAY,EAAE;AAAEX,cAAI,EAAEH,IAAR;AAAc1G,iBAAO,EAAE;AAAvB,SAd0F;AAexGyH,sBAAc,EAAE;AAAEZ,cAAI,EAAEJ,OAAR;AAAiBzG,iBAAO,EAAE,4BAA1B;AAAwD+G,gBAAM,EAAE;AAAhE,SAfwF;AAgBxGW,wBAAgB,EAAE;AAAEb,cAAI,EAAEJ,OAAR;AAAiBzG,iBAAO,EAAE,6BAA1B;AAAyD+G,gBAAM,EAAE;AAAjE,SAhBsF;AAiBxGY,0BAAkB,EAAE;AAAEd,cAAI,EAAEH,IAAR;AAAc1G,iBAAO,EAAE;AAAvB,SAjBoF;AAkBxG4H,0BAAkB,EAAE;AAAEf,cAAI,EAAEH,IAAR;AAAc1G,iBAAO,EAAE;AAAvB,SAlBoF;AAmBxG6H,0BAAkB,EAAE;AAChBhB,cAAI,EAAEN,KADU;AAEhBvG,iBAAO,EAAE;AAFO,SAnBoF;AAuBxG8H,oBAAY,EAAE;AAAEjB,cAAI,EAAEH,IAAR;AAAc1G,iBAAO,EAAE;AAAvB,SAvB0F;AAwBxG+H,wBAAgB,EAAE;AAAElB,cAAI,EAAEN,KAAR;AAAevG,iBAAO,EAAE;AAAxB,SAxBsF;AAyBxGgI,sBAAc,EAAE;AAAEnB,cAAI,EAAEH,IAAR;AAAc1G,iBAAO,EAAE;AAAvB;AAzBwF,OAArG;;;;;;;;;;;;;;;;ACrBP;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYiI,aAAZ;;AAAA,iBAAYA,aAAZ,EAAyB;AACrB;AACA;AACA;AACA;AACA;AACH,OAND,EAAYA,aAAa,KAAbA,aAAa,MAAzB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAkBaC,wB;AAOX,0CACmB/V,WADnB,EAEmBqC,MAFnB,EAGmBS,gBAHnB,EAIkBkT,SAJlB,EAI6C;AAAA;;AAAA;;AAE3C;AALiB,kBAAAhW,WAAA,GAAAA,WAAA;AACA,kBAAAqC,MAAA,GAAAA,MAAA;AACA,kBAAAS,gBAAA,GAAAA,gBAAA;AACD,kBAAAkT,SAAA,GAAAA,SAAA;AAVF,kBAAAC,qBAAA,GAAsD,oGAAtD;AAET,kBAAAC,IAAA,GAAuB,EAAvB;AACA,kBAAAC,SAAA,GAA4B,EAA5B;AACA,kBAAAC,YAAA,GAA+B,EAA/B;AAMsC;AAG5C;;;;;;iBAED,SAAA/V,QAAQ;AACN,gBAAMgW,KAAK,GAA4C,KAAKrW,WAAL,CAAiBqW,KAAjB,GAAyBzV,IAAzB,CAA8B,iEAAU,KAAKE,YAAf,CAA9B,CAAvD;AACA,gBAAMwV,UAAU,GAA4C,KAAKtW,WAAL,CAAiBsW,UAAjB,GAA8B1V,IAA9B,CAAmC,iEAAU,KAAKE,YAAf,CAAnC,CAA5D;AACA,gBAAMyV,OAAO,GAA4C,KAAKvW,WAAL,CAAiBuW,OAAjB,GAA2B3V,IAA3B,CAAgC,iEAAU,KAAKE,YAAf,CAAhC,CAAzD;AAEA,iBAAK0V,OAAL,CAAaH,KAAb,EAAoB,MAApB;AACA,iBAAKG,OAAL,CAAaF,UAAb,EAAyB,WAAzB;AACA,iBAAKE,OAAL,CAAaD,OAAb,EAAsB,QAAtB;AACD;;;iBAEO,SAAAC,OAAO,CAACH,KAAD,EAAiD3B,IAAjD,EAA6D;AAAA;;AAC1E2B,iBAAK,CAACtV,SAAN,CAAgB,UAAC0V,CAAD,EAAoC;AAClD,kBAAMhT,GAAG,GAAmBgT,CAAC,CAACrV,OAAF,CAAUC,GAAV,CAAc,UAACqV,IAAD;AAAA,uBAAyB,MAAD,OAAC,CAAD,kBAC7DA,IAD6D,CAAC,EAC1D;AACPlV,sBAAI,EAAE,MAAF,OAAE,CAAF,kBACCkV,IAAI,CAAClV,IADN,CAAE,EACQ;AACZQ,yBAAK,EAAE0U,IAAI,CAAClV,IAAL,CAAUQ,KAAV,KAAoB0S,IAAI,KAAK,MAAT,GAAkB,OAAI,CAACsB,SAAL,CAAeW,OAAf,CAAuB,kBAAvB,CAAlB,GAA+D,OAAI,CAACX,SAAL,CAAeW,OAAf,CAAuB,kBAAvB,CAAnF;AADK,mBADR;AADC,iBAD0D,CAAzB;AAAA,eAAd,CAA5B;;AAOA,sBAAQjC,IAAR;AACE,qBAAK,MAAL;AACE,yBAAI,CAACwB,IAAL,GAAYzS,GAAZ;AACA;;AACF,qBAAK,WAAL;AACE,yBAAI,CAAC0S,SAAL,GAAiB1S,GAAjB;AACA;;AACF,qBAAK,QAAL;AACE,yBAAI,CAAC2S,YAAL,GAAoB3S,GAApB;AACA;AATJ;AAWD,aAnBD;AAoBD;;;iBAEM,SAAAmT,UAAU,CAACC,IAAD,EAAa;AAC5B,iBAAKb,SAAL,CAAec,GAAf,CAAmBD,IAAnB,EAAyBjW,IAAzB,CAA8B,iEAAU,KAAKE,YAAf,CAA9B,EAA4DC,SAA5D,CAAsE,YAAM;AAC1EgW,sBAAQ,CAACC,MAAT;AACD,aAFD;AAGD;;;iBAEM,SAAApR,sBAAsB;AAC3B,iBAAKvD,MAAL,CAAYwD,aAAZ,CAA0B,MAA1B;AACA,iBAAK/C,gBAAL,CAAsBgD,gBAAtB,CAAuC,CAAC,CAAD,EAAI,CAAJ,CAAvC;AACD;;QA1D2C,0F;;;;;;cAAjCiQ,wB;AAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAxBA,wB;AAAwB,wC;AAAA,6B;AAAA,4D;AAAA,kBClBrC,6rH;AA6DA,yrS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cD3CaA,wB;AAAwB;gBALpC,uDAKoC;iBAL1B;AACT9T,oBAAQ,EAAE,sBADD;AAETC,uBAAW,EAAE,mCAFJ;AAGTC,qBAAS,EAAE,CAAC,mCAAD;AAHF,W;AAK0B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AElBrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMa8U,mB;AAHb;AAAA;;AAImB,eAAAC,aAAA,GAA0C,IAAI,oDAAJ,CAA6B,KAA7B,CAA1C;AAWlB;;;;iBATQ,SAAAlS,eAAe;AACpB,mBAAO,KAAKkS,aAAL,CAAmBC,YAAnB,EAAP;AACD;;;iBAEM,SAAAnT,eAAe,CAAC1E,KAAD,EAAe;AACnC,gBAAI,KAAK4X,aAAL,CAAmB5X,KAAnB,KAA6BA,KAAjC,EAAwC;AACtC,mBAAK4X,aAAL,CAAmB7X,IAAnB,CAAwBC,KAAxB;AACD;AACF;;;;;;;;cAXU2X,mB;AAAmB,gB;AAAA;;;;;;cAAnBA,mB;AAAmB,oBAFlB;;;;;;;cAEDA,mB;AAAmB;gBAH/B,wDAG+B;iBAHpB;AACVrX,sBAAU,EAAE;AADF,W;AAGoB;;;;;;;;;;;;;;;;;;ACNhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMawX,sB,6BAQX,kCAAc;AAAA;;AAPE,aAAAC,uBAAA,GAAgD,IAAI,kDAAJ,CAAyB,CAAzB,CAAhD;AAChB;;;;AAGgB,aAAAC,SAAA,GACZ,IAAI,kDAAJ,CAA0D,CAA1D,CADY;AAId,aAAKD,uBAAL,CAA6BhY,IAA7B;AACD,O;;;;;;cAVU+X,sB;AAAsB,gB;AAAA;;;;;;cAAtBA,sB;AAAsB,oBAFrB;;;;;;;cAEDA,sB;AAAsB;gBAHlC,wDAGkC;iBAHvB;AACVxX,sBAAU,EAAE;AADF,W;AAGuB,U;;;;;;;;;;;;;;;;;;;;;ACLnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAEO,eAAS2X,eAAT,CAAyBnQ,KAAzB,EAA8C;AACjD,YAAIjH,MAAJ;;AACA,YAAI,CAACiH,KAAD,IAAUA,KAAK,YAAY,+DAA/B,EAA2C;AACvCjH,gBAAM,GAAGiH,KAAT;AACH,SAFD,MAEO;AACHjH,gBAAM,GAAG,EAAT;AACAqX,gBAAM,CAACC,IAAP,CAAYrQ,KAAZ,EAAmBuM,OAAnB,CAA2B,UAAC+D,GAAD,EAAiB;AACxC,gBAAMpY,KAAK,GAAQ8H,KAAK,CAACsQ,GAAD,CAAxB;;AACA,gBAAIpY,KAAK,KAAKqY,SAAd,EAAyB;AACrB,kBAAIC,KAAK,CAACC,OAAN,CAAcvY,KAAd,CAAJ,EAA0B;AACtBa,sBAAM,CAACuX,GAAD,CAAN,GAAcpY,KAAK,CAAC+B,GAAN,CAAU,UAACyW,EAAD;AAAA,yBAAaC,MAAM,CAACD,EAAD,CAAnB;AAAA,iBAAV,CAAd;AACH,eAFD,MAEO;AACH3X,sBAAM,CAACuX,GAAD,CAAN,GAAcK,MAAM,CAACzY,KAAD,CAApB;AACH;AACJ;AACJ,WATD;AAUH;;AACD,eAAOa,MAAP;AACH;;;;;;;;;;;;;;;;;ACrBD;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAKa6X,c;;;;;;;iBACX,SAAAlP,SAAS,CAACxJ,KAAD,EAAc;AACrB;AACA,mBAAOA,KAAK,GAAG,GAAR,GAAeA,KAAK,GAAG,MAAR,GAAiB,CAAEA,KAAK,GAAG,OAAT,IAAqB,CAAtB,IAA2B,IAA5C,GAAmD,CAAEA,KAAK,GAAG,IAAT,IAAkB,CAAnB,IAAwB,IAA1F,GAAkGA,KAAzG;AACD;;;;;;;;cAJU0Y,c;AAAc,gB;AAAA;;;;;;cAAdA,c;AAAc;;;;;;;cAAdA,c;AAAc;gBAH1B,kDAG0B;iBAHrB;AACJvW,gBAAI,EAAE;AADF,W;AAGqB;;;;;;;;;;;;;;;;;;ACL3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQawW,a;AANb;AAAA;;AASkB,eAAAhS,IAAA,GAAgD,QAAhD;AAUjB;;;;eARC,eAAmB;AACjB,gBAAI9F,MAAM,GAAG,EAAb;;AACA,gBAAI,KAAK+X,eAAT,EAA0B;AACxB,kBAAMC,KAAK,GAAG,KAAKD,eAAL,CAAqBE,KAArB,CAA2B,MAA3B,CAAd;AACAjY,oBAAM,GAAG,CAACgY,KAAK,IAAI,EAAV,EAAcE,MAAd,CAAqB,UAACC,KAAD,EAAgB5B,IAAhB,EAA8B6B,KAA9B;AAAA,uBAAwDA,KAAK,GAAG,CAAR,GAAYD,KAAZ,GAAoBA,KAAK,GAAG5B,IAAI,CAAC,CAAD,CAAxF;AAAA,eAArB,EAAkH,EAAlH,CAAT;AACD;;AACD,mBAAOvW,MAAP;AACD;;;;;;;;cAZU8X,a;AAAa,gB;AAAA;;;;;cAAbA,a;AAAa,+B;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCR1B,+T;AAME,690B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;;cDEWA,a;AAAa;gBANzB,uDAMyB;iBANf;AACThW,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,uBAFJ;AAGTC,qBAAS,EAAE,CAAC,uBAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMe,U;;AACRqS,aAAG;kBAAlB;AAAkB,Y;AACHN,yBAAe;kBAA9B;AAA8B,Y;AACfjS,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE;;;;;;;;;;;;;;;;;;;AEXxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQawS,iB,6BAKX,6BAAc;AAAA;AAAE,O;;;;;;cALLA,iB;AAAiB,gB;AAAA;;;;;cAAjBA,iB;AAAiB,iC;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCR9B,qL;AAKA,khG;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;;cDGaA,iB;AAAiB;gBAN7B,uDAM6B;iBANnB;AACTxW,oBAAQ,EAAE,eADD;AAETC,uBAAW,EAAE,yBAFJ;AAGTC,qBAAS,EAAE,CAAC,yBAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMmB,U;;;;;AACZuS,mBAAS,EAAE,CAAF;kBAAxB;AAAwB,WAAE,C;AACXhE,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACNzN,kBAAQ,EAAE,CAAF;kBAAvB;AAAuB,WAAE;;;;;;;;;;;;;;;;;;;AEX5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQa0R,kB;AAMX,sCAAc;AAAA;;AALG,eAAA1V,KAAA,GAAkC,IAAI,oDAAJ,CAA6B,KAA7B,CAAlC;AACA,eAAA2V,QAAA,GAAqC,IAAI,oDAAJ,CAA6B,KAA7B,CAArC;AAID;;;;iBAET,SAAAxZ,MAAM,CAACyZ,MAAD,EAAuB;AAClC,iBAAK5V,KAAL,CAAW5D,IAAX,CAAgB,CAAC,KAAK4D,KAAL,CAAW3D,KAA5B;;AACA,gBAAIuZ,MAAJ,EAAY;AACV,mBAAKA,MAAL,GAAcA,MAAd;AACD;AACF;;;iBAEM,SAAAC,MAAM;AACX,mBAAO,KAAK7V,KAAZ;AACD;;;iBAEM,SAAA8V,SAAS;AACd,mBAAO,KAAKH,QAAZ;AACD;;;iBAEM,SAAAI,MAAM;AACX,iBAAKJ,QAAL,CAAcvZ,IAAd,CAAmB,IAAnB;AACA,iBAAKuZ,QAAL,CAAcvZ,IAAd,CAAmB,KAAnB;AACD;;;;;;;;cA1BUsZ,kB;AAAkB,gB;AAAA;;;;;;cAAlBA,kB;AAAkB,oBAFjB;;;;;;;cAEDA,kB;AAAkB;gBAH9B,wDAG8B;iBAHnB;AACV/Y,sBAAU,EAAE;AADF,W;AAGmB,U;;;;;;;;;;;;;;;;;;;;;ACR/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAyBA,UAAMqZ,eAAe,GAAG,EAAxB;;UAOaC,0B;AAQX,4CACmBnZ,YADnB,EAEmBoZ,cAFnB,EAGmBC,WAHnB,EAImBpZ,WAJnB,EAKmBqZ,UALnB,EAMmB9W,mBANnB,EAOmB+W,sBAPnB,EAQkBC,cARlB,EAQgD;AAAA;;AAAA;;AAE9C;AATiB,kBAAAxZ,YAAA,GAAAA,YAAA;AACA,kBAAAoZ,cAAA,GAAAA,cAAA;AACA,kBAAAC,WAAA,GAAAA,WAAA;AACA,kBAAApZ,WAAA,GAAAA,WAAA;AACA,kBAAAqZ,UAAA,GAAAA,UAAA;AACA,kBAAA9W,mBAAA,GAAAA,mBAAA;AACA,kBAAA+W,sBAAA,GAAAA,sBAAA;AACD,kBAAAC,cAAA,GAAAA,cAAA;AAfF,kBAAAtD,qBAAA,GAAsD,oGAAtD;AAET,kBAAA9E,MAAA,GAAuB,EAAvB;AAEA,kBAAAE,SAAA,GAA4B,EAA5B;AAWyC;AAG/C;;;;;;iBAED,SAAAhR,QAAQ;AACN,iBAAKmZ,OAAL;AACD;;;iBAEO,SAAAA,OAAO;AAAA;;AACb,gBAAMxZ,WAAW,GAAG,KAAKA,WAAzB;;AACA,qBAASyZ,eAAT,CAA6DC,QAA7D,EAA8E;AAE5E,qBAAO,2DAAI,UAAChM,QAAD,EAAgC;AACzC,uBAAOA,QAAQ,CAACtM,OAAT,CAAiBC,GAAjB,CAAqB,UAACmH,IAAD;AAAA,yBAAc,MAAD,OAAC,CAAD,kBACpCA,IADoC,CAAC,EACjC;AACPmR,2BAAO,EAAED,QAAQ,GAAG1Z,WAAW,CAAC4Z,YAAZ,CAClB,sFAAiBC,SADC,EACUrR,IAAI,CAAC7G,IAAL,CAAUzC,EADpB,EAElB0B,IAFkB,CAEb,2DAAI,UAACkZ,CAAD;AAAA,6BAAgBA,CAAC,CAAC5F,KAAlB;AAAA,qBAAJ,CAFa,CAAH,GAEsB;AAHhC,mBADiC,CAAd;AAAA,iBAArB,CAAP;AAMD,eAPM,CAAP;AAQD;;AAED,iBAAK6F,QAAL,GAAgB,KAAKT,sBAAL,CAA4BjC,uBAA5B,CAAoDzW,IAApD,CACd,gEAAS;AAAA,qBAAM,OAAI,CAAC2Y,cAAL,CAAoBxV,SAA1B;AAAA,aAAT,CADc,EAEd,2DAAI,UAAC2V,QAAD;AAAA,qBACF,OAAI,CAACN,WAAL,CAAiBxS,IAAjB,CAAsB,CAAtB,EAAyB;AAAE1D,mBAAG,EAAEwW,QAAQ,IAAI/B,SAAnB;AAA8BqC,qBAAK,EAAE,gFAAcC;AAAnD,eAAzB,EACGrZ,IADH,CACQ6Y,eAAe,CAACC,QAAD,CADvB,CADE;AAAA,aAAJ,CAFc,EAMd,kEANc,CAAhB;AAQA,iBAAKQ,KAAL,GAAa,KAAKb,UAAL,CAAgBzS,IAAhB,CAAqB,CAArB,EAAwB;AAAEoT,mBAAK,EAAE,8EAAaG;AAAtB,aAAxB,EAA8DvZ,IAA9D,CACX,2DAAI,UAAC8M,QAAD;AAAA,qBAAuCA,QAAQ,CAACtM,OAAhD;AAAA,aAAJ,CADW,CAAb;AAIA,iBAAKgZ,YAAL;AACA,iBAAKC,SAAL;AAEA,iBAAKf,sBAAL,CAA4BhC,SAA5B,CAAsC1W,IAAtC,CAA2C,iEAAU,KAAKE,YAAf,CAA3C,EAAyEC,SAAzE,CACE,iBAAgE;AAAA;AAAA,kBAA9D2T,IAA8D;AAAA,kBAAxDxV,EAAwD;AAAA,kBAApDob,MAAoD;;AAC9D,kBAAI5F,IAAI,KAAK,SAAb,EAAwB;AACtB,oBAAM3L,OAAO,GAAiB,OAAI,CAACsI,SAAL,CAAekJ,IAAf,CAAoB,UAACC,IAAD;AAAA,yBAAwBA,IAAI,CAAC7Y,IAAL,CAAUzC,EAAV,KAAiBA,EAAzC;AAAA,iBAApB,CAA9B;;AACA,oBAAI6J,OAAJ,EAAa;AACXA,yBAAO,CAACkL,WAAR,CAAoBwG,GAApB,GAA0BH,MAA1B;AACD;AACF;;AACD,kBAAI5F,IAAI,KAAK,OAAb,EAAsB;AACpB,oBAAMpT,KAAK,GAAe,OAAI,CAAC6P,MAAL,CAAYoJ,IAAZ,CAAiB,UAACrL,GAAD;AAAA,yBAAqBA,GAAG,CAACvN,IAAJ,CAASzC,EAAT,KAAgBA,EAArC;AAAA,iBAAjB,CAA1B;;AACA,oBAAIoC,KAAJ,EAAW;AACTA,uBAAK,CAAC2S,WAAN,CAAkBwG,GAAlB,GAAwBH,MAAxB;AACD;AACF;AACF,aAdH;AAgBD;;;iBAEO,SAAAI,gBAAgB,CAAChB,QAAD,EAAoBxF,KAApB,EAAiC;AAAA;;AACvD,gBAAMyG,MAAM,GAAG,2DACb,IAAI/C,KAAJ,CAAUgD,IAAI,CAACC,IAAL,CAAU3G,KAAK,GAAG,EAAlB,CAAV,EACG4G,IADH,CACQ,CADR,EAEGzZ,GAFH,CAEO,UAACqD,CAAD,EAAYiG,IAAZ;AAAA,qBACH,OAAI,CAAC5K,YAAL,CAAkB6G,IAAlB,CAAuB+D,IAAvB,EAA6B;AAAEzH,mBAAG,EAAEwW,QAAQ,GAAG,KAAH,GAAW/B,SAA1B;AAAqCqC,qBAAK,EAAE,6FAAeC;AAA3D,eAA7B,CADG;AAAA,aAFP,CADa,CAAf;AAMA,mBAAOU,MAAM,CAAC/Z,IAAP,CACL,2DAAI,UAACuQ,MAAD;AAAA,qBACFA,MAAM,CAACkH,MAAP,CAAc,UAAC0C,GAAD,EAAoBC,GAApB;AAAA,uBAAuDD,GAAG,CAACE,MAAJ,CAAWD,GAAG,CAAC5Z,OAAf,CAAvD;AAAA,eAAd,EAA8F,EAA9F,EAAkGU,KAAlG,CAAwG,CAAxG,EAA2GoS,KAA3G,CADE;AAAA,aAAJ,CADK,CAAP;AAID;;;iBAEO,SAAAmG,SAAS;AAAA;;AACf,gBAAIX,QAAQ,GAAG,KAAf;AACA,gBAAIwB,YAAY,GAAG,EAAnB;AAEA,iBAAK3B,cAAL,CAAoBxV,SAApB,CAA8BnD,IAA9B,CACE,2DAAI,UAACyL,IAAD;AAAA,qBAAmBqN,QAAQ,GAAGrN,IAA9B;AAAA,aAAJ,CADF,EAEE,iEAAU;AAAA,qBAAMqN,QAAQ,GACpB,OAAI,CAAC3Z,YAAL,CAAkB6G,IAAlB,CAAuB,CAAvB,EAA0B;AAAE1D,mBAAG,EAAE,IAAP;AAAa8W,qBAAK,EAAE,6FAAeC;AAAnC,eAA1B,CADoB,GAEpB,gDAAG;AAAE7Y,uBAAO,EAAE;AAAX,eAAH,CAFM;AAAA,aAAV,CAFF,EAKE,2DAAI,UAACuJ,IAAD;AAAA,qBAAqCA,IAAI,CAACvJ,OAA1C;AAAA,aAAJ,CALF,EAME,2DAAI,UAACiL,IAAD;AAAA,qBAAwB6O,YAAY,GAAG7O,IAAvC;AAAA,aAAJ,CANF,EAOE,iEAAU,UAAC8E,MAAD;AAAA,qBAA0B,OAAI,CAACuJ,gBAAL,CAAsBhB,QAAtB,EAAgCT,eAAe,GAAG9H,MAAM,CAACgK,MAAzD,CAA1B;AAAA,aAAV,CAPF,EAQE,2DAAI,UAAChK,MAAD;AAAA,qBAA0B+J,YAAY,CAACD,MAAb,CAAoB9J,MAApB,CAA1B;AAAA,aAAJ,CARF,EASEpQ,SATF,CASY,UAACoQ,MAAD;AAAA,qBAA0B,OAAI,CAACA,MAAL,GAAcA,MAAxC;AAAA,aATZ;AAUD;;;iBAEO,SAAAiK,mBAAmB,CAAC1B,QAAD,EAAoBxF,KAApB,EAAiC;AAAA;;AAC1D,gBAAMyG,MAAM,GAAG,2DACb,IAAI/C,KAAJ,CAAUgD,IAAI,CAACC,IAAL,CAAU3G,KAAK,GAAG,EAAlB,CAAV,EACG4G,IADH,CACQ,CADR,EAEGzZ,GAFH,CAEO,UAACqD,CAAD,EAAYiG,IAAZ;AAAA,qBACH,OAAI,CAACwO,cAAL,CAAoBvS,IAApB,CAAyB+D,IAAzB,EAA+B;AAAEzH,mBAAG,EAAEwW,QAAQ,GAAG,KAAH,GAAW/B,SAA1B;AAAqCqC,qBAAK,EAAE,gFAAcC;AAA1D,eAA/B,CADG;AAAA,aAFP,CADa,CAAf;AAMA,mBAAOU,MAAM,CAAC/Z,IAAP,CACL,2DAAI,UAACuQ,MAAD;AAAA,qBACFA,MAAM,CAACkH,MAAP,CAAc,UAAC0C,GAAD,EAAsBC,GAAtB;AAAA,uBAA2DD,GAAG,CAACE,MAAJ,OAAAF,GAAG,qBAAWC,GAAG,CAAC5Z,OAAf,EAA9D;AAAA,eAAd,EAAqG,EAArG,EAAyGU,KAAzG,CAA+G,CAA/G,EAAkHoS,KAAlH,CADE;AAAA,aAAJ,CADK,CAAP;AAID;;;iBAEO,SAAAkG,YAAY;AAAA;;AAClB,gBAAIV,QAAQ,GAAG,KAAf;AACA,gBAAI2B,eAAe,GAAG,EAAtB;AAEA,iBAAK9B,cAAL,CAAoBxV,SAApB,CAA8BnD,IAA9B,CACE,2DAAI,UAACyL,IAAD;AAAA,qBAAmBqN,QAAQ,GAAGrN,IAA9B;AAAA,aAAJ,CADF,EAEE,iEAAU;AAAA,qBAAMqN,QAAQ,GACpB,OAAI,CAACP,cAAL,CAAoBvS,IAApB,CAAyB,CAAzB,EAA4B;AAAE1D,mBAAG,EAAE,IAAP;AAAa8W,qBAAK,EAAE,gFAAcC;AAAlC,eAA5B,CADoB,GAEpB,gDAAG;AAAE7Y,uBAAO,EAAE;AAAX,eAAH,CAFM;AAAA,aAAV,CAFF,EAKE,2DAAI,UAACuJ,IAAD;AAAA,qBAAuCA,IAAI,CAACvJ,OAA5C;AAAA,aAAJ,CALF,EAME,2DAAI,UAACiL,IAAD;AAAA,qBAA0BgP,eAAe,GAAGhP,IAA5C;AAAA,aAAJ,CANF,EAOE,iEAAU,UAACgF,SAAD;AAAA,qBAA+B,OAAI,CAAC+J,mBAAL,CAAyB1B,QAAzB,EAAmCT,eAAe,GAAG5H,SAAS,CAAC8J,MAA/D,CAA/B;AAAA,aAAV,CAPF,EAQE,2DAAI,UAAC9J,SAAD;AAAA,qBAA+BgK,eAAe,CAACJ,MAAhB,CAAuB5J,SAAvB,CAA/B;AAAA,aAAJ,CARF,EASEtQ,SATF,CASY,UAACsQ,SAAD;AAAA,qBAA+B,OAAI,CAACA,SAAL,GAAiBA,SAAhD;AAAA,aATZ;AAUD;;;iBAEM,SAAAiK,eAAe,CAAC5E,IAAD,EAAiB;AAAA;;AACrC,gBAAI,KAAK6C,cAAL,CAAoBxV,SAApB,CAA8BzE,KAAlC,EAAyC;AACvC,mBAAKS,YAAL,CAAkBwb,UAAlB,CAA6B7E,IAAI,CAAC/U,IAAL,CAAUzC,EAAvC,EAA2CwX,IAAI,CAACzC,WAAL,CAAiBwG,GAA5D,EAAiE7Z,IAAjE,CAAsE,iEAAU,KAAKE,YAAf,CAAtE,EAAoGC,SAApG,CAA8G,YAAM;AAClH2V,oBAAI,CAACzC,WAAL,CAAiBwG,GAAjB,GAAuB,CAAC/D,IAAI,CAACzC,WAAL,CAAiBwG,GAAzC;;AACA,uBAAI,CAACnB,sBAAL,CAA4BhC,SAA5B,CAAsCjY,IAAtC,CAA2C,CAAC,OAAD,EAAUqX,IAAI,CAAC/U,IAAL,CAAUzC,EAApB,EAAwBwX,IAAI,CAACzC,WAAL,CAAiBwG,GAAzC,CAA3C;AACD,eAHD;AAID,aALD,MAKO;AACL,mBAAKlY,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACD;AACF;;;iBAEM,SAAAwX,sBAAsB,CAAC9E,IAAD,EAAmB;AAAA;;AAC9C,gBAAI,KAAK6C,cAAL,CAAoBxV,SAApB,CAA8BzE,KAAlC,EAAyC;AACvC,mBAAK6Z,cAAL,CAAoBoC,UAApB,CAA+B7E,IAAI,CAAC/U,IAAL,CAAUzC,EAAzC,EAA6CwX,IAAI,CAACzC,WAAL,CAAiBwG,GAA9D,EAAmE7Z,IAAnE,CAAwE,iEAAU,KAAKE,YAAf,CAAxE,EAAsGC,SAAtG,CAAgH,YAAM;AACpH2V,oBAAI,CAACzC,WAAL,CAAiBwG,GAAjB,GAAuB,CAAC/D,IAAI,CAACzC,WAAL,CAAiBwG,GAAzC;;AACA,uBAAI,CAACnB,sBAAL,CAA4BhC,SAA5B,CAAsCjY,IAAtC,CAA2C,CAAC,SAAD,EAAYqX,IAAI,CAAC/U,IAAL,CAAUzC,EAAtB,EAA0BwX,IAAI,CAACzC,WAAL,CAAiBwG,GAA3C,CAA3C;AACD,eAHD;AAID,aALD,MAKO;AACL,mBAAKlY,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACD;AACF;;;iBAEM,SAAAyX,uBAAuB;AAC5B,gBAAI,CAAC,KAAKlC,cAAL,CAAoBxV,SAApB,CAA8BzE,KAAnC,EAA0C;AACxC,mBAAKiD,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACD;AACF;;;iBAEM,SAAA0X,SAAS;AACdzX,oBAAQ,CAACwM,IAAT,CAAciL,SAAd,GAA0BzX,QAAQ,CAAC0X,eAAT,CAAyBD,SAAzB,GAAqC,CAA/D;AACD;;QAhK6C,0F;;;;;;cAAnCxC,0B;AAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAA1BA,0B;AAA0B,0C;AAAA,6B;AAAA,4D;AAAA,kBChCvC,+/D;AA0CA,m+F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;;;;;;;cDVaA,0B;AAA0B;gBALtC,uDAKsC;iBAL5B;AACTjX,oBAAQ,EAAE,wBADD;AAETC,uBAAW,EAAE,qCAFJ;AAGTC,qBAAS,EAAE,CAAC,qCAAD;AAHF,W;AAK4B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEhCvC;AAAA;;;AAAA;AAAA;AAAA,S,CAAA;AACA;AACA;;;AAEO,UAAMyZ,WAAW,GAAG;AACzBC,kBAAU,EAAE,KADa;AAEzBC,8BAAsB,EAAE,wEAFC;AAGzBC,eAAO,EAAE,UAHgB;AAIzBC,qBAAa,EAAE,iBAJU;AAKzBC,cAAM,EAAE,4BALiB;AAMzBC,kBAAU,EAAE,mBANa;AAOzBC,cAAM,EAAE,EAPiB;AAQzBxO,WAAG,EAAE,wBARoB;AASzByO,eAAO,EAAE,UATgB;AAUzBC,eAAO,EAAE;AAVgB,OAApB;AAaP;;;;;;;AAOA;;;;;;;;;;;;;;;;;ACxBA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAeaC,sB;AASX,wCACmBC,WADnB,EAEmBxQ,gBAFnB,EAEqD;AAAA;;AAAA;;AACjD;AAFe,kBAAAwQ,WAAA,GAAAA,WAAA;AACA,kBAAAxQ,gBAAA,GAAAA,gBAAA;AAPO,kBAAAC,IAAA,GAA+B,IAAI,0DAAJ,EAA/B;AAEV,kBAAAC,oBAAA,GAAoD,gGAApD;AACA,kBAAAC,oBAAA,GAAoD,gGAApD;AAIqC;AACvC;;;;;;iBAEP,SAAAC,OAAM;AAAA;;AACX,gBAAMC,CAAC,GAAG,KAAKC,IAAf;AACA,iBAAKkQ,WAAL,CAAiBjR,OAAjB,CAAyBc,CAAC,CAACzK,IAAF,CAAOzC,EAAhC,EAAoC6B,SAApC,CAA8C;AAAA,qBAAM,OAAI,CAACiL,IAAL,CAAU3M,IAAV,CAAe+M,CAAf,CAAN;AAAA,aAA9C;AACD;;;iBAEM,SAAAE,QAAQ;AAAA;;AACb,iBAAKiQ,WAAL,CAAiBhQ,SAAjB,CAA2B,KAAKF,IAAL,CAAU1K,IAAV,CAAezC,EAA1C,EAA8C0B,IAA9C,CACE,iEAAU,UAAC4b,GAAD;AAAA,qBAAyB,OAAI,CAACzQ,gBAAL,CAAsBrM,SAAtB,CAAgC8c,GAAhC,CAAzB;AAAA,aAAV,CADF,EAEE,iEAAU,KAAK1b,YAAf,CAFF,EAGEC,SAHF;AAID;;;iBAEM,SAAAyL,IAAI;AAAA;;AACT,gBAAMJ,CAAC,GAAG,KAAKC,IAAf;AACA,iBAAKkQ,WAAL,CAAiB9P,KAAjB,CAAuBL,CAAC,CAACzK,IAAF,CAAOzC,EAA9B,EAAkCkN,CAAC,CAACM,MAApC,EAA4C9L,IAA5C,CAAiD,iEAAU,KAAKE,YAAf,CAAjD,EAA+EC,SAA/E,CAAyF,YAAM;AAC7FqL,eAAC,CAACM,MAAF,GAAW,CAACN,CAAC,CAACM,MAAd;;AACA,kBAAIN,CAAC,CAACM,MAAN,EAAc;AACZ,uBAAI,CAACV,IAAL,CAAU3M,IAAV,CAAe+M,CAAf;AACD;AACF,aALD;AAMD;;;iBAEM,SAAAO,OAAO;AAAA;;AACZ,iBAAK4P,WAAL,CAAiB7Q,QAAjB,CAA0B,KAAKW,IAAL,CAAU1K,IAAV,CAAezC,EAAzC,EAA6C0B,IAA7C,CAAkD,iEAAU,KAAKE,YAAf,CAAlD,EAAgFC,SAAhF,CAA0F,YAAM;AAC9F,qBAAI,CAACsL,IAAL,CAAU7K,IAAV,CAAeoL,gBAAf,GAAkC,iGAAqBC,SAAvD;AACD,aAFD;AAGD;;;iBAEM,SAAAC,QAAQ;AAAA;;AACb,iBAAKyP,WAAL,CAAiB3Q,SAAjB,CAA2B,KAAKS,IAAL,CAAU1K,IAAV,CAAezC,EAA1C,EAA8C0B,IAA9C,CAAmD,iEAAU,KAAKE,YAAf,CAAnD,EAAiFC,SAAjF,CAA2F,YAAM;AAC/F,qBAAI,CAACsL,IAAL,CAAU7K,IAAV,CAAeoL,gBAAf,GAAkC,iGAAqBG,KAAvD;AACD,aAFD;AAGD;;QA9CyC,0F;;;;;;cAA/BuP,sB;AAAsB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAtBA,sB;AAAsB,uC;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBCfnC,o+C;AAWA,uM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDIaA,sB;AAAsB;gBALlC,uDAKkC;iBALxB;AACTra,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKwB,U;;;;;;;;;AACjBkK,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACNW,aAAG,EAAE,CAAF;kBAAlB;AAAkB,WAAE,C;AAEKhB,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE;;;;;;;;;;;;;;;;;;;AEnBlC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAsBayQ,2B;AAuBX,6CACmBpa,MADnB,EAEmBqa,aAFnB,EAGmBnD,cAHnB,EAImBoD,WAJnB,EAKmBpa,mBALnB,EAMmBqa,eANnB,EAOUC,QAPV,EAOoC;AAAA;;AAAA;;AAChC;AAPe,kBAAAxa,MAAA,GAAAA,MAAA;AACA,kBAAAqa,aAAA,GAAAA,aAAA;AACA,kBAAAnD,cAAA,GAAAA,cAAA;AACA,kBAAAoD,WAAA,GAAAA,WAAA;AACA,kBAAApa,mBAAA,GAAAA,mBAAA;AACA,kBAAAqa,eAAA,GAAAA,eAAA;AACT,kBAAAC,QAAA,GAAAA,QAAA;AA3BO,kBAAA9Y,SAAA,GAAsC,IAAI,oDAAJ,CAAoB,KAApB,CAAtC;AAED,kBAAAmI,oBAAA,GAAoD,gGAApD;AAET,kBAAAiF,MAAA,GAAuB,EAAvB;AAEA,kBAAA2L,IAAA,GAAmB,EAAnB;AAEA,kBAAAC,KAAA,GAAQ,KAAR;AAEA,kBAAAC,QAAA,GAAW,EAAX;AAOA,kBAAAC,aAAA,GAAuC,qGAAsBC,KAA7D;AACA,kBAAAC,YAAA,GAAsC,qGAAsBC,KAA5D;AAS6B;AACtB;;;;;;iBAEd,SAAA/c,QAAQ;AAAA;;AACN,iBAAKgd,KAAL,CAAWzc,IAAX,CAAgB,8DAAO,UAAC0c,MAAD;AAAA,qBAAmC,CAAC,CAACA,MAAM,CAACvb,OAA5C;AAAA,aAAP,CAAhB,EAA6E,iEAAU,KAAKjB,YAAf,CAA7E,EAA2GC,SAA3G,CAAqH,YAAM;AACzH,qBAAI,CAACwc,OAAL;AACD,aAFD;AAGA,iBAAKA,OAAL;AACA,iBAAKC,SAAL;AACA,iBAAKC,mBAAL;AACD;;;iBAEO,SAAAD,SAAS;AACf,iBAAKR,QAAL,GAAgB,oCAAoC,KAAK3a,MAAL,CAAYsL,GAAhE;AACA,iBAAK+P,MAAL,GAAc,kCAAkC,KAAKV,QAArD;AACA,iBAAKW,MAAL,GAAc,kDAAkD,KAAKX,QAArE;AACA,iBAAKY,MAAL,GAAc,0CAA0C,KAAKZ,QAA7D;AACA,iBAAKa,MAAL,GAAc,kCAAkC,KAAKb,QAArD;AACA,iBAAKc,MAAL,GAAc,sBAAsB,KAAKd,QAAzC;AACD;;;iBAEO,SAAAS,mBAAmB;AAAA;;AACzB,iBAAKlE,cAAL,CAAoBxV,SAApB,CAA8BnD,IAA9B,CAAmC,iEAAU,KAAKE,YAAf,CAAnC,EAAiEC,SAAjE,CAA2E,UAAC2Y,QAAD,EAAuB;AAChG,qBAAI,CAAC3V,SAAL,CAAe1E,IAAf,CAAoBqa,QAApB;AACD,aAFD;AAGD;;;iBAEO,SAAA6D,OAAO;AAAA;;AACb,gBAAMlR,IAAI,GAAG,KAAKgR,KAAL,CAAW9d,QAAX,GAAsBwe,WAAnC;AACA,iBAAKrB,aAAL,CAAmBsB,YAAnB,CAAgC3R,IAAI,CAAC8E,MAAL,IAAe,EAA/C,EAAmDvQ,IAAnD,CAAwD,iEAAU,KAAKE,YAAf,CAAxD,EAAsFC,SAAtF,CAAgG,UAACkd,IAAD,EAAwB;AACtH,qBAAI,CAAC9M,MAAL,GAAc8M,IAAd;AACD,aAFD;AAGA,iBAAKtB,WAAL,CAAiBqB,YAAjB,CAA8B3R,IAAI,CAACyQ,IAAL,IAAa,EAA3C,EAA+Clc,IAA/C,CAAoD,iEAAU,KAAKE,YAAf,CAApD,EAAkFC,SAAlF,CAA4F,UAACkd,IAAD,EAAsB;AAChH,qBAAI,CAACnB,IAAL,GAAYmB,IAAZ;AACD,aAFD;AAGD;;;iBAEM,SAAA3C,eAAe,CAAC5E,IAAD,EAAiB;AACrC,gBAAI,KAAK3S,SAAL,CAAezE,KAAnB,EAA0B;AACxB,kBAAM6R,MAAM,GAAiB,KAAKA,MAAL,CAAY9P,GAAZ,CAAgB,UAACC,KAAD,EAAuB;AAClE,oBAAIA,KAAK,CAACK,IAAN,CAAWzC,EAAX,KAAkBwX,IAAI,CAAC/U,IAAL,CAAUzC,EAAhC,EAAoC;AAClC,yBAAO,MAAP,OAAO,CAAP,kBACKoC,KADL,CAAO,EACG;AACR2S,+BAAW,EAAE,MAAF,OAAE,CAAF,kBACN3S,KAAK,CAAC2S,WADA,CAAE,EACS;AACpBwG,yBAAG,EAAE,CAAC/D,IAAI,CAACzC,WAAL,CAAiBwG;AADH,qBADT;AADL,mBADH,CAAP;AAOD;;AACD,uBAAOnZ,KAAP;AACD,eAX4B,CAA7B;AAaA,mBAAK6P,MAAL,sBAAkBA,MAAlB;;AAEA,kBAAIuF,IAAI,CAAChK,MAAT,EAAiB;AACf,qBAAKgQ,aAAL,CAAmBjQ,KAAnB,CAAyBiK,IAAI,CAAC/U,IAAL,CAAUzC,EAAnC,EAAuC,IAAvC,EAA6C0B,IAA7C,CAAkD,iEAAU,KAAKE,YAAf,CAAlD,EAAgFC,SAAhF;AACD;;AACD,mBAAK2b,aAAL,CAAmBnB,UAAnB,CAA8B7E,IAAI,CAAC/U,IAAL,CAAUzC,EAAxC,EAA4CwX,IAAI,CAACzC,WAAL,CAAiBwG,GAA7D,EAAkE7Z,IAAlE,CAAuE,iEAAU,KAAKE,YAAf,CAAvE,EAAqGC,SAArG;AACD,aApBD,MAoBO;AACL,mBAAKwB,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACD;AACF;;;iBAEM,SAAAka,WAAW;AAChB,iBAAKnB,KAAL,GAAa,CAAC,KAAKA,KAAnB;AACD;;;iBAEM,SAAAoB,IAAI,CAACxQ,GAAD,EAAY;AACrByQ,kBAAM,CAACnf,IAAP,CAAY0O,GAAZ,EAAiB,QAAjB;AACD;;;iBAEM,SAAA0Q,aAAa;AAClB,gBAAMhS,IAAI,GAAG,KAAKgR,KAAL,CAAW9d,QAAX,GAAsBwe,WAAnC;AACA,iBAAKnB,eAAL,CAAqBlR,QAArB,CAA8BW,IAAI,CAAC1K,IAAL,CAAUzC,EAAxC,EAA4C,IAA5C,EAAkD0B,IAAlD,CAAuD,iEAAU,KAAKE,YAAf,CAAvD,EAAqFC,SAArF;AACD;;;iBAEM,SAAAud,QAAQ;AACb,gBAAMjS,IAAI,GAAG,KAAKgR,KAAL,CAAW9d,QAAX,GAAsBwe,WAAnC;;AACA,gBAAI,KAAKha,SAAL,CAAezE,KAAnB,EAA0B;AACxB,kBAAI,KAAKia,cAAL,CAAoBxV,SAApB,CAA8BzE,KAAlC,EAAyC;AACvC+M,oBAAI,CAACK,MAAL,GACI,KAAKkQ,eAAL,CAAqBnQ,KAArB,CAA2BJ,IAAI,CAAC1K,IAAL,CAAUzC,EAArC,EAAyC,IAAzC,EAA+C0B,IAA/C,CAAoD,iEAAU,KAAKE,YAAf,CAApD,EAAkFC,SAAlF,EADJ,GAEI,KAAK6b,eAAL,CAAqBnQ,KAArB,CAA2BJ,IAAI,CAAC1K,IAAL,CAAUzC,EAArC,EAAyC0B,IAAzC,CAA8C,iEAAU,KAAKE,YAAf,CAA9C,EAA4EC,SAA5E,EAFJ;AAGD,eAJD,MAIO;AACL,qBAAKwB,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACD;;AACD,mBAAKqZ,KAAL,CAAWhe,IAAX,CAAgB,MAAD,OAAC,CAAD,kBAAM,KAAKge,KAAL,CAAW9d,QAAX,EAAN,CAAC,EAA0B;AAAEwe,2BAAW,EAAE,MAAF,OAAE,CAAF,kBAAO1R,IAAP,CAAE,EAAS;AAAEK,wBAAM,EAAE,CAACL,IAAI,CAACK;AAAhB,iBAAT;AAAf,eAA1B,CAAhB;AACD,aATD,MASO;AACL,mBAAKnK,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACD;AACF;;;iBAEM,SAAAua,gBAAgB;AAAA;;AACrBH,kBAAM,CAAClZ,qBAAP,CAA6B,YAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAI,CAAC2X,QAAL,CAAc2B,cAAd,CAA6B,gBAA7B;AACD,aATD;AAUD;;;iBAEM,SAAAC,kBAAkB;AACvB,gBAAMpS,IAAI,GAAG,KAAKgR,KAAL,CAAW9d,QAAX,GAAsBwe,WAAnC;;AACA,gBAAI,KAAKxE,cAAL,CAAoBxV,SAApB,CAA8BzE,KAAlC,EAAyC;AACvC,kBAAI+M,IAAI,CAACqS,SAAL,CAAejE,GAAnB,EAAwB;AACtB,qBAAKmC,eAAL,CAAqB+B,SAArB,CAA+BtS,IAAI,CAAC1K,IAAL,CAAUzC,EAAzC,EAA6C,IAA7C,EACG0B,IADH,CACQ,iEAAU,KAAKE,YAAf,CADR,EAEGC,SAFH,CAEa,YAAM;AACf,oBAAEsL,IAAI,CAACqS,SAAL,CAAexK,KAAjB;AACD,iBAJH;AAKD,eAND,MAMO;AACL,qBAAK0I,eAAL,CAAqB+B,SAArB,CAA+BtS,IAAI,CAAC1K,IAAL,CAAUzC,EAAzC,EAA6C0B,IAA7C,CAAkD,iEAAU,KAAKE,YAAf,CAAlD,EAAgFC,SAAhF,CAA0F,YAAM;AAC9FsL,sBAAI,CAACqS,SAAL,CAAexK,KAAf;AACD,iBAFD;AAGD;;AACD7H,kBAAI,CAACqS,SAAL,CAAejE,GAAf,GAAqB,CAACpO,IAAI,CAACqS,SAAL,CAAejE,GAArC;AACA,mBAAK4C,KAAL,CAAWhe,IAAX,CAAgB,MAAD,OAAC,CAAD,kBAAM,KAAKge,KAAL,CAAW9d,QAAX,EAAN,CAAC,EAA0B;AAAEwe,2BAAW,EAAE,MAAF,OAAE,CAAF,EAAE,EAAK1R,IAAL;AAAf,eAA1B,CAAhB;AACD,aAdD,MAcO;AACL,mBAAK9J,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACD;AACF;;;iBAEM,SAAA4a,IAAI,CAACA,KAAD,EAAoB;AAAA;;AAC7B,gBAAMvS,IAAI,GAAG,KAAKgR,KAAL,CAAW9d,QAAX,GAAsBwe,WAAnC;AACA,gBAAMc,QAAQ,GAAQD,KAAI,KAAK,IAAT,GAAgB,CAAhB,GAAoB,CAAC,CAA3C;;AACA,gBAAIvS,IAAI,CAACyF,KAAL,CAAW2I,GAAX,KAAmBoE,QAAvB,EAAiC;AAC/B,mBAAKjC,eAAL,CAAqBkC,KAArB,CAA2BzS,IAAI,CAAC1K,IAAL,CAAUzC,EAArC,EAAyC,IAAzC,EAA+C0B,IAA/C,CAAoD,iEAAU,KAAKE,YAAf,CAApD,EAAkFC,SAAlF,CAA4F,YAAM;AAChG8d,wBAAQ,GAAG,CAAX,GAAexS,IAAI,CAACyF,KAAL,CAAWC,EAAX,IAAiB8M,QAAhC,GAA2CxS,IAAI,CAACyF,KAAL,CAAWE,IAAX,IAAmB6M,QAA9D;AACAxS,oBAAI,CAACyF,KAAL,CAAW2I,GAAX,GAAiB,CAAjB;;AACA,uBAAI,CAAC4C,KAAL,CAAWhe,IAAX,CAAgB,MAAD,OAAC,CAAD,kBAAM,OAAI,CAACge,KAAL,CAAW9d,QAAX,EAAN,CAAC,EAA0B;AAAEwe,6BAAW,EAAE,MAAF,OAAE,CAAF,EAAE,EAAK1R,IAAL;AAAf,iBAA1B,CAAhB;AACD,eAJD;AAKD,aAND,MAMO;AACL,mBAAKuQ,eAAL,CAAqBkC,KAArB,CAA2BzS,IAAI,CAAC1K,IAAL,CAAUzC,EAArC,EAAyC,KAAzC,EAAgD2f,QAAhD,EAA0Dje,IAA1D,CAA+D,iEAAU,KAAKE,YAAf,CAA/D,EAA6FC,SAA7F,CAAuG,YAAM;AAC3GsL,oBAAI,CAACyF,KAAL,CAAW2I,GAAX,GAAiB,CAAjB,GAAqBpO,IAAI,CAACyF,KAAL,CAAWC,EAAX,IAAiB1F,IAAI,CAACyF,KAAL,CAAW2I,GAAjD,GAAuDpO,IAAI,CAACyF,KAAL,CAAWE,IAAX,IAAmB3F,IAAI,CAACyF,KAAL,CAAW2I,GAArF;AACAoE,wBAAQ,GAAG,CAAX,GAAexS,IAAI,CAACyF,KAAL,CAAWC,EAAX,IAAiB8M,QAAhC,GAA2CxS,IAAI,CAACyF,KAAL,CAAWE,IAAX,IAAmB6M,QAA9D;AACAxS,oBAAI,CAACyF,KAAL,CAAW2I,GAAX,GAAiBoE,QAAjB;;AACA,uBAAI,CAACxB,KAAL,CAAWhe,IAAX,CAAgB,MAAD,OAAC,CAAD,kBAAM,OAAI,CAACge,KAAL,CAAW9d,QAAX,EAAN,CAAC,EAA0B;AAAEwe,6BAAW,EAAE,MAAF,OAAE,CAAF,EAAE,EAAK1R,IAAL;AAAf,iBAA1B,CAAhB;AACD,eALD;AAMD;AACF;;QA7K8C,0F;;;;;;cAApCoQ,2B;AAA2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAA3BA,2B;AAA2B,4C;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBCtBxC,8gM;AAkGA,293B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;cD5EaA,2B;AAA2B;gBALvC,uDAKuC;iBAL7B;AACTxa,oBAAQ,EAAE,0BADD;AAETC,uBAAW,EAAE,uCAFJ;AAGTC,qBAAS,EAAE,CAAC,uCAAD;AAHF,W;AAK6B,U;;;;;;;;;;;;;;;;;;;AACtBkb,eAAK,EAAE,CAAF;kBAApB;AAAoB,WAAE;;;;;;;;;;;;;;;;;;;AEvBzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUa0B,S;AACX,2BAA6B1c,MAA7B,EAA8DG,OAA9D,EAAuF;AAAA;;AAA1D,eAAAH,MAAA,GAAAA,MAAA;AAAiC,eAAAG,OAAA,GAAAA,OAAA;AAA2B;;;;iBAEzF,SAAA+F,WAAW,CAACyW,KAAD,EAAgC1G,KAAhC,EAA0D;AAAA;;AACnE,gBAAMpZ,EAAE,GAAW8f,KAAK,CAAC1B,MAAN,CAAa,IAAb,CAAnB;;AAEA,gBAAIpe,EAAE,KAAK,IAAX,EAAiB;AACf,qBAAO,KAAKsD,OAAL,CAAamC,KAAb,CACJ/D,IADI,CAEH,2DAAI,UAAC4H,IAAD,EAAyB;AAC3B,oBAAItF,GAAG,GAAWoV,KAAK,CAAC3K,GAAxB;;AACA,oBAAIzK,GAAG,CAAC+b,QAAJ,CAAa,WAAb,CAAJ,EAA+B;AAC7B/b,qBAAG,GAAGA,GAAG,CAACgc,OAAJ,CAAY,WAAZ,EAAyB,EAAzB,CAAN;AACD,iBAFD,MAEO,IAAIhc,GAAG,CAAC+b,QAAJ,CAAa,cAAb,CAAJ,EAAkC;AACvC/b,qBAAG,GAAGA,GAAG,CAACgc,OAAJ,CAAY,cAAZ,EAA4B,EAA5B,CAAN;AACD;;AACD,oBAAMvR,GAAG,GACP,CAACnF,IAAI,CAAChH,IAAL,CAAUuH,OAAV,CAAkBC,SAAlB,GAA8B,UAA9B,GAA2C,OAA5C,EAAqDR,IAAI,CAAChH,IAAL,CAAUwI,QAAV,GAAqBxB,IAAI,CAAChH,IAAL,CAAUwI,QAA/B,GAA0CxB,IAAI,CAAC7G,IAAL,CAAUzC,EAAzG,EAA6GgE,GAA7G,CADF;;AAEA,uBAAI,CAACb,MAAL,CAAYmD,QAAZ,CAAqBmI,GAArB;AACD,eAVD,CAFG,CAAP;AAcD,aAfD,MAeO;AACL,qBAAO,IAAP;AACD;AACF;;;;;;;;cAxBUoR,S;AAAS;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAATA,S;AAAS,oBAFR;;;;;;;cAEDA,S;AAAS;gBAHrB,wDAGqB;iBAHV;AACVnf,sBAAU,EAAE;AADF,W;AAGU,U;;;;;;;;;;;;;;;;;;;;;;;;;ACVtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMauf,e;AAGX,mCAAc;AAAA;AAAE;;;;iBAET,SAAAlf,KAAK;AACV,iBAAKmf,OAAL,CAAanf,KAAb;AACD;;;iBAEM,SAAAhB,IAAI,CAACogB,WAAD,EAAgClb,KAAhC,EAAiD;AAC1D,iBAAKib,OAAL,CAAangB,IAAb,CAAkBogB,WAAlB,EAA+Blb,KAA/B;AACD;;;;;;;;cAXUgb,e;AAAe,gB;AAAA;;;;;;cAAfA,e;AAAe,oBAFd;;;;;;;cAEDA,e;AAAe;gBAH3B,wDAG2B;iBAHhB;AACVvf,sBAAU,EAAE;AADF,W;AAGgB,U;;;;;;;;;;;;;;;;;;;;;ACN5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAca0f,sB;AAOX,wCACmB3C,WADnB,EAEmB5Q,gBAFnB,EAEqD;AAAA;;AAAA;;AAEnD;AAHiB,kBAAA4Q,WAAA,GAAAA,WAAA;AACA,kBAAA5Q,gBAAA,GAAAA,gBAAA;AANO,kBAAAC,IAAA,GAA+B,IAAI,0DAAJ,EAA/B;AAEV,kBAAAE,oBAAA,GAAoD,gGAApD;AAIqC;AAGpD;;;;;;iBAEM,SAAAI,QAAQ;AAAA;;AACb,iBAAKqQ,WAAL,CAAiBpQ,SAAjB,CAA2B,KAAKF,IAAL,CAAU1K,IAAV,CAAezC,EAA1C,EAA8C0B,IAA9C,CACE,iEAAU,UAAC8D,CAAD;AAAA,qBAAuB,OAAI,CAACqH,gBAAL,CAAsBrM,SAAtB,CAAgCgF,CAAhC,CAAvB;AAAA,aAAV,CADF,EAEE,iEAAU,KAAK5D,YAAf,CAFF,EAGEC,SAHF;AAID;;;iBAEM,SAAAoL,OAAM;AAAA;;AACX,gBAAMC,CAAC,GAAG,KAAKC,IAAf;AACA,iBAAKsQ,WAAL,CAAiBrR,OAAjB,CAAyBc,CAAC,CAACzK,IAAF,CAAOzC,EAAhC,EAAoC0B,IAApC,CAAyC,iEAAU,KAAKE,YAAf,CAAzC,EAAuEC,SAAvE,CAAiF;AAAA,qBAAM,OAAI,CAACiL,IAAL,CAAU3M,IAAV,CAAe+M,CAAf,CAAN;AAAA,aAAjF;AACD;;QAxByC,0F;;;;;;cAA/BkT,sB;AAAsB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAtBA,sB;AAAsB,uC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBCdnC,upB;AAOA,uM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDOaA,sB;AAAsB;gBALlC,uDAKkC;iBALxB;AACTrd,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKwB,U;;;;;;;;;AACjBkK,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AAEIL,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UEGrBuT,kB;AAKX,oCACmBhQ,WADnB,EAEmBD,yBAFnB,EAGmBzM,eAHnB,EAImBR,MAJnB,EAIiC;AAAA;;AAAA;;AAHd,eAAAkN,WAAA,GAAAA,WAAA;AACA,eAAAD,yBAAA,GAAAA,yBAAA;AACA,eAAAzM,eAAA,GAAAA,eAAA;AACA,eAAAR,MAAA,GAAAA,MAAA;AARF,eAAAmd,cAAA,GAA2C,IAAI,oDAAJ,CAA6B,KAA7B,CAA3C;AACA,eAAAC,cAAA,GAA2C,IAAI,oDAAJ,CAA6B,KAA7B,CAA3C;AACA,eAAAC,kBAAA,GAA+C,IAAI,oDAAJ,CAA6B,KAA7B,CAA/C;;AAQf,cAAI,KAAK7c,eAAL,CAAqBS,SAAzB,EAAoC;AAClC,iBAAKqc,eAAL;AACA,iBAAKC,aAAL;AACA,iBAAKC,SAAL;AACA,iBAAKC,SAAL;;AACA1B,kBAAM,CAAC,iBAAD,CAAN,GAA4B,YAAM;AAChC,qBAAI,CAAC9O,yBAAL,CAA+ByQ,cAA/B,CAA8C,QAA9C,EAAwD,EAAxD;AACD,aAFD;AAGD;AACF;;;;iBAEO,SAAAD,SAAS;AACf,iBAAKJ,kBAAL,CAAwB3e,SAAxB,CAAkC,UAAC2D,CAAD,EAAgB;AAChD,kBAAIA,CAAJ,EAAO;AACLsb,oBAAI,CAACC,IAAL,CAAU,OAAV,EAAmB,YAAM;AACvBD,sBAAI,CAACE,KAAL,CAAWC,IAAX,CAAgB;AACdC,6BAAS,EAAE,iDAAYtE;AADT,mBAAhB;AAGD,iBAJD;AAKD;AACF,aARD;AAUA,iBAAK0D,cAAL,CAAoBze,SAApB,CAA8B,UAAC2D,CAAD,EAAgB;AAC5C,kBAAIA,CAAJ,EAAO;AACL2b,kBAAE,CAACF,IAAH,CAAQ;AACNG,uBAAK,EAAE,iDAAYvE;AADb,iBAAR;AAGD;AACF,aAND;AAOD;;;iBAEO,SAAAwE,YAAY,CAAC/H,GAAD,EAAY;AAC9B,gBAAMgI,CAAC,GAAGvc,QAAQ,CAACwc,aAAT,CAAuB,QAAvB,CAAV;AACAD,aAAC,CAAC9L,IAAF,GAAS,iBAAT;AACA8L,aAAC,CAAChI,GAAF,GAAQA,GAAR;AACAgI,aAAC,CAACE,KAAF,GAAU,IAAV;AACAF,aAAC,CAACG,KAAF,GAAU,IAAV;AACA1c,oBAAQ,CAAC2c,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDL,CAArD;AACD;;;iBAEO,SAAAb,eAAe;AAAA;;AACpBvB,kBAAc,CAAC0C,WAAf,GAA6B,YAAM;AAClCC,gBAAE,CAACZ,IAAH,CAAQ;AACNa,qBAAK,EAAE,iDAAYhF,aADb;AAENiF,gCAAgB,EAAE,IAFZ;AAGNC,qBAAK,EAAE,IAHD;AAINC,uBAAO,EAAE;AAJH,eAAR;;AAMA,qBAAI,CAAC1B,cAAL,CAAoBpgB,IAApB,CAAyB,IAAzB;AACD,aARA;;AASD,iBAAKkhB,YAAL,CAAkB,2CAAlB;AACD;;;iBAEO,SAAAX,aAAa;AAAA;;AAClBxB,kBAAc,CAACwB,aAAf,GAA+B,YAAM;AACpC,qBAAI,CAACF,kBAAL,CAAwBrgB,IAAxB,CAA6B,IAA7B;AACD,aAFA;;AAGD,iBAAKkhB,YAAL,CAAkB,6DAAlB;AACD;;;iBAEO,SAAAV,SAAS;AAAA;;AACdzB,kBAAc,CAACgD,WAAf,GAA6B,YAAM;AAClC,qBAAI,CAAC5B,cAAL,CAAoBngB,IAApB,CAAyB,IAAzB;AACD,aAFA;;AAGD,gBAAMgiB,cAAc,GAAGpd,QAAQ,CAACwc,aAAT,CAAuB,KAAvB,CAAvB;AACAY,0BAAc,CAACtS,KAAf,CAAqBuS,QAArB,GAAgC,OAAhC;AACAD,0BAAc,CAACtS,KAAf,CAAqBC,IAArB,GAA4B,WAA5B;AACA/K,oBAAQ,CAAC2c,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDQ,cAArD;AACA,iBAAKd,YAAL,CAAkB,sCAAlB;AACD;;;iBAEO,SAAAgB,SAAS,CAACC,MAAD,EAAiB/Q,IAAjB,EAA0B;AAAA;;AACzC,mBAAO,KAAKlB,WAAL,CAAiBkS,OAAjB,CAAyBD,MAAzB,EAAiC/Q,IAAjC,EAAuC7P,IAAvC,CACL,iEAAU,UAAC8gB,MAAD,EAAqB;AAC7B,kBAAIvhB,MAAJ;;AACA,kBAAIuhB,MAAJ,EAAY;AACVvhB,sBAAM,GAAG,OAAI,CAACmP,yBAAL,CAA+BS,MAA/B,CAAsCyR,MAAtC,EAA8C/Q,IAA9C,CAAT;AACD,eAFD,MAEO;AACL,uBAAI,CAACnB,yBAAL,CAA+ByQ,cAA/B,CAA8CyB,MAA9C,EAAsD/Q,IAAtD;;AACAtQ,sBAAM,GAAG,gDAAG,IAAH,CAAT;AACD;;AACD,qBAAOA,MAAP;AACD,aATD,CADK,EAWL,kEAAW,UAACuI,KAAD,EAAgB;AACzB,oBAAMA,KAAN;AACD,aAFD,CAXK,CAAP;AAeD;;;iBAEM,SAAAiZ,eAAe;AAAA;;AACpB,iBAAKnR,UAAL,GACG5P,IADH,CACQ,iEAAU,UAAC6P,IAAD;AAAA,qBAAe,OAAI,CAAC8Q,SAAL,CAAe,QAAf,EAAyB9Q,IAAzB,CAAf;AAAA,aAAV,CADR,EAEG1P,SAFH,CAEa;AAAA,qBAAM,OAAI,CAACsB,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB,CAAN;AAAA,aAFb;AAGD;;;iBAEM,SAAAoc,iBAAiB;AAAA;;AACtB,iBAAKjR,YAAL,GACG/P,IADH,CACQ,iEAAU,UAAC6P,IAAD;AAAA,qBAAe,OAAI,CAAC8Q,SAAL,CAAe,UAAf,EAA2B9Q,IAA3B,CAAf;AAAA,aAAV,CADR,EAEG1P,SAFH,CAEa;AAAA,qBAAM,OAAI,CAACsB,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB,CAAN;AAAA,aAFb;AAGD;;;iBAEM,SAAAqc,WAAW;AAAA;;AAChB,iBAAKhR,MAAL,GACGjQ,IADH,CACQ,iEAAU,UAAC6P,IAAD;AAAA,qBAAe,OAAI,CAAC8Q,SAAL,CAAe,IAAf,EAAqB9Q,IAArB,CAAf;AAAA,aAAV,CADR,EAEG1P,SAFH,CAEa;AAAA,qBAAM,OAAI,CAACsB,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB,CAAN;AAAA,aAFb;AAGD;;;iBAEM,SAAAsc,cAAc;AACnB,gBAAMC,cAAc,GAAG,iCAAvB;;AACA,gBAAMC,OAAO,GAAG,iDAAYrU,GAAZ,CAAgBuR,OAAhB,CAAwB,KAAxB,EAA+B,EAA/B,CAAhB;;AACA,gBAAM+C,SAAS,GAAGF,cAAc,qBACnB,iDAAY3F,OADO,qBACW4F,OADX,wBACgCA,OADhC,SAAhC;AAEA5D,kBAAM,CAACrH,QAAP,CAAgBmL,IAAhB,GAAuBD,SAAvB;AACD;;;iBAEM,SAAAE,WAAW;AAAA;;AAChB,iBAAKpR,MAAL,GACGnQ,IADH,CACQ,iEAAU,UAAC6P,IAAD;AAAA,qBAAe,OAAI,CAAC8Q,SAAL,CAAe,IAAf,EAAqB9Q,IAArB,CAAf;AAAA,aAAV,CADR,EAEG1P,SAFH,CAEa;AAAA,qBAAM,OAAI,CAACsB,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB,CAAN;AAAA,aAFb;AAGD;;;iBAEM,SAAAgL,UAAU;AACfwP,gBAAI,CAACE,KAAL,CAAWkC,eAAX,GAA6Brd,UAA7B;AACA,mBAAO,kDAAKib,IAAI,CAACE,KAAL,CAAWkC,eAAX,GAA6BC,OAA7B,EAAL,EAA6CzhB,IAA7C,CACL,iEAAU;AAAA,qBAAM,kDAAKof,IAAI,CAACE,KAAL,CAAWkC,eAAX,GAA6BE,MAA7B,EAAL,CAAN;AAAA,aAAV,CADK,EAEL,2DAAI,UAAC5d,CAAD,EAA8B;AAChC,qBAAO;AAAE6d,uBAAO,EAAE7d,CAAC,CAAC8d,eAAF,GAAoBC;AAA/B,eAAP;AACD,aAFD,CAFK,CAAP;AAMD;;;iBAEM,SAAA5R,MAAM;AAAA;;AACX,mBAAO,IAAI,+CAAJ,CAAoB,UAAC6R,UAAD,EAAiC;AAC1DrC,gBAAE,CAACsC,IAAH,CAAQC,KAAR,CAAc,UAAOlV,QAAP;AAAA,uBAAsC;AAAA;AAAA;AAAA;AAAA;AAClD,4BAAIA,QAAQ,CAAC4M,MAAT,KAAoB,WAAxB,EAAqC;AAC7BkG,2BAD6B,GACzB9S,QAAQ,CAAClL,OADgB;AAEnCkgB,oCAAU,CAACrjB,IAAX,CAAgB;AACdwjB,kCAAM,EAAErC,CAAC,CAACqC,MADI;AAEdC,+BAAG,EAAEtC,CAAC,CAACsC,GAFO;AAGdC,kCAAM,EAAEvC,CAAC,CAACuC,MAHI;AAIdC,+BAAG,EAAExC,CAAC,CAACwC,GAJO;AAKdC,+BAAG,EAAEzC,CAAC,CAACyC;AALO,2BAAhB;AAOAP,oCAAU,CAACQ,QAAX;AACD,yBAVD,MAUO;AACLR,oCAAU,CAACha,KAAX,CAAiBgF,QAAQ,CAAC4M,MAA1B;AACD;;AAbiD;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAtC;AAAA,eAAd;AAeD,aAhBM,CAAP;AAiBD;;;iBAEM,SAAA3J,YAAY;AACjB,mBAAO,IAAI,+CAAJ,CAAoB,UAAC+R,UAAD,EAAiC;AAC1D3B,gBAAE,CAAC6B,KAAH,CAAS,UAAClV,QAAD,EAAsC;AAC7C,oBAAIA,QAAQ,CAAC4M,MAAT,KAAoB,WAAxB,EAAqC;AACnCoI,4BAAU,CAACrjB,IAAX,CAAgB;AACd8jB,iCAAa,EAAEzV,QAAQ,CAAC0V,YAAT,CAAsBD;AADvB,mBAAhB;AAGAT,4BAAU,CAACQ,QAAX;AACD,iBALD,MAKO;AACLR,4BAAU,CAACha,KAAX,CAAiBgF,QAAQ,CAAC4M,MAA1B;AACD;AACF,eATD;AAUD,aAXM,CAAP;AAYD;;;iBAEM,SAAAvJ,MAAM;AACX,gBAAMpK,IAAI,GAAG0c,kBAAkB,CAACjF,MAAM,CAACrH,QAAP,CAAgBpQ,IAAhB,CAAqB2c,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAD,CAA/B;AACA,gBAAMC,YAAY,GAAG5c,IAAI,CAACyR,KAAL,CAAW,0BAAX,EAAuC,CAAvC,CAArB;AAEA,mBAAO,gDAAG,IAAI,0DAAJ,CAAQmL,YAAR,EAAsB,KAAtB,EAA6BlX,IAAhC,CAAP;AACD;;;;;;;;cAtLUkT,kB;AAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAlBA,kB;AAAkB,oBAFjB;;;;;;;cAEDA,kB;AAAkB;gBAH9B,wDAG8B;iBAHnB;AACV3f,sBAAU,EAAE;AADF,W;AAGmB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpB/B;AAAA;;;AAAA;AAAA;AAAA;;AAAO,UAAM4jB,OAAO,GAAa,CAC/B,SAD+B,EAE/B,MAF+B,EAG/B,MAH+B,EAI/B,GAJ+B,EAK/B,aAL+B,EAM/B,YAN+B,EAO/B,MAP+B,EAQ/B,YAR+B,EAS/B,GAT+B,EAU/B,MAV+B,EAW/B,QAX+B,EAY/B,WAZ+B,EAa/B,GAb+B,EAc/B,cAd+B,EAe/B,cAf+B,EAgB/B,aAhB+B,EAiB/B,GAjB+B,EAkB/B,gBAlB+B,EAmB/B,kBAnB+B,EAoB/B,iBApB+B,CAA1B;;;;;;;;;;;;;;;;ACAP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAEO,UAAMC,eAAe,GAAG,iDAAIC,QAAJ,CAAa;AACxCC,UAAE,EAAE,IADoC;AAExCC,YAAI,EAAE;AAFkC,OAAb,CAAxB;;AAKA,UAAMC,cAAc,GAAG,iDAAIH,QAAJ,CAAa;AACvCI,eAAO,EAAE,SAD8B;AAEvCzP,eAAO,EAAE;AAF8B,OAAb,CAAvB;;AAQA,UAAM0P,qBAAqB,GAAG,iDAAIL,QAAJ,CAAa;AAC9CM,gBAAQ,EAAE,CADoC;AAE9CC,gBAAQ,EAAE,CAAC;AAFmC,OAAb,CAA9B;;;;;;;;;;;;;;;;;ACfP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQaC,qB,6BAIX,iCAAc;AAAA;;AAHE,aAAArQ,IAAA,GAAe,IAAf;AACA,aAAAtS,IAAA,GAAe,IAAf;AAEC,O;;;;;;cAJN2iB,qB;AAAqB,gB;AAAA;;;;;cAArBA,qB;AAAqB,yC;AAAA;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCRlC,4S;AAOA,6sxB;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;;cDCaA,qB;AAAqB;gBANjC,uDAMiC;iBANvB;AACTjiB,oBAAQ,EAAE,uBADD;AAETC,uBAAW,EAAE,iCAFJ;AAGTC,qBAAS,EAAE,CAAC,iCAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMuB,U;;;;;AAChB0N,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACNtS,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE;;;;;;;;;;;;;;;;;;;AEVxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAkBa4iB,oB;AAOX,sCAAoBC,QAApB,EAAyC;AAAA;;AAAA;;AACvC;AADkB,kBAAAA,QAAA,GAAAA,QAAA;AAAqB;AAExC,S,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;iBAEQ,SAAAC,wBAAwB,CAACC,KAAD,EAAc;AAC5C,iBAAKF,QAAL,CAAcG,QAAd,CAAuB,KAAKC,iBAAL,CAAuBngB,aAA9C,EAA6D,OAA7D,EAAsEigB,KAAtE;AACD;;;iBAEO,SAAAG,aAAa;AAAA;;AACnB,gBAAI,KAAKD,iBAAL,IAA0B,KAAKE,iBAAL,CAAuBC,KAArD,EAA4D;AAC1D,kBAAMvW,OAAO,GAAG,KAAKsW,iBAAL,CAAuBC,KAAvB,CAA6BtgB,aAA7B,GACZ,KAAKqgB,iBAAL,CAAuBC,KAAvB,CAA6BtgB,aADjB,GAEX,KAAKqgB,iBAAL,CAA+BC,KAA/B,CAAqCC,SAArC,CAA+CC,UAA/C,CAA0DxgB,aAF/D;AAGA,qEAAU+J,OAAV,EAAmB,SAAnB,EACGxN,IADH,CACQ,iEAAU,KAAKE,YAAf,CADR,EAEGC,SAFH,CAEa;AAAA,uBAAM,OAAI,CAACsjB,wBAAL,CAA8B,SAA9B,CAAN;AAAA,eAFb;AAGA,qEAAUjW,OAAV,EAAmB,UAAnB,EACGxN,IADH,CACQ,iEAAU,KAAKE,YAAf,CADR,EAEGC,SAFH,CAEa;AAAA,uBAAM,OAAI,CAACsjB,wBAAL,CAA8B,IAA9B,CAAN;AAAA,eAFb;AAGD;AACF;;;iBAED,SAAAS,eAAe;AAAA;;AACb;AACA,iBAAKJ,iBAAL,CAAuBlkB,OAAvB,CAA+BO,SAA/B,CAAyC;AAAA,qBAAM,OAAI,CAAC0jB,aAAL,EAAN;AAAA,aAAzC;AACA,iBAAKA,aAAL,GAHa,CAIb;AACA;AACA;AACD;;QAjDuC,0F;;;;;;cAA7BN,oB;AAAoB;AAAA;AAAA,U;AAAA;;;;;cAApBA,oB;AAAoB,uC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,6B;AAAA,4D;AAAA,kBClBjC,wO;AAQA,0g5B;AAAA;;;;;;;cDUaA,oB;AAAoB;gBANhC,uDAMgC;iBANtB;AACTliB,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,+BAFJ;AAGTC,qBAAS,EAAE,CAAC,+BAAD,EAAkC,8BAAlC,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMsB,U;;;;;;;AACiB4e,kBAAQ,EAAE,CAAF;kBAAvD,0DAAuD;mBAA1C,O,EAAS;AAAE,wBAAQ;AAAV,a;AAAiC,WAAE,C;AACZC,iBAAO,EAAE,CAAF;kBAApD,0DAAoD;mBAAvC,K,EAAO;AAAE,wBAAQ;AAAV,a;AAAgC,WAAE,C;AAEKR,2BAAiB,EAAE,CAAF;kBAA5E,0DAA4E;mBAA/D,mB,EAAqB;AAAE,wBAAQ;AAAV,a;AAA0C,WAAE,C;AACXE,2BAAiB,EAAE,CAAF;kBAApF,6DAAoF;mBAApE,mB,EAAqB;AAAEO,yBAAW,EAAE;AAAf,a;AAA+C,WAAE;;;;;;;;;;;;;;;;;;;AEvBzF;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaC,iB;AACX,mCACmB3L,cADnB,EAEmB8F,WAFnB,EAGmB8F,aAHnB,EAGkD;AAAA;;AAF/B,eAAA5L,cAAA,GAAAA,cAAA;AACA,eAAA8F,WAAA,GAAAA,WAAA;AACA,eAAA8F,aAAA,GAAAA,aAAA;AACf;;;;iBAEJ,SAAA9kB,QAAQ;AAAA;;AACN,iBAAKkZ,cAAL,CAAoB5U,KAApB,CAA0B5D,SAA1B,CAAoC,UAACyH,IAAD,EAAyB;AAC3D,qBAAI,CAAC2c,aAAL,CAAmBC,KAAnB;;AACA,kBAAI5c,IAAJ,EAAU;AACR,uBAAI,CAAC2c,aAAL,CAAmBzW,kBAAnB,CAAsC,OAAI,CAAC2Q,WAA3C;AACD;AACF,aALD;AAMD;;;;;;;;cAdU6F,iB;AAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAjBA,iB;AAAiB,iC;AAAA;;;;;;;cAAjBA,iB;AAAiB;gBAH7B,uDAG6B;iBAHnB;AACTjjB,oBAAQ,EAAE;AADD,W;AAGmB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;ACP9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASaojB,Y;AAKT,8BACmBC,GADnB,EAEmBjG,WAFnB,EAE2D;AAAA;;AADxC,eAAAiG,GAAA,GAAAA,GAAA;AACA,eAAAjG,WAAA,GAAAA,WAAA;AAJX,eAAAkG,OAAA,GAA0B;AAAEC,kBAAM,EAAE;AAAV,WAA1B;AAMJ,eAAKF,GAAL,CAAS5W,kBAAT,CAA4B,KAAK2Q,WAAjC,EAA8C,KAAKkG,OAAnD;AACH;;;;iBAED,SAAAhlB,WAAW;AACP,iBAAKglB,OAAL,CAAaC,MAAb,GAAsB,KAAKA,MAA3B;AACH;;;;;;;;cAdQH,Y;AAAY;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAZA,Y;AAAY,4B;AAAA;AAAA;AAAA,S;AAAA,2B;AAAA;;;;;;;cAAZA,Y;AAAY;gBAHxB,uDAGwB;iBAHd;AACPpjB,oBAAQ,EAAE;AADH,W;AAGc,U;;;;;;;;;AACLujB,gBAAM,EAAE,CAAF;kBAArB;AAAqB,WAAE;;;;;;;;;;;;;;;;;;;ACV5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQaC,iB;AAOX,qCAAc;AAAA;;AALE,eAAAxe,QAAA,GAAW,KAAX,CAKF,CAHd;;AAC0B,eAAAc,MAAA,GAAgC,IAAI,0DAAJ,EAAhC;AAEV;;;;iBAET,SAAA2d,QAAQ,CAACvgB,CAAD,EAAS;AACtBA,aAAC,CAACkJ,eAAF;AACA,iBAAKsX,OAAL,GAAe,CAAC,KAAKA,OAArB;AACA,iBAAK5d,MAAL,CAAYC,IAAZ,CAAiB,KAAK2d,OAAtB;AACD;;;;;;;;cAbUF,iB;AAAiB,gB;AAAA;;;;;cAAjBA,iB;AAAiB,mC;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCR9B,0N;AAKA,w3G;AAAA;;;;;;;cDGaA,iB;AAAiB;gBAN7B,uDAM6B;iBANnB;AACTxjB,oBAAQ,EAAE,iBADD;AAETC,uBAAW,EAAE,2BAFJ;AAGTC,qBAAS,EAAE,CAAC,2BAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMmB,U;;;;;AACZwf,iBAAO,EAAE,CAAF;kBAAtB;AAAsB,WAAE,C;AACT1e,kBAAQ;kBAAvB;AAAuB,Y;AAGEc,gBAAM,EAAE,CAAF;kBAA/B;AAA+B,WAAE;;;;;;;;;;;;;;;;;;;AEbpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOa6d,gB,6BACX,4BAAc;AAAA;AAAG,O;;;;;;cADNA,gB;AAAgB,gB;AAAA;;;;;cAAhBA,gB;AAAgB,+B;AAAA,4D;AAAA,kBCP7B,yW;AAWM;;;;;;;cDJOA,gB;AAAgB;gBAL5B,uDAK4B;iBALlB;AACT3jB,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,0BAFJ;AAGTC,qBAAS,EAAE,CAAC,0BAAD;AAHF,W;AAKkB,U;;;;;;;;;;;;;;;;;;;;;AEP7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAca0jB,kB;AAiBX,oCACqBC,gBADrB,EAEmBvM,cAFnB,EAGmBwM,GAHnB,EAGyC;AAAA;;AAAA;;AAEvC;AAJmB,kBAAAD,gBAAA,GAAAA,gBAAA;AACF,kBAAAvM,cAAA,GAAAA,cAAA;AACA,kBAAAwM,GAAA,GAAAA,GAAA;AAjBH,kBAAA1Z,IAAA,GAAc,EAAd;AAGA,kBAAA2Z,YAAA,GAAe,iDAAf;AACA,kBAAAC,QAAA,GAAW,KAAX;AAEU,kBAAAC,WAAA,GAAiC,IAAI,0DAAJ,EAAjC;AAEV,kBAAAniB,SAAA,GAAsC,IAAI,oDAAJ,CAAoB,KAApB,CAAtC;AACA,kBAAAkS,qBAAA,GAAsD,+EAAtD;AAET,kBAAAkQ,QAAA,GAAkB,EAAlB;AACA,kBAAAC,MAAA,GAAS,KAAT;AAKkC;AAGxC;;;;;;iBAED,SAAA/lB,QAAQ;AACN,iBAAKod,mBAAL;AACD;;;iBAED,SAAA4I,SAAS;;;AACP,gBAAI,KAAKJ,QAAT,EAAmB;AACjB,kBAAI,YAAK5Z,IAAL,MAAS,IAAT,IAAS,aAAT,GAAS,MAAT,GAAS,GAAE8O,MAAX,OAAsB,WAAKgL,QAAL,MAAa,IAAb,IAAa,aAAb,GAAa,MAAb,GAAa,GAAEhL,MAArC,KAA+C,CAAC,CAAC,KAAK9O,IAA1D,EAAgE;AAC9D,qBAAKia,eAAL;AACD,eAFD,MAEO;AACL;AACA,qBAAKH,QAAL,GAAgB,KAAK9Z,IAAL,GAAYka,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKpa,IAApB,CAAX,CAAZ,GAAoD,EAApE;AACA,qBAAK0Z,GAAL,CAASW,YAAT;AACD;AACF;AACF;;;iBAEO,SAAAJ,eAAe;;;AACrB,gBAAIK,CAAC,GAAG,CAAR;;AADqB,uDAEC,KAAKta,IAFN;AAAA;;AAAA;AAErB,kEAAiC;AAAA,oBAAtB+B,OAAsB;;AAC/B,oBAAI,YAAK+X,QAAL,CAAcQ,CAAd,EAAiB1S,WAAjB,MAA4B,IAA5B,IAA4B,aAA5B,GAA4B,MAA5B,GAA4B,GAAEwG,GAA9B,OAAsC,MAAArM,OAAO,CAAC6F,WAAR,MAAmB,IAAnB,IAAmB,aAAnB,GAAmB,MAAnB,GAAmB,GAAEwG,GAA3D,CAAJ,EAAoE;AAClE,uBAAK0L,QAAL,GAAgB,KAAK9Z,IAAL,GAAYka,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAe,KAAKpa,IAApB,CAAX,CAAZ,GAAoD,EAApE;AACA,uBAAK0Z,GAAL,CAASW,YAAT;AACA;AACD,iBAJD,MAIO;AACLC,mBAAC;AACF;AACF;AAVoB;AAAA;AAAA;AAAA;AAAA;AAWtB;;;iBAEO,SAAAlJ,mBAAmB;AAAA;;AACzB,iBAAKlE,cAAL,CAAoBxV,SAApB,CAA8BnD,IAA9B,CAAmC,iEAAU,KAAKE,YAAf,CAAnC,EAAiEC,SAAjE,CAA2E,UAAC2Y,QAAD,EAAuB;AAChG,qBAAI,CAAC3V,SAAL,CAAe1E,IAAf,CAAoBqa,QAApB;AACD,aAFD;AAGD;;;iBAEM,SAAAkN,eAAe,CAAClQ,IAAD,EAAU;AAC9B,iBAAKwP,WAAL,CAAiBle,IAAjB,CAAsB0O,IAAtB;AACD;;;iBAEM,SAAAmQ,UAAU;AACf,iBAAKT,MAAL,GAAc,CAAC,KAAKA,MAApB;AACD;;QAlEqC,0F;;;;;;cAA3BP,kB;AAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAlBA,kB;AAAkB,qC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBCd/B,+/P;AA0JA,o1+N;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cD5IaA,kB;AAAkB;gBAN9B,uDAM8B;iBANpB;AACT5jB,oBAAQ,EAAE,mBADD;AAETC,uBAAW,EAAE,6BAFJ;AAGTC,qBAAS,EAAE,CAAC,6BAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMoB,U;;;;;;;;;;;AACb2gB,uBAAa,EAAE,CAAF;kBAA5B;AAA4B,WAAE,C;AACfC,sBAAY,EAAE,CAAF;kBAA3B;AAA2B,WAAE,C;AACd1a,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACN2a,sBAAY,EAAE,CAAF;kBAA3B;AAA2B,WAAE,C;AACdC,0BAAgB,EAAE,CAAF;kBAA/B;AAA+B,WAAE,C;AAClBjB,sBAAY;kBAA3B;AAA2B,Y;AACZC,kBAAQ;kBAAvB;AAAuB,Y;AAEEC,qBAAW,EAAE,CAAF;kBAApC;AAAoC,WAAE;;;;;;;;;;;;;;;;;;;AEvBzC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAaagB,S;;;;;;;;cAAAA,S;AAAS,gB;AAAA;;;;;;cAATA,S;AAAS,uBANL,+DAMK,C;AANO,kBAGzB,4DAHyB,C;AAGb,kBAFJ,+DAEI;;;;;;cAGHA,S;AAAS,kBAJX,CACP,4DADO,CAIW;;;;;;;cAATA,S;AAAS;gBAPrB,sDAOqB;iBAPZ;AACRC,wBAAY,EAAE,CAAC,+DAAD,CADN;AAERC,mBAAO,EAAE,CAAC,+DAAD,CAFD;AAGRC,mBAAO,EAAE,CACP,4DADO;AAHD,W;AAOY;;;;;;;;;;;;;;;;;;ACbtB;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYC,qBAAZ;;AAAA,iBAAYA,qBAAZ,EAAiC;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACH,OARD,EAAYA,qBAAqB,KAArBA,qBAAqB,MAAjC;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASaC,kB;AAQX,sCAAc;AAAA;;AAPE,eAAA7S,IAAA,GAAO,MAAP;AAKT,eAAAhP,KAAA,GAAQ,KAAR;AAES;;;;iBAGT,SAAA8hB,OAAO;AACZ,iBAAK9hB,KAAL,GAAa,IAAb;AACD;;;iBAGM,SAAA+hB,QAAQ;AACb,iBAAK/hB,KAAL,GAAa,KAAb;AACD;;;;;;;;cAlBU6hB,kB;AAAkB,gB;AAAA;;;;;cAAlBA,kB;AAAkB,qC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCT/B,uI;AAIA,y11N;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;;cDKaA,kB;AAAkB;gBAN9B,uDAM8B;iBANpB;AACTtlB,oBAAQ,EAAE,mBADD;AAETC,uBAAW,EAAE,6BAFJ;AAGTC,qBAAS,EAAE,CAAC,6BAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMoB,U;;;;;AACbuO,cAAI;kBAAnB;AAAmB,Y;AACJxN,qBAAW,EAAE,CAAF;kBAA1B;AAA0B,WAAE,C;AACb2C,iBAAO,EAAE,CAAF;kBAAtB;AAAsB,WAAE,C;AACTgK,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AAOf2T,iBAAO;kBADb,0DACa;mBADA,S;AACA,Y;AAKPC,kBAAQ;kBADd,0DACc;mBADD,U;AACC;;;;;;;;;;;;;;;;;;;AEzBjB;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYC,oBAAZ;;AAAA,iBAAYA,oBAAZ,EAAgC;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,OATD,EAAYA,oBAAoB,KAApBA,oBAAoB,MAAhC;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaC,e,6BAGX,2BAAc;AAAA;;AAFE,aAAAC,WAAA,GAA+C,IAAI,oDAAJ,CAAoC,8EAAeC,IAAnD,CAA/C;AAEC,O;;;;;;cAHNF,e;AAAe,gB;AAAA;;;;;;cAAfA,e;AAAe,oBAFd;;;;;;;cAEDA,e;AAAe;gBAH3B,wDAG2B;iBAHhB;AACV/nB,sBAAU,EAAE;AADF,W;AAGgB,U;;;;;;;;;;;;;;;;;;;;;ACP5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAKakoB,S;;;;;;;iBACX,SAAAhf,SAAS,CAACxJ,KAAD,EAAgB6b,MAAhB,EAA8B;AACrC,gBAAI4M,WAAW,GAAWzoB,KAA1B;;AACA,gBAAI,CAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,GAAK,MAAL,GAAAA,KAAK,CAAE6b,MAAP,IAAgBA,MAApB,EAA4B;AAC1B4M,yBAAW,GAAGzoB,KAAK,CAACwC,KAAN,CAAY,CAAZ,EAAeqZ,MAAf,IAAyB,KAAvC;AACD;;AACD,mBAAO4M,WAAP;AACD;;;;;;;;cAPUD,S;AAAS,gB;AAAA;;;;;;cAATA,S;AAAS;;;;;;;cAATA,S;AAAS;gBAHrB,kDAGqB;iBAHhB;AACJrmB,gBAAI,EAAE;AADF,W;AAGgB;;;;;;;;;;;;;;;;;;ACLtB;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYumB,gBAAZ;;AAAA,iBAAYA,gBAAZ,EAA4B;AACxB;AACA;AACA;AACH,OAJD,EAAYA,gBAAgB,KAAhBA,gBAAgB,MAA5B;;;;;;;;;;;;;;;;;ACCA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOaC,a;AAIX,+BAA6Bxd,UAA7B,EAAsEkD,GAAtE,EAAoG9K,eAApG,EAAsI;AAAA;;AAAA;;AAAzG,eAAA4H,UAAA,GAAAA,UAAA;AAAyC,eAAAkD,GAAA,GAAAA,GAAA;AAA8B,eAAA9K,eAAA,GAAAA,eAAA;AAHnF,eAAAqlB,KAAA,GAAuC,IAAIC,GAAJ,EAAvC;AACA,eAAAC,MAAA,GAA0B,IAAI,4CAAJ,EAA1B;AAGf,eAAKA,MAAL,CAAYxnB,IAAZ,CACE,KAAKiC,eAAL,CAAqBS,SAArB,GAAiC,kEAAW,GAAX,CAAjC,GAAmD,2DAAI,UAACoB,CAAD;AAAA,mBAAe,CAACA,CAAD,CAAf;AAAA,WAAJ,CADrD,EAEE,8DAAO,UAACA,CAAD;AAAA,mBAAiBA,CAAC,CAACyW,MAAF,KAAa,CAA9B;AAAA,WAAP,CAFF,EAGE,iEAAU,UAACzW,CAAD;AAAA,mBAAiB,OAAI,CAAC7B,eAAL,CAAqBS,SAArB,GAAiC,OAAI,CAAC+kB,QAAL,CAAc3jB,CAAd,CAAjC,GAAoD,OAAI,CAACkC,IAAL,CAAUlC,CAAV,CAArE;AAAA,WAAV,CAHF,EAIE3D,SAJF;AAKD;;;;iBAEO,SAAAsnB,QAAQ,CAACC,GAAD,EAAc;AAAA;;AAC5B,mBAAO,KAAK7d,UAAL,CAAgB7D,IAAhB,WAA8B,KAAK+G,GAAnC,eAA6C2a,GAAG,CAACC,IAAJ,CAAS,GAAT,CAA7C,QAAgE,IAAhE,EAAsE3nB,IAAtE,CACL,2DAAI,UAAC4nB,KAAD,EAAgB;AAClBF,iBAAG,CAAC3U,OAAJ,CAAY,UAACzU,EAAD,EAAgB;AAC1B,oBAAMI,KAAK,GAAMkpB,KAAK,CAACjO,IAAN,CAAW,UAACzC,EAAD;AAAA,yBAAWA,EAAE,CAACnW,IAAH,CAAQzC,EAAR,KAAe,CAACA,EAA3B;AAAA,iBAAX,CAAjB;AACAI,qBAAK,GAAG,OAAI,CAAC4oB,KAAL,CAAWO,GAAX,CAAevpB,EAAf,EAAmBG,IAAnB,CAAwBC,KAAxB,CAAH,GAAoC,OAAI,CAAC4oB,KAAL,CAAWO,GAAX,CAAevpB,EAAf,EAAmBwJ,KAAnB,CAAyB,IAAIsF,KAAJ,CAAU,kFAAiB0a,SAA3B,CAAzB,CAAzC;AACD,eAHD;AAID,aALD,CADK,EAOL,kEAAW,UAAChgB,KAAD,EAAgB;AACzB4f,iBAAG,CAAC3U,OAAJ,CAAY,UAACzU,EAAD;AAAA,uBAAgB,OAAI,CAACgpB,KAAL,CAAWO,GAAX,CAAevpB,EAAf,EAAmBwJ,KAAnB,CAAyBA,KAAzB,CAAhB;AAAA,eAAZ;AACA,oBAAMA,KAAN;AACD,aAHD,CAPK,CAAP;AAYD;;;iBAEO,SAAAigB,cAAc,CAACzpB,EAAD,EAAW;AAAA;;AAC/B,gBAAIiB,MAAJ;;AACA,gBAAI,CAAC,KAAK+nB,KAAL,CAAWU,GAAX,CAAe1pB,EAAf,CAAL,EAAyB;AACvBiB,oBAAM,GAAG,IAAI,kDAAJ,CAAqB,CAArB,CAAT;AACAA,oBAAM,CAACY,SAAP,CAAiB;AACf2H,qBAAK,EAAE,SAAPA,KAAO,CAACkF,GAAD,EAAc;AACnB,yBAAI,CAACsa,KAAL,WAAkBhpB,EAAlB;;AACA,wBAAM0O,GAAN;AACD;AAJc,eAAjB;AAMA,mBAAKsa,KAAL,CAAWW,GAAX,CAAe3pB,EAAf,EAAmBiB,MAAnB;AACA,mBAAKioB,MAAL,CAAY/oB,IAAZ,CAAiBH,EAAjB;AACD,aAVD,MAUO;AACLiB,oBAAM,GAAG,KAAK+nB,KAAL,CAAWO,GAAX,CAAevpB,EAAf,CAAT;AACD;;AACD,mBAAOiB,MAAP;AACD;;;iBAEM,SAAAyG,IAAI,CAAC0hB,GAAD,EAAc;AAAA;;AACvB,gBAAMQ,OAAO,GAAaR,GAAG,CAAC5kB,MAAJ,CAAW,UAACxE,EAAD;AAAA,qBAAgB,CAAC,OAAI,CAACgpB,KAAL,CAAWU,GAAX,CAAe1pB,EAAf,CAAjB;AAAA,aAAX,CAA1B;AACA4pB,mBAAO,CAACnV,OAAR,CAAgB,UAACzU,EAAD;AAAA,qBAAgB,OAAI,CAACypB,cAAL,CAAoBzpB,EAApB,CAAhB;AAAA,aAAhB;AACA,gBAAM6pB,MAAM,GAAUT,GAAG,CAACjnB,GAAJ,CAAQ,UAACnC,EAAD;AAAA,qBAAgB,OAAI,CAACgpB,KAAL,CAAWO,GAAX,CAAevpB,EAAf,EAAmB0B,IAAnB,CAAwB,8DAAxB,CAAhB;AAAA,aAAR,CAAtB;AACA,mBAAO,sDAASmoB,MAAT,EAAiBnoB,IAAjB,CAAsB,2DAAI,UAAC4nB,KAAD;AAAA,qBAAgBA,KAAK,CAACQ,IAAN,CAAW,0FAAaV,GAAb,CAAX,CAAhB;AAAA,aAAJ,CAAtB,CAAP;AACD;;;;;;;;;;;;;;;;;;;AC1DH;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYW,gBAAZ;;AAAA,iBAAYA,gBAAZ,EAA4B;AACxB;AACA;AACA;AACH,OAJD,EAAYA,gBAAgB,KAAhBA,gBAAgB,MAA5B;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAWaC,Y;AA6BX,8BAA6BrmB,eAA7B,EAAgFsmB,aAAhF,EAA8G;AAAA;;AAAA;;AAAjF,eAAAtmB,eAAA,GAAAA,eAAA;AAAmD,eAAAsmB,aAAA,GAAAA,aAAA,CAA8B,CA5B9G;;AACiB,eAAAC,OAAA,GAAmD,IAAI,oDAAJ,CAA4C,IAA5C,CAAnD;AACA,eAAAC,MAAA,GAAoC,IAAI,oDAAJ,CAA8B,EAA9B,CAApC;AAET,eAAArZ,MAAA,GAAqB;AAAEsZ,kBAAM,EAAE,IAAV;AAAgBC,mBAAO,EAAE;AAAzB,WAArB;AAEQ,eAAAC,OAAA,GAAU,IAAI,oDAAJ,CAAgC,IAAhC,CAAV;;AAuBd,cAAI,KAAK3mB,eAAL,CAAqBS,SAAzB,EAAoC;AAClC,iBAAKkmB,OAAL,CAAazoB,SAAb,CAAuB,UAACiP,MAAD,EAAwB;AAC7C,kBAAI,CAAC,CAACA,MAAN,EAAc;AACZ,uBAAI,CAACmZ,aAAL,CAAmBN,GAAnB,CAAuB,QAAvB,EAAiC7Y,MAAM,CAACsZ,MAAxC;;AACA,uBAAI,CAACH,aAAL,CAAmBN,GAAnB,CAAuB,SAAvB,EAAkC7Y,MAAM,CAACuZ,OAAzC;AACD,eAHD,MAGO;AACL,uBAAI,CAACJ,aAAL,WAA0B,QAA1B;;AACA,uBAAI,CAACA,aAAL,WAA0B,SAA1B;AACD;AACF,aARD;AASA,iBAAKlJ,IAAL;AACA,mEAAU7B,MAAV,EAAkB,SAAlB,EAA6Brd,SAA7B,CAAuC,UAACoE,CAAD,EAAqB;AAC1D,kBAAIA,CAAC,CAACuS,GAAF,KAAU,eAAd,EAA+B;AAC7B,uBAAI,CAACuI,IAAL;AACD;AACF,aAJD;AAKD,WAhBD,MAgBO,IAAI,KAAKpd,eAAL,CAAqB4mB,QAAzB,EAAmC;AACxC,iBAAKC,eAAL;AACD;AACF;;;;eAxCD,eAAkB;AAChB,mBAAOC,IAAI,CAACC,GAAL,KAAa,IAAb,GAAoB,KAAKR,OAAL,CAAa9pB,KAAb,CAAmBuqB,GAA9C;AACD;;;eAED,eAAgB;AACd,mBAAO,KAAK7Z,MAAL,CAAYsZ,MAAZ,KAAuB,IAA9B;AACD;;;eAED,eAAiB;AACf,mBAAO,KAAKtZ,MAAL,CAAYsZ,MAAnB;AACD;;;eAED,eAAkB;AAChB,mBAAO,KAAKtZ,MAAL,CAAYuZ,OAAnB;AACD;;;eAED,eAAiB;AACf,mBAAO,KAAKH,OAAZ;AACD;;;iBAwBO,SAAAtlB,MAAM;AACZ,gBAAI,KAAKkM,MAAL,CAAYsZ,MAAZ,IAAsB,KAAKtZ,MAAL,CAAYuZ,OAAtC,EAA+C;AAC7C,kBAAMO,SAAS,GAAG,IAAI,0DAAJ,CAAQ,KAAK9Z,MAAL,CAAYsZ,MAApB,CAAlB;AACA,kBAAMS,MAAM,GAAGD,SAAS,CAACzd,IAAzB;AACA,mBAAK0d,MAAL,CAAY1qB,IAAZ,CAAiB0qB,MAAjB;AACA,mBAAKV,MAAL,CAAYhqB,IAAZ,CAAiB0qB,MAAM,CAACC,GAAxB;AACA,mBAAKR,OAAL,CAAanqB,IAAb,CAAkB,MAAD,OAAC,CAAD,EAAC,EAAK,KAAK2Q,MAAV,CAAlB;AACD,aAND,MAMO;AACL,mBAAK+Z,MAAL,CAAY1qB,IAAZ,CAAiB,IAAjB;AACA,mBAAKgqB,MAAL,CAAYhqB,IAAZ,CAAiB,IAAjB;AACA,mBAAKmqB,OAAL,CAAanqB,IAAb,CAAkB,IAAlB;AACD;AACF;;;iBAEO,SAAAqqB,eAAe;AACrB,iBAAK1Z,MAAL,CAAYsZ,MAAZ,GAAqB,KAAKH,aAAL,CAAmBc,KAAnB,CAAyB,QAAzB,IAAqC,KAAKd,aAAL,CAAmBV,GAAnB,CAAuB,QAAvB,CAArC,GAAwE,IAA7F;AACA,iBAAKzY,MAAL,CAAYuZ,OAAZ,GAAsB,KAAKJ,aAAL,CAAmBc,KAAnB,CAAyB,SAAzB,IAAsC,KAAKd,aAAL,CAAmBV,GAAnB,CAAuB,SAAvB,CAAtC,GAA0E,IAAhG;AACA,iBAAK3kB,MAAL;AACD;;;iBAEM,SAAAmc,IAAI;AACT,iBAAKjQ,MAAL,CAAYsZ,MAAZ,GAAqBY,YAAY,CAACC,OAAb,CAAqB,yFAAoBC,YAAzC,CAArB;AACA,iBAAKpa,MAAL,CAAYuZ,OAAZ,GAAsBW,YAAY,CAACC,OAAb,CAAqB,yFAAoBE,aAAzC,CAAtB;AACA,iBAAKvmB,MAAL;AACD;;;iBAEM,SAAAwmB,IAAI,CAACta,MAAD,EAAmB;AAC5B,iBAAKA,MAAL,GAAcA,MAAd;AACA,gBAAM8Z,SAAS,GAAG,IAAI,0DAAJ,CAAQ9Z,MAAM,CAACsZ,MAAf,CAAlB;AACA,iBAAKS,MAAL,CAAY1qB,IAAZ,CAAiByqB,SAAS,CAACzd,IAA3B;AACA,iBAAKgd,MAAL,CAAYhqB,IAAZ,CAAiByqB,SAAS,CAACzd,IAAV,CAAe2d,GAAhC;AACAE,wBAAY,CAACK,OAAb,CAAqB,yFAAoBH,YAAzC,EAAuDpa,MAAM,CAACsZ,MAA9D;AACAY,wBAAY,CAACK,OAAb,CAAqB,yFAAoBF,aAAzC,EAAwDra,MAAM,CAACuZ,OAA/D;AACA,iBAAKC,OAAL,CAAanqB,IAAb,CAAkB,MAAD,OAAC,CAAD,EAAC,EAAK,KAAK2Q,MAAV,CAAlB;AACD;;;iBAEM,SAAAoV,KAAK;AACV,iBAAKpV,MAAL,CAAYsZ,MAAZ,GAAqB,IAArB;AACA,iBAAKtZ,MAAL,CAAYuZ,OAAZ,GAAsB,IAAtB;AACA,iBAAKQ,MAAL,CAAY1qB,IAAZ,CAAiB,IAAjB;AACA,iBAAKgqB,MAAL,CAAYhqB,IAAZ,CAAiB,IAAjB;AACA,iBAAKmqB,OAAL,CAAanqB,IAAb,CAAkB,IAAlB;;AACA,gBAAI,KAAKwD,eAAL,CAAqBS,SAAzB,EAAoC;AAClC4mB,0BAAY,CAACM,UAAb,CAAwB,yFAAoBJ,YAA5C;AACAF,0BAAY,CAACM,UAAb,CAAwB,yFAAoBH,aAA5C;AACD;AACF;;;;;;;;cAjGUnB,Y;AAAY;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAZA,Y;AAAY,oBAFX;;;;;;;cAEDA,Y;AAAY;gBAHxB,wDAGwB;iBAHb;AACVtpB,sBAAU,EAAE;AADF,W;AAGa,U;;;;;;;;;;;;;;;;;;;;;;;;;ACXzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASa6qB,gB;AACX,kCACmB3e,aADnB,EAEmBzJ,MAFnB,EAEiC;AAAA;;AADd,eAAAyJ,aAAA,GAAAA,aAAA;AACA,eAAAzJ,MAAA,GAAAA,MAAA;AACf;;;;iBAEJ,SAAAkG,WAAW;AAAA;;AACT,mBAAO,KAAKuD,aAAL,CAAmBvG,OAAnB,GAA6B3E,IAA7B,CAAkC,2DAAI,UAAC1B,EAAD;AAAA,qBAAgB,OAAI,CAACmD,MAAL,CAAYqoB,aAAZ,CAA0B,CAAC,SAAD,EAAYxrB,EAAZ,EAAgB,MAAhB,CAA1B,CAAhB;AAAA,aAAJ,CAAlC,CAAP;AACD;;;;;;;;cARUurB,gB;AAAgB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAhBA,gB;AAAgB,oBAFf;;;;;;;cAEDA,gB;AAAgB;gBAH5B,wDAG4B;iBAHjB;AACV7qB,sBAAU,EAAE;AADF,W;AAGiB,U;;;;;;;;;;;;;;;;;;;;;;;;;ACT7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASa+qB,e;AAQX,mCAAc;AAAA;;AAJY,eAAAC,WAAA,GAAyC,IAAI,0DAAJ,EAAzC;AAEnB,eAAA3nB,KAAA,GAAQ,KAAR;AAES;;;;iBAET,SAAA4nB,WAAW,CAACC,KAAD,EAAmB;AACnC,iBAAKC,WAAL,GAAmBD,KAAK,CAAC5rB,EAAN,KAAa,KAAK6rB,WAAlB,GAAgC,CAAC,CAAjC,GAAqCD,KAAK,CAAC5rB,EAA9D;AACA,iBAAK0rB,WAAL,CAAiB5iB,IAAjB,CAAsB,KAAK+iB,WAAL,KAAqB,CAAC,CAAtB,GAA0B,IAA1B,GAAiCD,KAAvD;AACD;;;iBAEM,SAAA1rB,MAAM;AACX,iBAAK6D,KAAL,GAAa,CAAC,KAAKA,KAAnB;AACD;;;;;;;;cAjBU0nB,e;AAAe,gB;AAAA;;;;;cAAfA,e;AAAe,8B;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCT5B,2pB;AAeA,qyF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cDNaA,e;AAAe;gBAN3B,uDAM2B;iBANjB;AACT1oB,oBAAQ,EAAE,YADD;AAETC,uBAAW,EAAE,yBAFJ;AAGTC,qBAAS,EAAE,CAAC,yBAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMiB,U;;;;;AACV6kB,gBAAM,EAAE,CAAF;kBAArB;AAAqB,WAAE,C;AACRD,qBAAW,EAAE,CAAF;kBAA1B;AAA0B,WAAE,C;AAEHH,qBAAW,EAAE,CAAF;kBAApC;AAAoC,WAAE;;;;;;;;;;;;;;;;;;;AEbzC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAaaK,yB;AAMX,2CACmBC,kBADnB,EAEmBC,YAFnB,EAGmB3b,YAHnB,EAG6C;AAAA;;AAF1B,eAAA0b,kBAAA,GAAAA,kBAAA;AACA,eAAAC,YAAA,GAAAA,YAAA;AACA,eAAA3b,YAAA,GAAAA,YAAA;AACf;;;;iBAEG,SAAAuQ,cAAc,CAACyB,MAAD,EAAiB/Q,IAAjB,EAA0B;AAC7C,iBAAK2a,WAAL,GAAmB3a,IAAnB;AACA,iBAAK4a,aAAL,GAAqB7J,MAArB;AACA,iBAAK7R,SAAL,CAAe1M,KAAf,GAAuB,IAAvB;AACA,iBAAK0M,SAAL,CAAeD,WAAf,GAA6B,KAA7B;AACD;;;iBAEM,SAAAuB,SAAS;AAAA;;AACd,mBAAO,KAAKka,YAAL,CAAkBG,eAAlB,CAAkC,KAAKD,aAAvC,EAAsD,KAAKD,WAA3D,EACJxqB,IADI,CACC,iEAAU,UAAC2qB,KAAD;AAAA,qBAAuB,OAAI,CAAC/b,YAAL,CAAkBO,MAAlB,CAAyBwb,KAAzB,CAAvB;AAAA,aAAV,CADD,CAAP;AAED;;;iBAEM,SAAAxb,MAAM,CAACyR,MAAD,EAAkB/Q,IAAlB,EAA4B;AACvC,mBAAO,KAAKya,kBAAL,CAAwBM,YAAxB,CAAqChK,MAArC,EAA6C/Q,IAA7C,CAAP;AACD;;;iBAEM,SAAAR,QAAQ;AACb,mBAAO,KAAKkb,YAAL,CAAkBM,cAAlB,CAAiC,KAAKJ,aAAtC,EAAqD,KAAKD,WAA1D,CAAP;AACD;;;;;;;;cA9BUH,yB;AAAyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAzBA,yB;AAAyB,oBAFxB;;;;;;;cAEDA,yB;AAAyB;gBAHrC,wDAGqC;iBAH1B;AACVrrB,sBAAU,EAAE;AADF,W;AAG0B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAUA,UAAM2K,mBAAmB,GAAG,eAA5B;;UAKamhB,oB;AACX,sCAA6BplB,GAA7B,EAA8C;AAAA;;AAAjB,eAAAA,GAAA,GAAAA,GAAA;AAAmB;;;;iBAEzC,SAAAM,IAAI,GAAyC;AAAA,gBAAxC+D,IAAwC,uEAAzB,CAAyB;AAAA,gBAAtBghB,KAAsB;AAClD,mBAAO,KAAKrlB,GAAL,CAASM,IAAT,WAAoD2D,mBAApD,0BAAyFI,IAAzF,oBAAyGghB,KAAzG,2BAAuI,IAAvI,CAAP;AACD;;;iBAEM,SAAAC,MAAM,CAAC1sB,EAAD,EAAW;AACtB,mBAAO,KAAKoH,GAAL,CAASG,KAAT,WAAmB8D,mBAAnB,oBAAkDrL,EAAlD,GAAyD,IAAzD,EAA+D,IAA/D,CAAP;AACD;;;iBAEM,SAAA2sB,KAAK,CAAC3sB,EAAD,EAAW;AACrB,mBAAO,KAAKoH,GAAL,CAASG,KAAT,WAAmB8D,mBAAnB,mBAAiDrL,EAAjD,GAAwD,IAAxD,EAA8D,IAA9D,CAAP;AACD;;;iBAEM,SAAA4sB,OAAO,CAACnhB,IAAD,EAAeohB,SAAf,EACC/R,KADD,EACiBvZ,KADjB,EAC+B;AAC3C,mBAAOA,KAAK,GACR,KAAK6F,GAAL,CAASM,IAAT,WAAoD2D,mBAApD,WACA,KADA,EACO;AAAEI,kBAAI,EAAJA,IAAF;AAAQohB,uBAAS,EAATA,SAAR;AAAmB/R,mBAAK,EAAEA,KAAK,GAAGA,KAAH,GAAW,SAA1C;AAAqDvZ,mBAAK,EAALA;AAArD,aADP,CADQ,GAGR,KAAK6F,GAAL,CAASM,IAAT,WAAoD2D,mBAApD,WACA,KADA,EACO;AAAEI,kBAAI,EAAJA,IAAF;AAAQohB,uBAAS,EAATA,SAAR;AAAmB/R,mBAAK,EAAEA,KAAK,GAAGA,KAAH,GAAW;AAA1C,aADP,CAHJ;AAKD;;;iBAEM,SAAAgS,YAAY,CAAC9sB,EAAD,EAAa0C,KAAb,EAAwB;AACzC,mBAAO,KAAK0E,GAAL,CAAS8E,IAAT,WAAmCb,mBAAnC,cAA4DrL,EAA5D,eAA2E,gGAAe0C,KAAf,CAA3E,CAAP;AACD;;;iBAEM,SAAA6E,KAAK,CAACgK,IAAD,EAAwB;AAClC,mBAAO,KAAKnK,GAAL,CAASG,KAAT,CAAkC8D,mBAAlC,EAAuDkG,IAAvD,CAAP;AACD;;;iBAEM,SAAArF,IAAI,CAAClM,EAAD,EAAauR,IAAb,EAAoC;AAC7C,mBAAO,KAAKnK,GAAL,CAAS8E,IAAT,WAAkBb,mBAAlB,cAA2CrL,EAA3C,GAAkDuR,IAAlD,CAAP;AACD;;;iBAEM,SAAAwb,QAAQ,CAAC/sB,EAAD,EAAW;AACxB,mBAAO,KAAKoH,GAAL,CAASM,IAAT,WAAqC2D,mBAArC,cAA8DrL,EAA9D,EAAP;AACD;;;iBAEM,SAAAoM,OAAO,CAACpM,EAAD,EAAW;AACvB,mBAAO,KAAKoH,GAAL,CAASgF,OAAT,WAAqBf,mBAArB,cAA8CrL,EAA9C,EAAP;AACD;;;;;;;;cA1CUwsB,oB;AAAoB;AAAA;AAAA,U;AAAA;;;;;;cAApBA,oB;AAAoB,oBAFnB;;;;;;;cAEDA,oB;AAAoB;gBAHhC,wDAGgC;iBAHrB;AACV9rB,sBAAU,EAAE;AADF,W;AAGqB,U;;;;;;;;;;;;;;;;;;;;;;;ACfjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMassB,e,6BAIX,yBAAkDC,UAAlD,EAAmE;AAAA;;AAAjB,aAAAA,UAAA,GAAAA,UAAA;AAChD,aAAK7oB,SAAL,GAAiB,KAAjB;AACA,aAAKmmB,QAAL,GAAgB,KAAhB;;AAEA,YAAI,0EAAkB,KAAK0C,UAAvB,CAAJ,EAAwC;AACtC,eAAK7oB,SAAL,GAAiB,IAAjB;AACD,SAFD,MAEO,IAAI,yEAAiB,KAAK6oB,UAAtB,CAAJ,EAAuC;AAC5C,eAAK1C,QAAL,GAAgB,IAAhB;AACD;AACF,O;;;;;;cAbUyC,e;AAAe;AAAA,iBAIN;AAJM,U;AAIK;;;;;;cAJpBA,e;AAAe,oBAFd;;;;;;;cAEDA,e;AAAe;gBAH3B,wDAG2B;iBAHhB;AACVtsB,sBAAU,EAAE;AADF,W;AAGgB,U;;;;;oBAIb,oD;qBAAO,yD;;;;;;;;;;;;;;;;;;;;;ACVtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AASA,UAAM2K,mBAAmB,GAAG,UAA5B;;UAKa6hB,e;AACX,iCACmB9lB,GADnB,EAEqBoE,KAFrB,EAEiC;AAAA;;AAAA;;AAE/B,uDAAMpE,GAAN,EAAWiE,mBAAX,EAAgCG,KAAhC;AAHiB,kBAAApE,GAAA,GAAAA,GAAA;AACE,kBAAAoE,KAAA,GAAAA,KAAA;AAAY;AAGhC;;;;;;iBAEM,SAAAY,OAAO,CAACpM,EAAD,EAAW;AACvB,mBAAO,KAAKoH,GAAL,CAASgF,OAAT,WAAqBf,mBAArB,cAA8CrL,EAA9C,EAAP;AACD;;;iBAEM,SAAAmM,UAAU,CAACnM,EAAD,EAAW;AAC1B,mBAAO,KAAKoH,GAAL,CAASM,IAAT,WAAsC2D,mBAAtC,cAA+DrL,EAA/D,aAAP;AACD;;;iBAEM,SAAA+sB,QAAQ,CAAC/sB,EAAD,EAAW;AACxB,mBAAO,KAAKoH,GAAL,CAASM,IAAT,WAAoC2D,mBAApC,cAA6DrL,EAA7D,EAAP;AACD;;;iBAEM,SAAAgM,UAAU,CAAChM,EAAD,EAAaiM,MAAb,EAA2B;AAC1C,mBAAO,KAAK7E,GAAL,CAAS8E,IAAT,WAAoCb,mBAApC,cAA6DrL,EAA7D,cAA2E;AAAEiM,oBAAM,EAANA;AAAF,aAA3E,CAAP;AACD;;;iBAEM,SAAAkhB,MAAM,CAACntB,EAAD,EAAaotB,KAAb,EAA2B;AACtC,mBAAO,KAAK9gB,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqBqtB,KAA5C,EAAmD,CAACD,KAApD,CAAP;AACD;;QA1BkC,qF;;;;;;cAAxBF,e;AAAe;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAfA,e;AAAe,oBAFd;;;;;;;cAEDA,e;AAAe;gBAH3B,wDAG2B;iBAHhB;AACVxsB,sBAAU,EAAE;AADF,W;AAGgB,U;;;;;;;;;;;;;;;;;;;;;;;;;ACZ5B;AAAA;;;AAAA;AAAA;AAAA;;UAAa4sB,a,6BAGT,uBAA4BC,SAA5B,EAA+DC,QAA/D,EAA6F;AAAA;;AAAjE,aAAAD,SAAA,GAAAA,SAAA;AAAmC,aAAAC,QAAA,GAAAA,QAAA;AAAgC,O;;AAF/E,oBAAAhY,IAAA,GAAO,8BAAP;;;;;;;;;;;;;;;;ACHpB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUaiY,W;AACX,6BACmBnqB,OADnB,EAC0C;AAAA;;AAAvB,eAAAA,OAAA,GAAAA,OAAA;AACf;;;;iBAEJ,SAAA+F,WAAW;AACT,mBAAO,KAAK/F,OAAL,CAAamC,KAAb,CAAmB/D,IAAnB,CACL,2DAAI,UAAC4H,IAAD;AAAA,qBAA0BA,IAAI,KAAK,IAAT,GAAgBA,IAAI,CAACoL,KAAL,CAAWgZ,OAAX,CAAmB,mBAAnB,MAA4C,CAAC,CAA7D,GAAiE,KAA3F;AAAA,aAAJ,CADK,CAAP;AAGD;;;;;;;;cATUD,W;AAAW;AAAA;AAAA,U;AAAA;;;;;;cAAXA,W;AAAW,oBAFV;;;;;;;cAEDA,W;AAAW;gBAHvB,wDAGuB;iBAHZ;AACV/sB,sBAAU,EAAE;AADF,W;AAGY,U;;;;;;;;;;;;;;;;;;;;;;;ACVxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQaitB,a,6BAGX,yBAAc;AAAA;;AAFE,aAAAC,MAAA,GAAS,IAAT;AAEA,O;;;;;;cAHLD,a;AAAa,gB;AAAA;;;;;cAAbA,a;AAAa,+B;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCR1B,uF;AAEM,y+vB;AAAA;;;;;;;cDMOA,a;AAAa;gBANzB,uDAMyB;iBANf;AACT5qB,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,uBAFJ;AAGTC,qBAAS,EAAE,CAAC,uBAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMe,U;;;;;AACR2mB,gBAAM;kBAArB;AAAqB;;;;;;;;;;;;;;;;;;;AEPxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAGO,UAAMC,SAAS,GAAgB,CACpC;AACEtrB,YAAI,EAAE,sBADR;AAEEunB,YAAI,EAAE,SAANA,IAAM,CAACpkB,CAAD,EAAyBC,CAAzB,EAAoD;AACxD,iBAAO,8EAAaD,CAAb,EAAgBC,CAAhB,KAAsB,6EAAYD,CAAZ,EAAeC,CAAf,CAA7B;AACD;AAJH,OADoC,EAOpC;AACEpD,YAAI,EAAE,iBADR;AAEEunB,YAAI,EAAE,SAANA,IAAM,CAACpkB,CAAD,EAAyBC,CAAzB,EAAoD;AACxD,iBAAO,6EAAYD,CAAZ,EAAeC,CAAf,KAAqB,8EAAaD,CAAb,EAAgBC,CAAhB,CAA5B;AACD;AAJH,OAPoC,CAA/B;;;;;;;;;;;;;;;;ACLP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAgBamoB,oB;AAMX,sCACmBC,eADnB,EAEmB1T,cAFnB,EAGmB2T,wBAHnB,EAIkBC,KAJlB,EAKkB1qB,UALlB,EAK+C;AAAA;;AAAA;;AAE7C;AANiB,kBAAAwqB,eAAA,GAAAA,eAAA;AACA,kBAAA1T,cAAA,GAAAA,cAAA;AACA,kBAAA2T,wBAAA,GAAAA,wBAAA;AACD,kBAAAC,KAAA,GAAAA,KAAA;AACA,kBAAA1qB,UAAA,GAAAA,UAAA;AAVX,kBAAA2qB,KAAA,GAAyB,EAAzB;AACA,kBAAAC,WAAA,GAAc,CAAC,CAAf;AACA,kBAAAlZ,UAAA,GAAa,CAAb;AACA,kBAAAmZ,SAAA,GAAY,KAAZ;AAOwC;AAG9C;;;;;;iBAED,SAAAjtB,QAAQ;AAAA;;AACN,iBAAKktB,aAAL;AACA,iBAAKL,wBAAL,CAA8B/tB,QAA9B,CAAuCyB,IAAvC,CAA4C,iEAAU,KAAKE,YAAf,CAA5C,EAA0EC,SAA1E,CAAoF,YAAM;AACxF,qBAAI,CAACqsB,KAAL,GAAa,EAAb;AACA,qBAAI,CAACC,WAAL,GAAmB,CAAC,CAApB;;AACA,qBAAI,CAACE,aAAL;AACD,aAJD;AAKD;;;iBAEM,SAAAA,aAAa;AAAA;;AAClB,gBAAI,CAAC,KAAKD,SAAN,IAAmB,KAAKD,WAAL,GAAmB,KAAKlZ,UAAL,GAAkB,CAA5D,EAA+D;AAC7D,mBAAKmZ,SAAL,GAAiB,IAAjB;AACA,mBAAKD,WAAL,IAAoB,CAApB;AACA,mBAAKJ,eAAL,CAAqBrmB,IAArB,CAA0B,KAAKymB,WAA/B,EAA4CzsB,IAA5C,CAAiD,iEAAU,KAAKE,YAAf,CAAjD,EAA+EC,SAA/E,CAAyF,UAAC2M,QAAD,EAA4C;AAAA;;AACnI,uBAAI,CAACyG,UAAL,GAAkBzG,QAAQ,CAACyG,UAA3B;;AACA,wCAAI,CAACiZ,KAAL,EAAWjsB,IAAX,yCAAmBuM,QAAQ,CAACtM,OAA5B;;AACA,uBAAI,CAACksB,SAAL,GAAiB,KAAjB;;AACA,uBAAI,CAACF,KAAL,CAAWpE,IAAX,CAAgB,UAACtkB,CAAD,EAAmB8oB,EAAnB;AAAA,yBAAyC,CAAC9oB,CAAC,CAAC+oB,KAAF,CAAQhT,GAAR,GAAc,CAAd,GAAkB,CAAC,CAApB,KAA0B+S,EAAE,CAACC,KAAH,CAAShT,GAAT,GAAe,CAAf,GAAmB,CAAC,CAA9C,CAAzC;AAAA,iBAAhB;;AACA,oBAAI,OAAI,CAAC4S,WAAL,GAAmB,OAAI,CAAClZ,UAA5B,EAAwC;AACtC,yBAAI,CAACoZ,aAAL;AACD;AACF,eARD;AASD;AACF;;;iBAEM,SAAAtuB,IAAI,CAACyX,IAAD,EAAoB;AAC7B,gBAAI,KAAK6C,cAAL,CAAoBxV,SAApB,CAA8BzE,KAAlC,EAAyC;AACvC,mBAAK2tB,eAAL,CAAqBS,UAArB,CAAgChX,IAAI,CAAC/U,IAAL,CAAUzC,EAA1C,EAA8C0B,IAA9C,CAAmD,iEAAU,KAAKE,YAAf,CAAnD,EAAiFC,SAAjF,CAA2F,YAAM;AAC/F2V,oBAAI,CAAC+W,KAAL,CAAWhT,GAAX,GAAiB,IAAjB;AACD,eAFD;AAGD;;AACD2D,kBAAM,CAACnf,IAAP,CAAYyX,IAAI,CAAClV,IAAL,CAAUmM,GAAtB,EAA2B,QAA3B;AACD;;;iBAEM,SAAAb,QAAQ,CAAC4J,IAAD,EAAoB;AAAA;;AACjC,iBAAKuW,eAAL,CAAqBrhB,SAArB,CAA+B8K,IAAI,CAAC/U,IAAL,CAAUzC,EAAzC,EAA6C0B,IAA7C,CAAkD,iEAAU,KAAKE,YAAf,CAAlD,EAAgFC,SAAhF,CAA0F,YAAM;AAC9F,qBAAI,CAACqsB,KAAL,CAAWO,MAAX,CAAkB,OAAI,CAACP,KAAL,CAAWR,OAAX,CAAmBlW,IAAnB,CAAlB,EAA4C,CAA5C;AACD,aAFD;AAGD;;QAtDuC,0F;;;;;;cAA7BsW,oB;AAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAApBA,oB;AAAoB,oC;AAAA,6B;AAAA,4D;AAAA,kBChBjC,knF;AA4CA,0vrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;;;;;;;cD5BaA,oB;AAAoB;gBALhC,uDAKgC;iBALtB;AACT/qB,oBAAQ,EAAE,kBADD;AAETC,uBAAW,EAAE,+BAFJ;AAGTC,qBAAS,EAAE,CAAC,+BAAD;AAHF,W;AAKsB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEhBjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQayrB,e,6BAGX,2BAAc;AAAA;AAAE,O;;;;;;cAHLA,e;AAAe,gB;AAAA;;;;;cAAfA,e;AAAe,iC;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCR5B,qK;AAEA,270N;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDMaA,e;AAAe;gBAL3B,uDAK2B;iBALjB;AACT3rB,oBAAQ,EAAE,eADD;AAETC,uBAAW,EAAE,yBAFJ;AAGTC,qBAAS,EAAE,CAAC,yBAAD;AAHF,W;AAKiB,U;;;;;AACV0H,iBAAO,EAAE,CAAF;kBAAtB;AAAsB,WAAE;;;;;;;;;;;;;;;;;;;AET3B;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYgkB,oBAAZ;;AAAA,iBAAYA,oBAAZ,EAAgC;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,OAfD,EAAYA,oBAAoB,KAApBA,oBAAoB,MAAhC;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAAO,UAAMC,aAAa,GAAG,SAAtB;AACA,UAAMC,mBAAmB,GAAG,eAA5B;AACA,UAAMC,oBAAoB,GAAG,gBAA7B;AACA,UAAMC,uBAAuB,GAAG,yBAAhC;AAEA,UAAMC,cAAc,GAAG,gBAAvB;AACA,UAAMC,WAAW,GAAG,aAApB;;;;;;;;;;;;;;;;ACNP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUaC,c;AACX,gCACmB5rB,OADnB,EAC0C;AAAA;;AAAvB,eAAAA,OAAA,GAAAA,OAAA;AACf;;;;iBAEJ,SAAA+F,WAAW;AACV,mBAAO,KAAK/F,OAAL,CAAamC,KAAb,CAAmB/D,IAAnB,CACL,2DAAI,UAAC4H,IAAD;AAAA,qBAA0BA,IAAI,KAAK,IAAT,GAAgBA,IAAI,CAACoL,KAAL,CAAWgZ,OAAX,CAAmB,gBAAnB,MAAyC,CAAC,CAA1D,GAA8D,KAAxF;AAAA,aAAJ,CADK,CAAP;AAEA;;;;;;;;cARUwB,c;AAAc;AAAA;AAAA,U;AAAA;;;;;;cAAdA,c;AAAc,oBAFb;;;;;;;cAEDA,c;AAAc;gBAH1B,wDAG0B;iBAHf;AACVxuB,sBAAU,EAAE;AADF,W;AAGe,U;;;;;;;;;;;;;;;;;;;;;;;ACV3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAYayuB,sB;AAeX,wCACmBC,oBADnB,EAEmBxI,gBAFnB,EAGkBjjB,eAHlB,EAIS+L,EAJT,EAIuB;AAAA;;AAHJ,eAAA0f,oBAAA,GAAAA,oBAAA;AACA,eAAAxI,gBAAA,GAAAA,gBAAA;AACD,eAAAjjB,eAAA,GAAAA,eAAA;AACT,eAAA+L,EAAA,GAAAA,EAAA;AAhBO,eAAA1P,EAAA,GAAK,mBAAL;AAEA,eAAAqvB,QAAA,GAAW,KAAX;AAEU,eAAAvnB,WAAA,GAAoC,IAAI,0DAAJ,EAApC;AAInB,eAAAwnB,MAAA,GAA2B,IAA3B;AACA,eAAAC,KAAA,GAAQ,KAAR;AACA,eAAAC,YAAA,GAAe,EAAf;;AAQL,cAAI,KAAK7rB,eAAL,CAAqBS,SAAzB,EAAoC;AAClC,gBAAMqrB,aAAa,GAAG,mBAAO;AAAC;AAAA,kBAAD,CAA7B;;AACA,iBAAKC,MAAL,GAAcD,aAAd;AACA,iBAAKH,MAAL,GAAc;AACZK,qBAAO,EAAE,6DADG;AAEZlmB,qBAAO,EAAE;AACPmmB,uBAAO,EAAE,CACP;AAAEC,uBAAK,EAAE,WAAT;AAAsB/sB,uBAAK,EAAE,KAAK8jB,gBAAL,CAAsBnP,OAAtB,CAA8B,aAA9B,CAA7B;AAA2E,2BAAO;AAAlF,iBADO,EAEP;AAAEoY,uBAAK,EAAE,UAAT;AAAqBC,sBAAI,EAAE,IAA3B;AAAiChtB,uBAAK,EAAE,IAAxC;AAA8C,2BAAO;AAArD,iBAFO,EAGP;AAAE+sB,uBAAK,EAAE,UAAT;AAAqBC,sBAAI,EAAE,IAA3B;AAAiChtB,uBAAK,EAAE,IAAxC;AAA8C,2BAAO;AAArD,iBAHO;AADF,eAFG;AASZitB,sBAAQ,EAAG,KAAKnJ,gBAAL,CAAsBoJ,WATrB;AAUZC,kBAAI,EAAE;AAAEC,wCAAwB,EAAE;AAA5B;AAVM,aAAd;AAYD;AACF;;;;iBAED,SAAA/uB,QAAQ;AACN,gBAAI,KAAKwC,eAAL,CAAqBS,SAArB,IAAkC,KAAKirB,QAA3C,EAAqD;AACnD,kBAAMc,MAAM,GAAG,mBAAO;AAAC;AAAA,oBAAD,CAAtB;;AACA,mBAAKX,YAAL,GAAoBW,MAAM,CAACC,UAAP,CAAkB,KAAKC,WAAvB,EAAoC;AAAEC,0BAAU,EAAE;AAAd,eAApC,CAApB;AACD;AACF;;;iBAEM,SAAA9J,QAAQ,QAAwB;AAAA,gBAArBkJ,MAAqB,SAArBA,MAAqB;;AACrC,gBAAI,KAAKH,KAAT,EAAgB;AACd,mBAAKznB,WAAL,CAAiBgB,IAAjB,CAAsB4mB,MAAM,CAACrR,OAAP,EAAtB;AACD;AACF;;;iBAEM,SAAAkS,OAAO,CAACb,MAAD,EAAyB;AAAA;;AACrC,iBAAKc,eAAL,GAAuBd,MAAvB;AACAA,kBAAM,CAACpV,OAAP,CAAe,KAAK+V,WAAL,IAAoB,EAAnC;AACA,gBAAMI,gBAAgB,GAAS1rB,QAAQ,CAAC2rB,aAAT,YAA2B,KAAK1wB,EAAhC,EAA/B;;AACA0vB,kBAAM,CAACiB,OAAP,CAAepH,GAAf,CAAmB,gBAAnB,EAAqCqH,mBAArC,GAA2D,UAAC1iB,MAAD;AAAA,qBAAiB,OAAI,CAACkhB,oBAAL,CAA0BnhB,qBAA1B,CAAgDC,MAAhD,CAAjB;AAAA,aAA3D;;AACA,gBAAI,CAAC,KAAKmhB,QAAV,EAAoB;AAClBoB,8BAAgB,CAAC9O,WAAjB,CAA6B+N,MAAM,CAACmB,EAAP,CAAUf,IAAV,CAAeH,OAAf,CAAuBzgB,OAApD;AACD;;AACD4hB,sBAAU,CAAC;AAAA,qBAAO,OAAI,CAACvB,KAAL,GAAa,IAApB;AAAA,aAAD,EAA4B,CAA5B,CAAV;AACD;;;iBAEM,SAAAwB,QAAQ,CAAC5jB,IAAD,EAAa;AAC1B,iBAAKqjB,eAAL,CAAqBlW,OAArB,CAA6BnN,IAA7B;AACD;;;iBAEM,SAAA3G,KAAK;AACV,iBAAKkf,SAAL,CAAesL,cAAf,CAA8BC,OAA9B,CAAsCnB,IAAtC,CAA2CtpB,KAA3C;AACD;;;iBAEM,SAAAsC,IAAI,CAACooB,SAAD,EAAkB;AAC3B,iBAAKxhB,EAAL,CAAQvK,aAAR,CAAsBgsB,aAAtB,CAAoC,IAAIC,KAAJ,CAAUF,SAAV,EAAqB;AAAEG,qBAAO,EAAE;AAAX,aAArB,CAApC;AACD;;;;;;;;cAzEUlC,sB;AAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAtBA,sB;AAAsB,sC;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,4D;AAAA,kBCZnC,+gB;AAeA,kv7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;cDHaA,sB;AAAsB;gBALlC,uDAKkC;iBALxB;AACTpsB,oBAAQ,EAAE,oBADD;AAETC,uBAAW,EAAE,iCAFJ;AAGTC,qBAAS,EAAE,CAAC,iCAAD;AAHF,W;AAKwB,U;;;;;;;;;;;;;AACFyiB,mBAAS,EAAE,CAAF;kBAAvC,uDAAuC;mBAA7B,U;AAA6B,WAAE,C;AAE1B1lB,YAAE;kBAAjB;AAAiB,Y;AACFqwB,qBAAW,EAAE,CAAF;kBAA1B;AAA0B,WAAE,C;AACbhB,kBAAQ;kBAAvB;AAAuB,Y;AAEEvnB,qBAAW,EAAE,CAAF;kBAApC;AAAoC,WAAE;;;;;;;;;;;;;;;;;;;AEnBzC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMawpB,iB,6BACX,2BAAmBnR,WAAnB,EAAkD;AAAA;;AAA/B,aAAAA,WAAA,GAAAA,WAAA;AAAiC,O;;;;;;cADzCmR,iB;AAAiB;AAAA;AAAA,U;AAAA;;;;;cAAjBA,iB;AAAiB,iC;AAAA,8B;AAAA;;;;;;;cAAjBA,iB;AAAiB;gBAJ7B,uDAI6B;iBAJnB;AACTvuB,oBAAQ,EAAE,eADD;AAETwuB,oBAAQ,EAAE;AAFD,W;AAImB,U;;;;;;;;;;;;;;;;;;;;;;;ACJ9B;AAAA;;;AAAA;AAAA;AAAA;;AAAO,eAASC,YAAT,CAAyCpI,GAAzC,EAAsD;AAC3D,eAAO,UAAC1jB,CAAD,EAAOC,CAAP,EAAgB;AACrB,cAAM8rB,MAAM,GAAGrI,GAAG,CAACsE,OAAJ,CAAYhoB,CAAC,CAACjD,IAAF,CAAOzC,EAAnB,CAAf;AACA,cAAM0xB,MAAM,GAAGtI,GAAG,CAACsE,OAAJ,CAAY/nB,CAAC,CAAClD,IAAF,CAAOzC,EAAnB,CAAf;AACA,cAAIiB,MAAM,GAAG,CAAb;;AACA,cAAIwwB,MAAM,GAAGC,MAAb,EAAqB;AACnBzwB,kBAAM,GAAG,CAAC,CAAV;AACD,WAFD,MAEO,IAAIwwB,MAAM,GAAGC,MAAb,EAAqB;AAC1BzwB,kBAAM,GAAG,CAAT;AACD;;AACD,iBAAOA,MAAP;AACD,SAVD;AAWD;;;;;;;;;;;;;;;;;ACdD;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAoBa0wB,yB;AAQX,2CACmBtF,KADnB,EAEmBuF,IAFnB,EAGmBpuB,oBAHnB,EAImBG,eAJnB,EAImD;AAAA;;AAHhC,eAAA0oB,KAAA,GAAAA,KAAA;AACA,eAAAuF,IAAA,GAAAA,IAAA;AACA,eAAApuB,oBAAA,GAAAA,oBAAA;AACA,eAAAG,eAAA,GAAAA,eAAA;AAXX,eAAAkuB,MAAA,GAAuB,IAAvB;AAEQ,eAAAC,oBAAA,GAAgD,IAAI,oDAAJ,CAA4B,CAA5B,CAAhD;AACA,eAAAxtB,cAAA,GAAmD,IAAI,oDAAJ,CAAqC,EAArC,CAAnD;AAET,eAAAytB,SAAA,GAAY,EAAZ;AAQL,eAAKF,MAAL,GAAc,qDAAMA,MAAN,iBAAuB,iDAAY7U,UAAnC,SAAd;AACD;;;;iBAEM,SAAApX,kBAAkB,CAACiG,MAAD,EAAe;AAAA;;AACtC,iBAAKjH,MAAL;;AACA,iBAAKitB,MAAL,CAAYG,gBAAZ,GAA+B,YAAM;AACnClB,wBAAU,CAAC,YAAM;AACf,uBAAI,CAACmB,OAAL,CAAapmB,MAAb;AACD,eAFS,EAEP,IAFO,CAAV;AAGD,aAJD;;AAKA,iBAAKomB,OAAL,CAAapmB,MAAb;AACD;;;iBAEO,SAAAomB,OAAO,CAACpmB,MAAD,EAAe;AAAA;;AAC5B,gBAAI,KAAKwgB,KAAL,CAAWjC,MAAX,IAAqB,KAAKiC,KAAL,CAAWhC,OAAhC,IAA2C,KAAK1mB,eAAL,CAAqBS,SAApE,EAA+E;AAC7E,kBAAI8tB,MAAM,GAAkB;AAAEC,6BAAa,mBAAY,KAAK9F,KAAL,CAAWjC,MAAvB;AAAf,eAA5B;AACA,mBAAK2H,SAAL,GAAiB,KAAK1F,KAAL,CAAWjC,MAA5B;AACA,mBAAKyH,MAAL,CAAYI,OAAZ,CACEC,MADF,EAEE,YAAM;AACJ,uBAAI,CAACL,MAAL,CAAYhwB,SAAZ,iBACYgK,MADZ,mBAEE,UAACrG,CAAD,EAAiB;AACf,yBAAI,CAAChC,oBAAL,CAA0B4uB,YAA1B,GAAyCvwB,SAAzC,CAAmD,UAACmT,KAAD,EAAmB;AACpE,2BAAI,CAAC8c,oBAAL,CAA0B3xB,IAA1B,CAA+B6U,KAA/B;AACD,mBAFD;;AAGA,sBAAMqd,IAAI,GAAoB,OAAI,CAAC/tB,cAAL,CAAoBlE,KAAlD;AACAiyB,sBAAI,CAACC,OAAL,CAAajL,IAAI,CAACC,KAAL,CAAW9hB,CAAC,CAAC+L,IAAb,CAAb;;AACA,yBAAI,CAACjN,cAAL,CAAoBnE,IAApB,CAAyBkyB,IAAzB;AACD,iBATH,EAUEH,MAVF;AAYD,eAfH,EAgBE,YAAM;AACJ,uBAAI,CAACN,IAAL,CACGW,IADH,WACY,iDAAYxV,MADxB,oBACgD;AAC5CyV,8BAAY,EAAE,OAAI,CAACnG,KAAL,CAAWhC;AADmB,iBADhD,EAIGxoB,SAJH,CAIa;AACT2H,uBAAK,EAAE,SAAPA,KAAO,GAAM;AACX,2BAAI,CAAC6iB,KAAL,CAAWnG,KAAX;AACD,mBAHQ;AAIT/lB,sBAAI,EAAE,SAANA,IAAM,CAAC2Q,MAAD,EAAwB;AAC5B,2BAAI,CAACub,KAAL,CAAWjB,IAAX,CAAgBta,MAAhB;;AACAohB,0BAAM,GAAG;AAAEC,mCAAa,mBAAa,OAAI,CAAC9F,KAAL,CAAWjC,MAAxB;AAAf,qBAAT;AACA,2BAAI,CAAC2H,SAAL,GAAiB,OAAI,CAAC1F,KAAL,CAAWjC,MAA5B;;AACA,2BAAI,CAAC6H,OAAL,CAAapmB,MAAb;AACD;AATQ,iBAJb;AAeD,eAhCH;AAkCD;AACF;;;iBAEM,SAAAhG,UAAU;AACf,iBAAKgsB,MAAL,CAAYhsB,UAAZ,CAAuB,YAAM,CAAE,CAA/B,EAAiC;AAAEssB,2BAAa,mBAAa,KAAKJ,SAAlB;AAAf,aAAjC;AACA,iBAAK7L,KAAL;AACD;;;iBAEM,SAAAthB,MAAM;AAAA;;AACX,iBAAKpB,oBAAL,CAA0BkE,IAA1B,CAA+B,CAA/B,EAAkC7F,SAAlC,CAA4C,UAAC2D,CAAD,EAAqC;AAC/E,qBAAI,CAAClB,cAAL,CAAoBnE,IAApB,CAAyBqF,CAAC,CAACtD,OAA3B;AACD,aAFD;AAGA,iBAAKuwB,WAAL;AACD;;;iBAEM,SAAAA,WAAW;AAAA;;AAChB,iBAAKjvB,oBAAL,CAA0B4uB,YAA1B,GAAyCvwB,SAAzC,CAAmD,UAAC2D,CAAD,EAAe;AAChE,qBAAI,CAACssB,oBAAL,CAA0B3xB,IAA1B,CAA+BqF,CAA/B;AACD,aAFD;AAGD;;;iBAEM,SAAAktB,GAAG,CAACxE,KAAD,EAAuB;AAC/B,gBAAMmE,IAAI,GAAoB,KAAK/tB,cAAL,CAAoBlE,KAAlD;AACAiyB,gBAAI,CAACpwB,IAAL,OAAAowB,IAAI,qBAASnE,KAAT,EAAJ;AACA,iBAAK5pB,cAAL,CAAoBnE,IAApB,CAAyBkyB,IAAzB;AACD;;;iBAEM,SAAAnM,KAAK;AACV,iBAAK5hB,cAAL,CAAoBnE,IAApB,CAAyB,EAAzB;AACA,iBAAK2xB,oBAAL,CAA0B3xB,IAA1B,CAA+B,CAA/B;AACD;;;;;;;;cA/FUwxB,yB;AAAyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAzBA,yB;AAAyB,oBAFxB;;;;;;;cAEDA,yB;AAAyB;gBAHrC,wDAGqC;iBAH1B;AACVjxB,sBAAU,EAAE;AADF,W;AAG0B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAWaiyB,mB;AAcX,qCAA6BhvB,eAA7B,EAA+D;AAAA;;AAAA;;AAC7D;AAD2B,kBAAAA,eAAA,GAAAA,eAAA;AAbb,kBAAA8H,IAAA,GAAO,CAAP;AAGA,kBAAAmnB,aAAA,GAAgB,IAAhB;AACA,kBAAAC,QAAA,GAAwC,IAAxC,CAS+C,CAP/D;;AAC0B,kBAAAC,MAAA,GAA+B,IAAI,0DAAJ,EAA/B;AACA,kBAAAC,aAAA,GAAoC,IAAI,0DAAJ,EAApC;AAKqC;AAE9D;;;;;;iBAED,SAAA5xB,QAAQ;AAAA;;AACN,gBAAI,KAAKwC,eAAL,CAAqBS,SAAzB,EAAoC;AAClC0sB,wBAAU,CAAC,YAAM;AACf,oBAAI,OAAI,CAAC8B,aAAT,EAAwB;AACtB,sBAAI,OAAI,CAACC,QAAT,EAAmB;AACjB,2BAAI,CAACA,QAAL,CAAcG,KAAd;AACD,mBAFD,MAEO;AACL,2BAAI,CAACF,MAAL,CAAYhqB,IAAZ,CAAiB,OAAI,CAAC2C,IAAtB;AACD;AACF;;AACD,uBAAI,CAACwnB,kBAAL;AACD,eATS,CAAV;AAUD;AACF;;;iBAEO,SAAAA,kBAAkB;AAAA;;AACxB,iBAAKC,aAAL,GAAqB,IAAI,kFAAJ,EAArB;AACA,iBAAKA,aAAL,CAAmBC,OAAnB,CAA2BzxB,IAA3B,CAAgC,iEAAU,KAAKE,YAAf,CAAhC,EAA8DC,SAA9D,CAAwE;AAAA,qBAAM,OAAI,CAACuxB,QAAL,EAAN;AAAA,aAAxE;AACD;;;iBAEO,SAAAA,QAAQ;AACd,gBAAI,KAAKP,QAAT,EAAmB;AACjB,kBAAI,KAAKA,QAAL,CAAcpnB,IAAd,IAAsB,KAAKonB,QAAL,CAAc5d,UAAd,GAA2B,CAArD,EAAwD;AACtD,qBAAK8d,aAAL,CAAmBjqB,IAAnB;AACD;;AACD,mBAAK+pB,QAAL,CAAcG,KAAd;AACD,aALD,MAKO,IAAI,KAAKK,OAAT,EAAkB;AACvB,kBAAI,KAAK5nB,IAAL,GAAY,KAAK6nB,QAArB,EAA+B;AAC7B,qBAAK7nB,IAAL;AACA,qBAAKqnB,MAAL,CAAYhqB,IAAZ,CAAiB,KAAK2C,IAAtB;AACD,eAHD,MAGO;AACL,qBAAKsnB,aAAL,CAAmBjqB,IAAnB;AACD;AACF;AACF;;QApDsC,0F;;;;;;cAA5B6pB,mB;AAAmB;AAAA;AAAA,U;AAAA;;;;;cAAnBA,mB;AAAmB,kC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBAFpB,E;AAAE;;;;;;;cAEDA,mB;AAAmB;gBAJ/B,uDAI+B;iBAJrB;AACT5vB,oBAAQ,EAAE,gBADD;AAET0Q,oBAAQ,EAAE;AAFD,W;AAIqB,U;;;;;;;AACdhI,cAAI;kBAAnB;AAAmB,Y;AACJ4nB,iBAAO,EAAE,CAAF;kBAAtB;AAAsB,WAAE,C;AACTC,kBAAQ,EAAE,CAAF;kBAAvB;AAAuB,WAAE,C;AACVV,uBAAa;kBAA5B;AAA4B,Y;AACbC,kBAAQ,EAAE,CAAF;kBAAvB;AAAuB,WAAE,C;AAGAC,gBAAM,EAAE,CAAF;kBAA/B;AAA+B,WAAE,C;AACRC,uBAAa,EAAE,CAAF;kBAAtC;AAAsC,WAAE;;;;;;;;;;;;;;;;;;;ACpB3C;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAMQ,QAAQ,GAAG,OAAOC,IAAP,KAAgB,WAAhB,GAA+B,UAACC,GAAD;AAAA,eAAiBC,MAAM,CAACC,IAAP,CAAYF,GAAZ,EAAiB,QAAjB,EAA2BG,QAA3B,CAAoC,QAApC,CAAjB;AAAA,OAA/B,GAAiGJ,IAAlH;;UAEaK,G;AAkBT,qBAAY1mB,IAAZ,EAAsD;AAAA,cAA5B2mB,UAA4B,uEAAN,IAAM;;AAAA;;AAClD,cAAIA,UAAJ,EAAgB;AACZ,gBAAMC,UAAU,GAAG5mB,IAAI,CAAC6S,OAAL,CAAa,IAAb,EAAmB,GAAnB,EAAwBA,OAAxB,CAAgC,GAAhC,EAAqC,GAArC,EAA0CoE,KAA1C,CAAgD,GAAhD,CAAnB;AACA,iBAAK4P,OAAL,GAAe3M,IAAI,CAACC,KAAL,CAAWnD,kBAAkB,CAAC8P,MAAM,CAACV,QAAQ,CAACQ,UAAU,CAAC,CAAD,CAAX,CAAT,CAAP,CAA7B,CAAf;AACA,iBAAKG,KAAL,GAAa7M,IAAI,CAACC,KAAL,CAAWnD,kBAAkB,CAAC8P,MAAM,CAACV,QAAQ,CAACQ,UAAU,CAAC,CAAD,CAAX,CAAT,CAAP,CAA7B,CAAb;AACH,WAJD,MAIO;AACH,iBAAKG,KAAL,GAAa7M,IAAI,CAACC,KAAL,CAAWnD,kBAAkB,CAAC8P,MAAM,CAACV,QAAQ,CAACpmB,IAAD,CAAT,CAAP,CAA7B,CAAb;AACH;AACJ,S,CAtBD;;;;;eAEA,eAAkB;AACd,mBAAOsd,IAAI,CAACC,GAAL,KAAa,IAAb,GAAoB,KAAKvd,IAAL,CAAUwd,GAArC;AACH;;;eAED,eAAiB;AACb,mBAAO,KAAKqJ,OAAZ;AACH;;;eAED,eAAe;AACX,mBAAO,KAAKE,KAAZ;AACH;;;;;;;;;;;;;;;;;;;AClBL;AAAA;;;AAAA;AAAA;AAAA;;UAAaC,G;;;;;;;iBACJ,SAAO3P,QAAP,CAA6E5J,CAA7E,EAAiF;AACtF,mBAAOA,CAAP;AACD;;;;;;;;;;;;;;;;;;;ACHH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUawZ,e;AAKX,iCACmBC,kBADnB,EAEmBha,cAFnB,EAGmBhX,mBAHnB,EAG2D;AAAA;;AAFxC,eAAAgxB,kBAAA,GAAAA,kBAAA;AACA,eAAAha,cAAA,GAAAA,cAAA;AACA,eAAAhX,mBAAA,GAAAA,mBAAA;AALA,eAAAyW,MAAA,GAA6B,IAAI,0DAAJ,EAA7B;AAMf;;;;iBAE0B,SAAAwa,OAAO;AAAA;;AACnC,gBAAI,KAAKja,cAAL,CAAoBxV,SAApB,CAA8BzE,KAAlC,EAAyC;AACvC,mBAAKi0B,kBAAL,CAAwBn0B,MAAxB,CAA+B,KAAKyZ,MAApC;AACA,kBAAM3V,GAAG,GAAQ,KAAKqwB,kBAAL,CAAwBxa,SAAxB,GAAoChY,SAApC,CAA8C,UAAC2D,CAAD,EAAgB;AAC7E,oBAAIA,CAAJ,EAAO;AACL,yBAAI,CAACsU,MAAL,CAAY3Z,IAAZ;;AACA6D,qBAAG,CAAC+B,WAAJ;AACD;AACF,eALgB,CAAjB;AAMD,aARD,MAQO;AACL,mBAAK1C,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACD;AACF;;;;;;;;cAvBUsvB,e;AAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAfA,e;AAAe,+B;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cAAfA,e;AAAe;gBAH3B,uDAG2B;iBAHjB;AACTrxB,oBAAQ,EAAE;AADD,W;AAGiB,U;;;;;;;;;;;AACV4W,gBAAM,EAAE,CAAF;kBAArB;AAAqB,WAAE,C;AAELG,gBAAM,EAAE,CAAF;kBAAxB;AAAwB,WAAE,C;AAQGwa,iBAAO;kBAApC,0DAAoC;mBAAvB,O;AAAuB;;;;;;;;;;;;;;;;;;;ACrBvC;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYC,aAAZ;;AAAA,iBAAYA,aAAZ,EAAyB;AACrB;AACA;AACA;AACA;AACA;AACH,OAND,EAAYA,aAAa,KAAbA,aAAa,MAAzB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASaC,iB;AAOX,mCAA6BC,eAA7B,EAA+D;AAAA;;AAAlC,eAAAA,eAAA,GAAAA,eAAA;AAJb,eAAAC,QAAA,GAAW,SAAX;AAET,eAAAtb,KAAA,GAAQ;AAAErV,iBAAK,EAAE;AAAT,WAAR;AAE0D;;;;iBAE1D,SAAAhD,KAAK;AACV,iBAAK0zB,eAAL,CAAqB1zB,KAArB;AACD;;;iBAEM,SAAAb,MAAM,CAAC+E,KAAD,EAAkB;AAC7BA,iBAAK,CAACkK,eAAN;AACA,iBAAKslB,eAAL,CAAqB10B,IAArB,CAA0B,KAAK40B,QAAL,CAAcxU,WAAxC,EAAqDlb,KAArD;AACD;;;;;;;;cAhBUuvB,iB;AAAiB;AAAA;AAAA,U;AAAA;;;;;cAAjBA,iB;AAAiB,iC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,4D;AAAA,kBCT9B,yO;AAMA,wrvB;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;cDGaA,iB;AAAiB;gBAL7B,uDAK6B;iBALnB;AACTzxB,oBAAQ,EAAE,eADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTC,qBAAS,EAAE,CAAC,4BAAD;AAHF,W;AAKmB,U;;;;;;;AACgB0xB,kBAAQ,EAAE,CAAF;kBAAnD,uDAAmD;mBAAzC,M,EAAQ;AAAE,wBAAQ;AAAV,a;AAAiC,WAAE,C;AAEtCD,kBAAQ;kBAAvB;AAAuB;;;;;;;;;;;;;;;;;;;AEZ1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAWaE,iB;AAWX,mCAA6BjP,UAA7B,EAAqD;AAAA;;AAAA;;AACnD;AAD2B,kBAAAA,UAAA,GAAAA,UAAA;AARa,kBAAAkP,oBAAA,GAAuB,IAAvB;AACJ,kBAAAC,gBAAA,GAAmB,IAAnB;AAEtB,kBAAAJ,QAAA,GAAW,SAAX;AAEA,kBAAAtb,KAAA,GAAoB;AAAErV,iBAAK,EAAE,IAAI,oDAAJ,CAA6B,KAA7B,CAAT;AAA8CC,eAAG,EAAE;AAAnD,WAApB;AACA,kBAAAD,KAAA,GAAkC,QAAKqV,KAAL,CAAWrV,KAA7C;AAEqC;AAEpD;;;;;;iBAED,SAAA6hB,eAAe;AAAA;;AACb,gBAAMmP,SAAS,GAAkBrc,KAAK,CAACib,IAAN,CAAW,KAAKhO,UAAL,CAAgBxgB,aAAhB,CAA8B6vB,gBAA9B,CAA+C,uBAA/C,CAAX,CAAjC;AACAD,qBAAS,CAACtgB,OAAV,CAAkB,UAAC+C,IAAD;AAAA,qBAAuBA,IAAI,CAACxS,gBAAL,CAAsB,OAAtB,EAA+B,OAAI,CAAC9E,MAAL,CAAY+0B,IAAZ,CAAiB,OAAjB,CAA/B,CAAvB;AAAA,aAAlB;AACD;;;iBAEM,SAAA/0B,MAAM,CAAC+E,KAAD,EAAkB;AAAA;;AAC7BA,iBAAK,CAACkK,eAAN;;AACA,gBAAI,KAAKiK,KAAL,CAAWrV,KAAX,YAA4B,oDAAhC,EAAiD;AAC/C,kBAAI,KAAKqV,KAAL,CAAWrV,KAAX,CAAiB3D,KAArB,EAA4B;AAC1B,qBAAKgZ,KAAL,CAAWpV,GAAX,CAAe+B,WAAf;AACA,qBAAKqT,KAAL,CAAWrV,KAAX,CAAiB5D,IAAjB,CAAsB,KAAtB;AACD,eAHD,MAGO;AACL,qBAAKiZ,KAAL,CAAWrV,KAAX,CAAiB5D,IAAjB,CAAsB,IAAtB;AACA2wB,0BAAU,CAAC,YAAM;AACf,yBAAI,CAAC1X,KAAL,CAAWpV,GAAX,GAAiB,uDAAUe,QAAV,EAAoB,OAApB,EAA6B;AAC5CkK,2BAAO,EAAE;AADmC,mBAA7B,EAEdvN,IAFc,CAET,iEAAU,OAAI,CAACE,YAAf,CAFS,EAEqBC,SAFrB,CAE+B,UAACoE,CAAD,EAAmB;AACjE,wBAAI,CAAC,OAAI,CAACivB,QAAL,CAAc/vB,aAAd,CAA4BC,QAA5B,CAAqCa,CAAC,CAACZ,MAAvC,CAAL,EAAqD;AACnDW,2CAAqB,CAAC,YAAM;AAC1B,+BAAI,CAACoT,KAAL,CAAWpV,GAAX,CAAe+B,WAAf;;AACA,4BAAI,OAAI,CAACqT,KAAL,CAAWrV,KAAX,YAA4B,oDAAhC,EAAiD;AAC/C,iCAAI,CAACqV,KAAL,CAAWrV,KAAX,CAAiB5D,IAAjB,CAAsB,KAAtB;AACD;AACF,uBALoB,CAArB;AAMD;AACF,mBAXgB,CAAjB;AAYD,iBAbS,EAaP,CAbO,CAAV;AAcD;AACF;AACF;;QA5CoC,0F;;;;;;cAA1By0B,iB;AAAiB;AAAA;AAAA,U;AAAA;;;;;cAAjBA,iB;AAAiB,oC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,6B;AAAA,4D;AAAA,kBCX9B,iT;AAMA,+rzB;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDKaA,iB;AAAiB;gBAL7B,uDAK6B;iBALnB;AACT7xB,oBAAQ,EAAE,kBADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTC,qBAAS,EAAE,CAAC,4BAAD;AAHF,W;AAKmB,U;;;;;;;AACsBiyB,kBAAQ,EAAE,CAAF;kBAAzD,uDAAyD;mBAA/C,U,EAAY;AAAE,wBAAQ;AAAV,a;AAAmC,WAAE,C;AAElBL,8BAAoB;kBAA7D,yDAA6D;mBAAjD,oB;AAAiD,Y;AACxBC,0BAAgB;kBAArD,yDAAqD;mBAAzC,gB;AAAyC,Y;AAEtCJ,kBAAQ;kBAAvB;AAAuB;;;;;;;;;;;;;;;;;;;AEjB1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASaS,gB;AAMX,oCAAc;AAAA;;AAFY,eAAAC,YAAA,GAA0C,IAAI,0DAAJ,EAA1C;AAEV;;;;iBAET,SAAAC,YAAY,CAAC7wB,MAAD,EAAoB;AACrC,gBAAIA,MAAM,CAACxE,EAAP,KAAc,KAAKs1B,YAAvB,EAAqC;AACnC,mBAAKA,YAAL,GAAoB,CAAC,CAArB;AACD,aAFD,MAEO;AACL,mBAAKA,YAAL,GAAoB9wB,MAAM,CAACxE,EAA3B;AACD;;AACD,iBAAKo1B,YAAL,CAAkBtsB,IAAlB,CAAuB,KAAKwsB,YAAL,KAAsB,CAAC,CAAvB,GAA2B,IAA3B,GAAkC9wB,MAAzD;AACD;;;;;;;;cAfU2wB,gB;AAAgB,gB;AAAA;;;;;cAAhBA,gB;AAAgB,+B;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCT7B,4P;AAOK,+6E;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;;cDEQA,gB;AAAgB;gBAN5B,uDAM4B;iBANlB;AACTpyB,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,0BAFJ;AAGTC,qBAAS,EAAE,CAAC,0BAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMkB,U;;;;;AACXsuB,iBAAO,EAAE,CAAF;kBAAtB;AAAsB,WAAE,C;AACTD,sBAAY,EAAE,CAAF;kBAA3B;AAA2B,WAAE,C;AAEJF,sBAAY,EAAE,CAAF;kBAArC;AAAqC,WAAE;;;;;;;;;;;;;;;;;;;AEb1C;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASaI,sB;AAGX,wCACmB7xB,eADnB,EACmD;AAAA;;AAAhC,eAAAA,eAAA,GAAAA,eAAA;AAHZ,eAAA8xB,IAAA,GAAO,IAAP;AAIH;;;;iBAEJ,SAAAt0B,QAAQ;AACN,gBAAI,KAAKwC,eAAL,CAAqBS,SAAzB,EAAoC;AAClC,kBAAI4mB,YAAY,CAACC,OAAb,CAAqB,yFAAoByK,cAAzC,MAA6D,MAAjE,EAAyE;AACvE,qBAAKD,IAAL,GAAY,KAAZ;AACD;AACF;AACF;;;iBAEM,SAAAE,QAAQ;AACb3K,wBAAY,CAACK,OAAb,CAAqB,yFAAoBqK,cAAzC,EAAyD,MAAzD;AACA,iBAAKD,IAAL,GAAY,KAAZ;AACD;;;;;;;;cAlBUD,sB;AAAsB;AAAA;AAAA,U;AAAA;;;;;cAAtBA,sB;AAAsB,sC;AAAA,4D;AAAA,kBCTnC,iqC;AAMA,432B;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;cDGaA,sB;AAAsB;gBALlC,uDAKkC;iBALxB;AACTzyB,oBAAQ,EAAE,oBADD;AAETC,uBAAW,EAAE,iCAFJ;AAGTC,qBAAS,EAAE,CAAC,iCAAD;AAHF,W;AAKwB,U;;;;;;;;;;;;;;;;;;;;;;;AETnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAcA,UAAMoI,mBAAmB,GAAG,MAA5B;;UAKauqB,W;AACX,6BAA6BrqB,UAA7B,EAAqD;AAAA;;AAAxB,eAAAA,UAAA,GAAAA,UAAA;AAA0B;;;;iBAEhD,SAAAsqB,YAAY,GAAyB;AAAA,gBAAxBzX,MAAwB,uEAAF,EAAE;AAC1C,mBAAO,KAAK7S,UAAL,CAAgB7D,IAAhB,CAAkD2D,mBAAlD,EAAuE,IAAvE,EAA6E+S,MAA7E,CAAP;AACD;;;iBAEM,SAAApd,OAAO,CAACO,KAAD,EAAgC;AAAA,gBAAhBkK,IAAgB,uEAAD,CAAC;AAC5C,mBAAO,KAAKF,UAAL,CAAgB7D,IAAhB,WACD2D,mBADC,mBAC6BI,IAD7B,oBAC6CqqB,kBAAkB,CAACv0B,KAAD,CAD/D,GAC2E,IAD3E,CAAP;AAED;;;iBAEM,SAAAmK,MAAM,GAAyB;AAAA,gBAAxB0S,MAAwB,uEAAF,EAAE;AACpC,mBAAO,KAAK7S,UAAL,CAAgB7D,IAAhB,WAA4C2D,mBAA5C,aACL,IADK,EACC+S,MADD,EACS1c,IADT,CACc,2DAAI,UAAC8D,CAAD;AAAA,qBAA0BA,CAAC,CAACwP,KAA5B;AAAA,aAAJ,CADd,CAAP;AAED;;;iBAEM,SAAAyF,OAAO,GAAyB;AAAA,gBAAxB2D,MAAwB,uEAAF,EAAE;AACrC,mBAAO,KAAK7S,UAAL,CAAgB7D,IAAhB,WAAkC2D,mBAAlC,aAAgE,IAAhE,EAAsE,MAAF,OAAE,CAAF,kBAAO+S,MAAP,CAAE,EAAW;AAAE2X,kBAAI,EAAE;AAAR,aAAX,CAAtE,CAAP;AACD;;;iBAEM,SAAArb,YAAY,CAAClW,MAAD,EAA4BwxB,MAA5B,EAA2C;AAC5D,mBAAO,KAAKzqB,UAAL,CAAgB7D,IAAhB,WAAkC2D,mBAAlC,0BACL7G,MAAM,GAAI,aAAaA,MAAb,IAAuBwxB,MAAM,GAAG,aAAaA,MAAhB,GAAyB,EAAtD,CAAJ,GAAiE,EADlE,GAEH,IAFG,CAAP;AAGD;;;iBAEM,SAAAC,aAAa;AAClB,mBAAO,KAAK1qB,UAAL,CAAgB7D,IAAhB,WAAkC2D,mBAAlC,yCAA4F,IAA5F,CAAP;AACD;;;iBAEM,SAAA6qB,OAAO,CAACF,MAAD,EAAe;AAC3B,mBAAO,KAAKzqB,UAAL,CAAgB7D,IAAhB,WAAsD2D,mBAAtD,iCAAkG2qB,MAAlG,GAA6G,IAA7G,CAAP;AACD;;;iBAEM,SAAAG,OAAO,GAAiB;AAAA,gBAAhB1qB,IAAgB,uEAAD,CAAC;AAC7B,mBAAO,KAAKoqB,YAAL,CAAkB;AAAEpqB,kBAAI,EAAJA,IAAF;AAAQ2qB,mBAAK,EAAE,CAAC,iGAAqBvoB,KAAtB;AAAf,aAAlB,CAAP;AACD;;;iBAEM,SAAAwoB,MAAM,CAACvb,KAAD,EAAqD;AAAA,gBAA9BrP,IAA8B,uEAAf,CAAe;AAAA,gBAAZoI,KAAY;AAChE,mBAAO,KAAKgiB,YAAL,CAAkB;AAAEpqB,kBAAI,EAAJA,IAAF;AAAQoI,mBAAK,EAAEA,KAAK,GAAG6H,IAAI,CAAC4a,KAAL,CAAWziB,KAAK,CAAC0iB,OAAN,KAAkB,IAA7B,CAAH,GAAwC,CAA5D;AAA+Dzb,mBAAK,EAALA;AAA/D,aAAlB,CAAP;AACD;;;iBAEM,SAAA3D,KAAK;AACV,mBAAO,KAAK0e,YAAL,CAAkB;AAAEpqB,kBAAI,EAAE,CAAR;AAAWrJ,mBAAK,EAAE,iDAAY6a,MAA9B;AAAsCnC,mBAAK,EAAE,gFAAc0b;AAA3D,aAAlB,CAAP;AACD;;;iBAEM,SAAAnf,OAAO,GAA2C;AAAA,gBAA1C5L,IAA0C,uEAA3B,CAA2B;AAAA,gBAAxBoI,KAAwB,uEAAV,IAAI4W,IAAJ,EAAU;AACvD,mBAAO,KAAKoL,YAAL,CAAkB;AAAEpqB,kBAAI,EAAJA,IAAF;AAAQqP,mBAAK,EAAE,gFAAc2b,KAA7B;AAAoCC,wBAAU,EAAE7iB,KAAK,CAAC0iB,OAAN,KAAkB,OAAO,EAAP,GAAY,EAAZ,GAAiB;AAAnF,aAAlB,CAAP;AACD;;;iBAEM,SAAAnf,UAAU,GAA+B;AAAA,gBAA9B3L,IAA8B,uEAAf,CAAe;AAAA,gBAAZoI,KAAY;AAC9C,mBAAO,KAAKwiB,MAAL,CAAY,gFAAcM,QAA1B,EAAoClrB,IAApC,EAA0CoI,KAA1C,CAAP;AACD;;;;;;;;cArDU+hB,W;AAAW;AAAA;AAAA,U;AAAA;;;;;;cAAXA,W;AAAW,oBAFV;;;;;;;cAEDA,W;AAAW;gBAHvB,wDAGuB;iBAHZ;AACVl1B,sBAAU,EAAE;AADF,W;AAGY,U;;;;;;;;;;;;;;;;;;;;;;;ACnBxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAOA,UAAM2K,mBAAmB,GAAG,MAA5B;;UAKaurB,W;AACX,6BAA6BhF,IAA7B,EAA+C;AAAA;;AAAlB,eAAAA,IAAA,GAAAA,IAAA;AAAqB;;;;iBAE3C,SAAArP,OAAO,CAACD,MAAD,EAAiB/Q,IAAjB,EAA0B;AACtC,mBAAO,KAAKqgB,IAAL,CAAUW,IAAV,WAAwC,iDAAYxV,MAAZ,GAAqB1R,mBAA7D,oBAA4FiX,MAA5F,GAAuG/Q,IAAvG,EACJ7P,IADI,CACC,2DAAI,UAAC8D,CAAD;AAAA,qBAA4BA,CAAC,CAACgd,MAA9B;AAAA,aAAJ,CADD,CAAP;AAED;;;iBAEM,SAAA8J,YAAY,CAAChK,MAAD,EAAkB/Q,IAAlB,EAA4B;AAC7C,mBAAO,KAAKqgB,IAAL,CAAUW,IAAV,WAA+B,iDAAYxV,MAAZ,GAAqB1R,mBAApD,qBAAoFiX,MAApF,GAA+F/Q,IAA/F,CAAP;AACD;;;iBAEM,SAAAV,MAAM,CAACtG,OAAD,EAAkB3C,QAAlB,EAAkC;AAC7C,mBAAO,KAAKgqB,IAAL,CAAUW,IAAV,WAA+B,iDAAYxV,MAAZ,GAAqB1R,mBAApD,eAAoF;AAAEd,qBAAO,EAAPA,OAAF;AAAW3C,sBAAQ,EAARA;AAAX,aAApF,CAAP;AACD;;;;;;;;cAdUgvB,W;AAAW;AAAA;AAAA,U;AAAA;;;;;;cAAXA,W;AAAW,oBAFV;;;;;;;cAEDA,W;AAAW;gBAHvB,wDAGuB;iBAHZ;AACVl2B,sBAAU,EAAE;AADF,W;AAGY,U;;;;;;;;;;;;;;;;;;;;;;;ACZxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQam2B,iB;AAqBX,mCACmBlzB,eADnB,EACmD;AAAA;;AAAA;;AAAhC,eAAAA,eAAA,GAAAA,eAAA;AArBH,eAAAmzB,MAAA,GAAkC,IAAI,oDAAJ,CAAoB,KAAKnzB,eAAL,CAAqBS,SAArB,GAAiC8a,MAAM,CAAC6X,UAAxC,GAAqD,IAAzE,CAAlC;AACA,eAAAC,OAAA,GAAmC,IAAI,oDAAJ,CAAoB,KAAKrzB,eAAL,CAAqBS,SAArB,GAAiC8a,MAAM,CAAC+X,WAAxC,GAAsD,IAA1E,CAAnC;AAEA,eAAAC,WAAA,GAAmB;AAAEC,kBAAM,EAAE,IAAV;AAAgBC,iBAAK,EAAE,IAAvB;AAA6BC,kBAAM,EAAE,GAArC;AAA0CC,iBAAK,EAAE;AAAjD,WAAnB;AAEA,eAAAC,EAAA,GAAU;AACxBD,iBAAK,EAAE,KAAKR,MAAL,CAAYp1B,IAAZ,CAAiB,2DAAI,UAAC8D,CAAD;AAAA,qBAAeA,CAAC,GAAG,OAAI,CAAC0xB,WAAL,CAAiBI,KAApC;AAAA,aAAJ,CAAjB,CADiB;AAExBD,kBAAM,EAAE,KAAKP,MAAL,CAAYp1B,IAAZ,CAAiB,2DAAI,UAAC8D,CAAD;AAAA,qBAAeA,CAAC,GAAG,OAAI,CAAC0xB,WAAL,CAAiBG,MAApC;AAAA,aAAJ,CAAjB,CAFgB;AAGxBD,iBAAK,EAAE,KAAKN,MAAL,CAAYp1B,IAAZ,CAAiB,2DAAI,UAAC8D,CAAD;AAAA,qBAAeA,CAAC,GAAG,OAAI,CAAC0xB,WAAL,CAAiBE,KAApC;AAAA,aAAJ,CAAjB,CAHiB;AAIxBD,kBAAM,EAAE,KAAKL,MAAL,CAAYp1B,IAAZ,CAAiB,2DAAI,UAAC8D,CAAD;AAAA,qBAAeA,CAAC,GAAG,OAAI,CAAC0xB,WAAL,CAAiBC,MAApC;AAAA,aAAJ,CAAjB;AAJgB,WAAV;AAOA,eAAAK,EAAA,GAAU;AACxBF,iBAAK,EAAE,KAAKR,MAAL,CAAYp1B,IAAZ,CAAiB,2DAAI,UAAC8D,CAAD;AAAA,qBAAeA,CAAC,GAAG,OAAI,CAAC0xB,WAAL,CAAiBI,KAApC;AAAA,aAAJ,CAAjB;AADiB,WAAV;AAIT,eAAAD,MAAA,GAAc,KAAKP,MAAL,CAAYp1B,IAAZ,CAAiB,2DAAI,UAAC8D,CAAD;AAAA,mBAAeA,CAAC,IAAI,OAAI,CAAC0xB,WAAL,CAAiBG,MAAtB,IAAgC7xB,CAAC,GAAG,OAAI,CAAC0xB,WAAL,CAAiBE,KAApE;AAAA,WAAJ,CAAjB,CAAd;AACA,eAAAA,KAAA,GAAa,KAAKN,MAAL,CAAYp1B,IAAZ,CAAiB,2DAAI,UAAC8D,CAAD;AAAA,mBAAeA,CAAC,IAAI,OAAI,CAAC0xB,WAAL,CAAiBE,KAAtB,IAA+B5xB,CAAC,GAAG,OAAI,CAAC0xB,WAAL,CAAiBC,MAAnE;AAAA,WAAJ,CAAjB,CAAb;AACA,eAAAG,KAAA,GAAa,KAAKR,MAAL,CAAYp1B,IAAZ,CAAiB,2DAAI,UAAC8D,CAAD;AAAA,mBAAeA,CAAC,GAAG,OAAI,CAAC0xB,WAAL,CAAiBG,MAApC;AAAA,WAAJ,CAAjB,CAAb;;AAKL,cAAI,KAAK1zB,eAAL,CAAqBS,SAAzB,EAAoC;AAClC8a,kBAAM,CAACla,gBAAP,CAAwB,QAAxB,EAAkC,KAAKyyB,QAAL,CAAcxC,IAAd,CAAmB,IAAnB,CAAlC;AACD;AACF;;;;iBAEM,SAAAwC,QAAQ,CAACxyB,KAAD,EAAa;AAC1B,iBAAK6xB,MAAL,CAAY32B,IAAZ,CAAkB8E,KAAK,CAACI,MAAN,CAAwB0xB,UAA1C;AACA,iBAAKC,OAAL,CAAa72B,IAAb,CAAmB8E,KAAK,CAACI,MAAN,CAAwB4xB,WAA3C;AACD;;;;;;;;cAhCUJ,iB;AAAiB;AAAA;AAAA,U;AAAA;;;;;;cAAjBA,iB;AAAiB,oBAFhB;;;;;;;cAEDA,iB;AAAiB;gBAH7B,wDAG6B;iBAHlB;AACVn2B,sBAAU,EAAE;AADF,W;AAGkB,U;;;;;;;;;;;;;;;;;;;;;;;ACR9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUag3B,Y,6BAGX,sBACkBrd,cADlB,EACgD;AAAA;;AAA9B,aAAAA,cAAA,GAAAA,cAAA;AAHX,aAAA8C,OAAA,GAAU,iDAAYA,OAAtB;AAIF,O;;;;;;cALMua,Y;AAAY;AAAA;AAAA,U;AAAA;;;;;cAAZA,Y;AAAY,4B;AAAA,4D;AAAA,kBCVzB,kR;AAOA,iV;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDGaA,Y;AAAY;gBALxB,uDAKwB;iBALd;AACT30B,oBAAQ,EAAE,UADD;AAETC,uBAAW,EAAE,sBAFJ;AAGTC,qBAAS,EAAE,CAAC,sBAAD;AAHF,W;AAKc,U;;;;;;;;;;;;;;;;;;;;;;;AEVzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASa00B,c;AACX,gCAA6Bta,WAA7B,EAAwEla,MAAxE,EAAwF;AAAA;;AAA3D,eAAAka,WAAA,GAAAA,WAAA;AAA2C,eAAAla,MAAA,GAAAA,MAAA;AAAkB;;;;iBAE1F,SAAAkG,WAAW;AAAA;;AACT,mBAAO,KAAKgU,WAAL,CAAiBhX,OAAjB,GAA2B3E,IAA3B,CAAgC,2DAAI,UAAC1B,EAAD;AAAA,qBAAgB,OAAI,CAACmD,MAAL,CAAYqoB,aAAZ,CAA0B,CAAC,OAAD,EAAUxrB,EAAV,EAAc,MAAd,CAA1B,CAAhB;AAAA,aAAJ,CAAhC,CAAP;AACD;;;;;;;;cALU23B,c;AAAc;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAdA,c;AAAc,oBAFb;;;;;;;cAEDA,c;AAAc;gBAH1B,wDAG0B;iBAHf;AACVj3B,sBAAU,EAAE;AADF,W;AAGe,U;;;;;;;;;;;;;;;;;;;;;;;;;ACP3B;AAAA;;;AAAA;AAAA;AAAA;;UAAak3B,c,6BAGT,wBAA4BpK,QAA5B,EAA0D;AAAA;;AAA9B,aAAAA,QAAA,GAAAA,QAAA;AAAgC,O;;AAF5C,qBAAAhY,IAAA,GAAO,8BAAP;;;;;;;;;;;;;;;;ACHpB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAoFaqiB,Y;;;;;;;;cAAAA,Y;AAAY,gB;AAAA;;;;;;cAAZA,Y;AAAY,uBAhDrB,wEAgDqB,EA/CrB,0FA+CqB,EA9CrB,0FA8CqB,EA7CrB,mGA6CqB,EA5CrB,gHA4CqB,EA3CrB,uHA2CqB,EA1CrB,yEA0CqB,EAzCrB,wGAyCqB,EAxCrB,mGAwCqB,EAvCrB,gGAuCqB,EAtCrB,8FAsCqB,EArCrB,sHAqCqB,EApCrB,4HAoCqB,EAnCrB,0GAmCqB,EAlCrB,iIAkCqB,EAjCrB,0FAiCqB,EAhCrB,gGAgCqB,EA/BrB,mGA+BqB,EA9BrB,yHA8BqB,C;AA9BO,kBAa5B,4DAb4B,EAahB,mEAbgB,EAe5B,kGAf4B,EAgB5B,yEAhB4B,EAiB5B,kEAjB4B,EAkB5B,0DAlB4B,EAmB5B,6DAnB4B,EAoB5B,oFApB4B,EAqB5B,2EArB4B,EAsB5B,gEAtB4B,EAuB5B,4FAvB4B,EAwB5B,0FAxB4B,C;AAwBd,kBArBd,wEAqBc,EApBd,gHAoBc,EAnBd,0FAmBc,EAlBd,0FAkBc,EAjBd,mGAiBc,EAhBd,yEAgBc,EAfd,mGAec,EAdd,yHAcc;;;;;;cAMLA,Y;AAAY,mBAJZ,CACT,8EADS,C;AAEV,kBAhBQ,CACP,4DADO,EAEP,oEAAgBC,QAAhB,EAFO,EAGP,kGAHO,EAIP,yEAJO,EAKP,kEALO,EAMP,0DANO,EAOP,6DAPO,EAQP,oFARO,EASP,2EATO,EAUP,gEAVO,EAWP,4FAXO,EAYP,0FAZO,CAgBR;;;;;;;cAEUD,Y;AAAY;gBAlDxB,sDAkDwB;iBAlDf;AACR5P,wBAAY,EAAE,CACZ,wEADY,EAEZ,0FAFY,EAGZ,0FAHY,EAIZ,mGAJY,EAKZ,gHALY,EAMZ,uHANY,EAOZ,yEAPY,EAQZ,wGARY,EASZ,mGATY,EAUZ,gGAVY,EAWZ,8FAXY,EAYZ,sHAZY,EAaZ,4HAbY,EAcZ,0GAdY,EAeZ,iIAfY,EAgBZ,0FAhBY,EAiBZ,gGAjBY,EAkBZ,mGAlBY,EAmBZ,yHAnBY,CADN;AAsBRC,mBAAO,EAAE,CACP,wEADO,EAEP,gHAFO,EAGP,0FAHO,EAIP,0FAJO,EAKP,mGALO,EAMP,yEANO,EAOP,mGAPO,EAQP,yHARO,CAtBD;AAgCRC,mBAAO,EAAE,CACP,4DADO,EAEP,oEAAgB2P,QAAhB,EAFO,EAGP,kGAHO,EAIP,yEAJO,EAKP,kEALO,EAMP,0DANO,EAOP,6DAPO,EAQP,oFARO,EASP,2EATO,EAUP,gEAVO,EAWP,4FAXO,EAYP,0FAZO,CAhCD;AA8CR3uB,qBAAS,EAAE,CACT,8EADS;AA9CH,W;AAkDe;;;;;;;;;;;;;;;;;;ACpFzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAGA,UAAM4uB,YAAY,GAAG,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,QAAjE,EAA2E,WAA3E,EAAwF,SAAxF,EAAmG,UAAnG,EAA+G,UAA/G,CAArB;AACA,UAAMC,YAAY,GAAG,CAAC,QAAD,EAAW,SAAX,EAAsB,OAAtB,EAA+B,QAA/B,EAAyC,KAAzC,EAAgD,MAAhD,EAAwD,MAAxD,EAAgE,SAAhE,EAA2E,UAA3E,EAAuF,SAAvF,EAAkG,QAAlG,EAA4G,SAA5G,CAArB;;UAGaC,a;AACX,+BAA6BrR,gBAA7B,EAAiE;AAAA;;AAApC,eAAAA,gBAAA,GAAAA,gBAAA;AAAuC;;;;iBAE7D,SAAAsR,sBAAsB,CAACC,SAAD,EAAkB;;;AAC7C,gBAAMC,IAAI,GAAS,IAAI3N,IAAJ,CAAS0N,SAAT,CAAnB;AACA,gBAAME,UAAU,GAAG,YAAKzR,gBAAL,MAAqB,IAArB,IAAqB,aAArB,GAAqB,MAArB,GAAqB,GAAEoJ,WAAvB,MAAuC,IAAvC,GAA8CgI,YAA9C,GAA6DD,YAAhF;AACA,6BAAWK,IAAI,CAACE,OAAL,EAAX,cAA+BD,UAAU,CAACD,IAAI,CAACG,QAAL,EAAD,CAAzC,cAAgE,KAAKC,YAAL,CAAkBL,SAAlB,CAAhE;AACD;;;iBAEM,SAAAM,qBAAqB,CAACN,SAAD,EAAkB;;;AAC5C,gBAAMC,IAAI,GAAS,IAAI3N,IAAJ,CAAS0N,SAAT,CAAnB;AACA,gBAAMO,KAAK,GAAS,IAAIjO,IAAJ,EAApB;AACA,gBAAM4N,UAAU,GAAG,YAAKzR,gBAAL,MAAqB,IAArB,IAAqB,aAArB,GAAqB,MAArB,GAAqB,GAAEoJ,WAAvB,MAAuC,IAAvC,GAA8CgI,YAA9C,GAA6DD,YAAhF;AACA,mBAAOW,KAAK,CAACJ,OAAN,KAAkBF,IAAI,CAACE,OAAL,EAAlB,IAAoC,CAApC,IAAyCF,IAAI,CAACG,QAAL,OAAoBG,KAAK,CAACH,QAAN,EAA7D,aACCH,IAAI,CAACE,OAAL,EADD,cACqBD,UAAU,CAACD,IAAI,CAACG,QAAL,EAAD,CAD/B,cACsD,KAAKC,YAAL,CAAkBL,SAAlB,CADtD,cAECC,IAAI,CAACE,OAAL,EAFD,cAEqBD,UAAU,CAACD,IAAI,CAACG,QAAL,EAAD,CAF/B,CAAP;AAGD;;;iBAEM,SAAAI,iBAAiB,CAACR,SAAD,EAAkB;;;AACxC,gBAAMC,IAAI,GAAS,IAAI3N,IAAJ,CAAS0N,SAAT,CAAnB;AACA,gBAAME,UAAU,GAAG,YAAKzR,gBAAL,MAAqB,IAArB,IAAqB,aAArB,GAAqB,MAArB,GAAqB,GAAEoJ,WAAvB,MAAuC,IAAvC,GAA8CgI,YAA9C,GAA6DD,YAAhF;AACA,6BAAWK,IAAI,CAACE,OAAL,EAAX,cAA+BD,UAAU,CAACD,IAAI,CAACG,QAAL,EAAD,CAAzC,cAAgE,YAAK3R,gBAAL,MAAqB,IAArB,IAAqB,aAArB,GAAqB,MAArB,GAAqB,GAAEoJ,WAAvB,MAAuC,IAAvC,GAA8C,GAA9C,GAAoD,IAApH,cAA8H,KAAKwI,YAAL,CAAkBL,SAAlB,CAA9H;AACD;;;iBAEM,SAAAK,YAAY,CAACL,SAAD,EAAkB;AACnC,gBAAMC,IAAI,GAAG,IAAI3N,IAAJ,CAAS0N,SAAT,CAAb;AACA,6BAAYC,IAAI,CACbQ,QADS,GAEThF,QAFS,GAGTiF,QAHS,CAGA,CAHA,EAGG,GAHH,CAAZ,cAG0BT,IAAI,CAC3BU,UADuB,GAEvBlF,QAFuB,GAGvBiF,QAHuB,CAGd,CAHc,EAGX,GAHW,CAH1B;AAOD;;;;;;;;cAjCUZ,a;AAAa;AAAA;AAAA,U;AAAA;;;;;;cAAbA;;;;;;;cAAAA,a;AAAa;gBADzB;AACyB,U;;;;;;;;;;;;;;;;;;;;;;;ACP1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUac,Y;AACX,8BACmBz1B,OADnB,EAC0C;AAAA;;AAAvB,eAAAA,OAAA,GAAAA,OAAA;AACf;;;;iBAEJ,SAAA+F,WAAW;AACT,mBAAO,KAAK/F,OAAL,CAAamC,KAAb,CAAmB/D,IAAnB,CACL,2DAAI,UAAC4H,IAAD;AAAA,qBAA0BA,IAAI,KAAK,IAAT,GAAgBA,IAAI,CAAChH,IAAL,CAAUuH,OAAV,CAAkBC,SAAlC,GAA8C,KAAxE;AAAA,aAAJ,CADK,CAAP;AAGD;;;;;;;;cATUivB,Y;AAAY;AAAA;AAAA,U;AAAA;;;;;;cAAZA,Y;AAAY,oBAFX;;;;;;;cAEDA,Y;AAAY;gBAHxB,wDAGwB;iBAHb;AACVr4B,sBAAU,EAAE;AADF,W;AAGa,U;;;;;;;;;;;;;;;;;;;;;;;ACVzB;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYs4B,YAAZ;;AAAA,iBAAYA,YAAZ,EAAwB;AACpB;AACA;AACA;AACA;AACA;AACH,OAND,EAAYA,YAAY,KAAZA,YAAY,MAAxB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAmBaC,gB;AAyCX,kCACmB3pB,GADnB,EAEkB/L,UAFlB,EAGkB21B,eAHlB,EAGkD;AAAA;;AAAA;;AAEhD;AAJiB,kBAAA5pB,GAAA,GAAAA,GAAA;AACD,kBAAA/L,UAAA,GAAAA,UAAA;AACA,kBAAA21B,eAAA,GAAAA,eAAA;AArCF,kBAAAC,UAAA,GAAa,KAAb;AAIU,kBAAAC,KAAA,GAA6B,IAAI,0DAAJ,EAA7B;AACA,kBAAA1Z,IAAA,GAAoC,IAAI,0DAAJ,EAApC;AACA,kBAAA5S,IAAA,GAA2B,IAAI,0DAAJ,EAA3B;AACA,kBAAAusB,SAAA,GACxB,IAAI,0DAAJ,EADwB;AAEA,kBAAAC,aAAA,GAAsC,IAAI,0DAAJ,EAAtC;AAIlB,kBAAAC,aAAA,GAAgB,KAAhB;AAEQ,kBAAAC,SAAA,GAAsC,IAAI,oDAAJ,CAA6B,KAA7B,CAAtC;AACA,kBAAAC,eAAA,GAA+B,IAAI,0DAAJ,CAAgB,EAAhB,CAA/B;AACA,kBAAAC,WAAA,GAAwC,IAAI,oDAAJ,CAA6B,KAA7B,CAAxC;AACA,kBAAAC,MAAA,GAAmC,IAAI,oDAAJ,CAA6B,KAA7B,CAAnC;AAET,kBAAAjgB,QAAA,GAAW,KAAX;AAiB2C;AAGjD;;;;;;eAlBD,eAAsB;AACpB,mBAAO,sDAAY,KAAKkgB,OAAL,CAAaC,IAAzB,CAAP;AACD;;;eAED,eAAgB;AACd,mBAAO,KAAKC,KAAL,KAAe,KAAKF,OAAL,CAAaG,KAAb,CAAmBt3B,IAAnB,CAAwBzC,EAA9C;AACD;;;eAED,eAAoB;AAClB,mBAAO,KAAKu5B,aAAZ;AACD;;;iBAUD,SAAAp4B,QAAQ;AACN,iBAAKo4B,aAAL,GAAqB,KAAKK,OAAL,CAAaxM,KAAlC;AACD;;;iBAEM,SAAA4M,QAAQ,CAACC,KAAD,EAAc;AAC3B,oBAAQA,KAAR;AACE,mBAAK,CAAL;AACE,uBAAO,OAAP;;AACF,mBAAK,CAAL;AACE,uBAAO,QAAP;AAJJ;;AAMA,mBAAO,OAAP;AACD;;;iBAEM,SAAAC,aAAa,CAACN,OAAD,EAAkDla,IAAlD,EAAqE;AAAA;;AACvF,gBAAMC,QAAQ,GAAQD,IAAI,KAAK,IAAT,GAAgB,CAAhB,GAAoB,CAAC,CAA3C;;AACA,gBAAIka,OAAO,CAAChnB,KAAR,CAAc2I,GAAd,KAAsBoE,QAA1B,EAAoC;AAClC,mBAAKuZ,eAAL,CAAqBtZ,KAArB,CAA2Bga,OAAO,CAACn3B,IAAR,CAAazC,EAAxC,EAA4C,IAA5C,EAAkD0B,IAAlD,CAAuD,iEAAU,KAAKE,YAAf,CAAvD,EAAqFC,SAArF,CAA+F,YAAM;AACnG,oBAAI8d,QAAQ,GAAG,CAAf,EAAkB;AAChBia,yBAAO,CAAChnB,KAAR,CAAcC,EAAd,IAAoB8M,QAApB;AACD,iBAFD,MAEO;AACLia,yBAAO,CAAChnB,KAAR,CAAcE,IAAd,IAAsB6M,QAAtB;AACD;;AACDia,uBAAO,CAAChnB,KAAR,CAAc2I,GAAd,GAAoB,CAApB;;AACA,uBAAI,CAACjM,GAAL,CAASkY,YAAT;AACD,eARD;AASD,aAVD,MAUO;AACL,mBAAK0R,eAAL,CAAqBtZ,KAArB,CAA2Bga,OAAO,CAACn3B,IAAR,CAAazC,EAAxC,EAA4C,KAA5C,EAAmD2f,QAAnD,EAA6Dje,IAA7D,CAAkE,iEAAU,KAAKE,YAAf,CAAlE,EAAgGC,SAAhG,CAA0G,YAAM;AAC9G,oBAAI+3B,OAAO,CAAChnB,KAAR,CAAc2I,GAAd,GAAoB,CAAxB,EAA2B;AACzBqe,yBAAO,CAAChnB,KAAR,CAAcC,EAAd,IAAoB+mB,OAAO,CAAChnB,KAAR,CAAc2I,GAAlC;AACD,iBAFD,MAEO;AACLqe,yBAAO,CAAChnB,KAAR,CAAcE,IAAd,IAAsB8mB,OAAO,CAAChnB,KAAR,CAAc2I,GAApC;AACD;;AACD,oBAAIoE,QAAQ,GAAG,CAAf,EAAkB;AAChBia,yBAAO,CAAChnB,KAAR,CAAcC,EAAd,IAAoB8M,QAApB;AACD,iBAFD,MAEO;AACLia,yBAAO,CAAChnB,KAAR,CAAcE,IAAd,IAAsB6M,QAAtB;AACD;;AACDia,uBAAO,CAAChnB,KAAR,CAAc2I,GAAd,GAAoBoE,QAApB;;AACA,uBAAI,CAACrQ,GAAL,CAASkY,YAAT;AACD,eAbD;AAcD;AACF;;;iBAEM,SAAA9W,MAAM;AACX,iBAAK8oB,SAAL,CAAer5B,IAAf,CAAoB,KAApB;AACD;;;iBAGM,SAAAg6B,IAAI;AAAA;;AACT,iBAAKR,MAAL,CAAYx5B,IAAZ,CAAiB,KAAjB;AACA,iBAAK+4B,eAAL,CAAqB/sB,UAArB,CAAgC,KAAKytB,OAAL,CAAan3B,IAAb,CAAkBzC,EAAlD,EAAsD0B,IAAtD,CACE,iEAAU,KAAKE,YAAf,CADF,EAEE,iEAAU,KAAK43B,SAAL,CAAe93B,IAAf,CAAoB,4DAAK,CAAL,CAApB,CAAV,CAFF,EAGEG,SAHF,CAGY,UAAC2D,CAAD,EAA2B;AACrC,qBAAI,CAACg0B,SAAL,CAAer5B,IAAf,CAAoB,IAApB;;AACA,qBAAI,CAACs5B,eAAL,CAAqB1I,QAArB,CAA8BvrB,CAAC,CAACyG,MAAhC;AACD,aAND;AAOD;;;iBAEM,SAAAmuB,MAAM;AAAA;;AACX,iBAAKT,MAAL,CAAYx5B,IAAZ,CAAiB,KAAjB;AACA,iBAAKu5B,WAAL,CAAiBv5B,IAAjB,CAAsB,IAAtB;AACA,iBAAK+4B,eAAL,CAAqBltB,UAArB,CAAgC,KAAK4tB,OAAL,CAAan3B,IAAb,CAAkBzC,EAAlD,EAAsD,KAAKy5B,eAAL,CAAqBr5B,KAA3E,EAAkFsB,IAAlF,CAAuF,iEAAU,KAAKE,YAAf,CAAvF,EAAqHC,SAArH,CACE,UAAC0C,GAAD,EAA2B;AACzB,qBAAI,CAACq1B,OAAL,CAAaC,IAAb,GAAoBt1B,GAAG,CAACs1B,IAAxB;;AACA,qBAAI,CAACvqB,GAAL,CAASkY,YAAT;;AACA,qBAAI,CAACgS,SAAL,CAAer5B,IAAf,CAAoB,KAApB;AACD,aALH,EAME,YAAM;AACJ,qBAAI,CAACw5B,MAAL,CAAYx5B,IAAZ,CAAiB,IAAjB;AACD,aARH,EASE,YAAM;AACJ,qBAAI,CAACu5B,WAAL,CAAiBv5B,IAAjB,CAAsB,KAAtB;AACD,aAXH;AAaD;;;iBAEM,SAAAitB,KAAK;AACV,iBAAKiM,SAAL,CAAevwB,IAAf,CAAoB,KAAK8wB,OAAzB;AACA,iBAAKL,aAAL,GAAqB,CAAC,KAAKA,aAA3B;AACA,iBAAKjqB,GAAL,CAASkY,YAAT;AACD;;;iBAEM,SAAAva,OAAM,CAACjN,EAAD,EAAW;AAAA;;AACtB,iBAAKk5B,eAAL,CAAqB9sB,OAArB,CAA6BpM,EAA7B,EAAiC0B,IAAjC,CAAsC,iEAAU,KAAKE,YAAf,CAAtC,EAAoEC,SAApE,CAA8E,YAAM;AAClF,qBAAI,CAACy3B,aAAL,CAAmBxwB,IAAnB,CAAwB9I,EAAxB;AACD,aAFD;AAGD;;QAzImC,0F;;;;;;cAAzBi5B,gB;AAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAhBA,gB;AAAgB,+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,6B;AAAA,4D;AAAA,kBCnB7B,2gJ;AAmEA,qt4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cDhDaA,gB;AAAgB;gBAN5B,uDAM4B;iBANlB;AACTl2B,oBAAQ,EAAE,aADD;AAETC,uBAAW,EAAE,0BAFJ;AAGTC,qBAAS,EAAE,CAAC,0BAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMkB,U;;;;;;;;;;;AACX2yB,iBAAO,EAAE,CAAF;kBAAtB;AAAsB,WAAE,C;AACT5D,gBAAM,EAAE,CAAF;kBAArB;AAAqB,WAAE,C;AACRqE,gBAAM,EAAE,CAAF;kBAArB;AAAqB,WAAE,C;AACRC,sBAAY,EAAE,CAAF;kBAA3B;AAA2B,WAAE,C;AACdL,eAAK,EAAE,CAAF;kBAApB;AAAoB,WAAE,C;AACP5T,iBAAO,EAAE,CAAF;kBAAtB;AAAsB,WAAE,C;AACT8S,oBAAU;kBAAzB;AAAyB,Y;AACVW,eAAK,EAAE,CAAF;kBAApB;AAAoB,WAAE,C;AACPS,kBAAQ,EAAE,CAAF;kBAAvB;AAAuB,WAAE,C;AAEAnB,eAAK,EAAE,CAAF;kBAA9B;AAA8B,WAAE,C;AACP1Z,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE,C;AACN5S,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE,C;AACNusB,mBAAS,EAAE,CAAF;kBAAlC;AAAkC,WAAE,C;AAEXC,uBAAa,EAAE,CAAF;kBAAtC;AAAsC,WAAE,C;AAEckB,yBAAe,EAAE,CAAF;kBAArE,uDAAqE;mBAA3D,iB,EAAmB;AAAE,wBAAQ;AAAV,a;AAAwC,WAAE;;;;;;;;;;;;;;;;;;;AErC1E;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAeaC,4B;AACX,8CACqBj3B,oBADrB,EAEqBka,eAFrB,EAGqBF,aAHrB,EAIqBC,WAJrB,EAKqBwO,YALrB,EAMqByO,cANrB,EAMmD;AAAA;;AAAA;;AAEjD,oEAAMl3B,oBAAN,EAA4Bka,eAA5B,EAA6CF,aAA7C,EAA4DC,WAA5D,EAAyEwO,YAAzE,EAAuFyO,cAAvF;AAPmB,kBAAAl3B,oBAAA,GAAAA,oBAAA;AACA,kBAAAka,eAAA,GAAAA,eAAA;AACA,kBAAAF,aAAA,GAAAA,aAAA;AACA,kBAAAC,WAAA,GAAAA,WAAA;AACA,kBAAAwO,YAAA,GAAAA,YAAA;AACA,kBAAAyO,cAAA,GAAAA,cAAA;AAA8B;AAGlD;;;;;QAV+C,mJ;;;;;;cAArCD,4B;AAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAA5BA,4B;AAA4B,4C;AAAA,6B;AAAA,4D;AAAA,kBCfzC,+uM;AAmGA,gyE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;cDpFaA,4B;AAA4B;gBALxC,uDAKwC;iBAL9B;AACT13B,oBAAQ,EAAE,0BADD;AAETC,uBAAW,EAAE,uCAFJ;AAGTC,qBAAS,EAAE,CAAC,uCAAD;AAHF,W;AAK8B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UEO5B03B,qB;AAaX,uCACmBx3B,MADnB,EAEmBy3B,UAFnB,EAGmBpvB,KAHnB,EAIkBlI,OAJlB,EAIyC;AAAA;;AAAA;;AAEvC;AALiB,kBAAAH,MAAA,GAAAA,MAAA;AACA,kBAAAy3B,UAAA,GAAAA,UAAA;AACA,kBAAApvB,KAAA,GAAAA,KAAA;AACD,kBAAAlI,OAAA,GAAAA,OAAA;AAhBQ,kBAAApD,MAAA,GAA6B,IAAI,0DAAJ,EAA7B;AAIV,kBAAA26B,qBAAA,GAAsD,+EAAtD;AAIT,kBAAAC,OAAA,GAAU,KAAV;AACA,kBAAAC,QAAA,GAAW,KAAX;AAOkC;AAGxC;;;;;;iBAED,SAAA55B,QAAQ;AACN,iBAAKkd,OAAL;AACA,iBAAK2c,eAAL;AACA,iBAAKC,OAAL;AACD;;;iBAEO,SAAAD,eAAe;AACrB,oBAAQ,KAAK73B,MAAL,CAAYsL,GAApB;AACE,mBAAK,SAAL;AACA,mBAAK,UAAL;AACA,mBAAK,YAAL;AACA,mBAAK,eAAL;AACA,mBAAK,SAAL;AACA,mBAAK,WAAL;AACA,mBAAK,WAAL;AACE,qBAAKysB,YAAL,GAAoB,gFAAsB,KAAK/3B,MAAL,CAAYsL,GAAZ,CAAgB0sB,SAAhB,CAA0B,CAA1B,EAA6BC,WAA7B,EAAtB,CAApB;AACA;;AACF,mBAAK,mBAAL;AACE,qBAAKF,YAAL,GAAoB,gFAAsBG,QAA1C;AACA;AAZJ;AAcD;;;iBAEO,SAAAJ,OAAO;AAAA;;AACb,iBAAK33B,OAAL,CAAamC,KAAb,CAAmB/D,IAAnB,CAAwB,8DAAO,UAAC4H,IAAD;AAAA,qBAAyB,CAAC,CAACA,IAA3B;AAAA,aAAP,CAAxB,EAAiE,iEAAU,KAAK1H,YAAf,CAAjE,EAA+FC,SAA/F,CAAyG,UAACyH,IAAD,EAAyB;AAChI,sBAAI,CAACtJ,EAAL,GAAUsJ,IAAI,CAAChH,IAAL,CAAUwI,QAAV,GAAqBxB,IAAI,CAAChH,IAAL,CAAUwI,QAA/B,GAA0CxB,IAAI,CAAC7G,IAAL,CAAUzC,EAA9D;AACA,sBAAI,CAAC8J,SAAL,GAAiBR,IAAI,IAAIA,IAAI,CAAChH,IAAL,CAAUuH,OAAlB,IAA6BP,IAAI,CAAChH,IAAL,CAAUuH,OAAV,CAAkBC,SAAhE;AACD,aAHD;AAKA,iBAAK8wB,UAAL,CAAgBU,WAAhB,CAA4B,gBAA5B,EAA8C55B,IAA9C,CAAmD,iEAAU,KAAKE,YAAf,CAAnD,EAAiFC,SAAjF,CAA2F,UAAC2D,CAAD,EAAgB;AACzG,sBAAI,CAACs1B,OAAL,GAAet1B,CAAf;AACD,aAFD;AAIA,iBAAKo1B,UAAL,CAAgBU,WAAhB,CAA4B,mBAA5B,EAAiD55B,IAAjD,CAAsD,iEAAU,KAAKE,YAAf,CAAtD,EAAoFC,SAApF,CAA8F,UAAC2D,CAAD,EAAgB;AAC5G,sBAAI,CAACu1B,QAAL,GAAgBv1B,CAAhB;AACD,aAFD;AAGD;;;iBAEO,SAAA6Y,OAAO;AAAA;;AACb/F,kBAAM,CAACC,IAAP,CAAY,uGAAZ,EAAgC9D,OAAhC,CAAwC,UAAC+D,GAAD,EAAiB;AACvD,sBAAI,CAAChN,KAAL,CAAW+vB,QAAX,CAAoB,IAAI,mGAAJ,CAAmB,wGAAmB/iB,GAAnB,CAAnB,CAApB;AACD,aAFD;AAGD;;;iBAEM,SAAAgjB,MAAM;AACX,iBAAKl4B,OAAL,CAAa4iB,KAAb;;AACA,gBAAI,iDAAY/I,OAAhB,EAAyB;AACvB,mBAAKha,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,UAAD,CAArB;AACD;AACF;;QAvEwC,0F;;;;;;cAA9Bq0B,qB;AAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAArBA,qB;AAAqB,qC;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBCtBlC,ipJ;AA+CA,4+2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;;ADtBkC,gEAA/B,2DAAO,6FAAP,CAA+B,G,+BAAA,E,OAAA,E,MAAA;;;;;;cAHrBA,qB;AAAqB;gBALjC,uDAKiC;iBALvB;AACT53B,oBAAQ,EAAE,mBADD;AAETC,uBAAW,EAAE,gCAFJ;AAGTC,qBAAS,EAAE,CAAC,gCAAD;AAHF,W;AAKuB,U;;;;;;;;;;;;;AACN/C,gBAAM,EAAE,CAAF;kBAA/B;AAA+B,WAAE,C;AAEKie,eAAK,EAAE;;;;;;;;;;;;;;;;;;;AEzBhD;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAeasd,oB;AAkBX,sCACmB93B,eADnB,EAEmBR,MAFnB,EAEiC;AAAA;;AAAA;;AAE/B;AAHiB,mBAAAQ,eAAA,GAAAA,eAAA;AACA,mBAAAR,MAAA,GAAAA,MAAA;AAjBH,mBAAAu4B,QAAA,GAAW,KAAX;AACA,mBAAAzL,IAAA,GAA0B,EAA1B;AACA,mBAAA0L,YAAA,GAAiC;AAAEC,uBAAW,EAAE;AAAf,WAAjC;AAEA,mBAAAv5B,IAAA,GAAO,EAAP;AACA,mBAAAw5B,cAAA,GAAiB,KAAjB;AACA,mBAAAC,kBAAA,GAAqB,EAArB;AACA,mBAAAC,UAAA,GAAa,KAAb;AAET,mBAAA3iB,KAAA,GAAoB;AAAErV,iBAAK,EAAE,KAAT;AAAgBC,eAAG,EAAE;AAArB,WAApB;AACS,mBAAA9D,MAAA,GAAc,SAAKyD,eAAL,CAAqBS,SAArB,GAC1B,6FAAS,SAAKgV,KAAd,EAAqB;AAAA,mBAAM,SAAK8b,QAAX;AAAA,WAArB,EAA0C,iEAAU,SAAKtzB,YAAf,CAA1C,CAD0B,GACgD,YAAM,CAAE,CADtE;;AAGA,mBAAAo6B,WAAA,GAAgC,YAAM,CAAE,CAAxC;;AAIiB;AAGhC;;;;;;iBAEM,SAAAC,MAAM;AACX,gBAAI,KAAKF,UAAT,EAAqB;AACnB,mBAAK77B,MAAL;AACD,aAFD,MAEO;AACL,mBAAKiD,MAAL,CAAYmD,QAAZ,CAAqB,OAAO,KAAK2pB,IAAZ,KAAqB,QAArB,GAAgC,CAAC,KAAKA,IAAN,CAAhC,GAA8C,KAAKA,IAAxE;AACD;AACF;;QA/BuC,0F;;;;;;cAA7BwL,oB;AAAoB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAApBA,oB;AAAoB,qC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,6B;AAAA,4D;AAAA,kBCfjC,+0C;AA0BA,iz3E;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDXaA,oB;AAAoB;gBALhC,uDAKgC;iBALtB;AACT14B,oBAAQ,EAAE,mBADD;AAETC,uBAAW,EAAE,gCAFJ;AAGTC,qBAAS,EAAE,CAAC,0CAAD,EAA6C,gCAA7C;AAHF,W;AAKsB,U;;;;;;;;;AACDiyB,kBAAQ,EAAE,CAAF;kBAArC,uDAAqC;mBAA3B,U;AAA2B,WAAE,C;AAExBwG,kBAAQ;kBAAvB;AAAuB,Y;AACRzL,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACN0L,sBAAY,EAAE,CAAF;kBAA3B;AAA2B,WAAE,C;AACd3mB,eAAK;kBAApB;AAAoB,Y;AACL3S,cAAI;kBAAnB;AAAmB,Y;AACJw5B,wBAAc;kBAA7B;AAA6B,Y;AACdC,4BAAkB;kBAAjC;AAAiC,Y;AAClBC,oBAAU;kBAAzB;AAAyB,Y;AAMVC,qBAAW,EAAE,CAAF;kBAA1B;AAA0B,WAAE;;;;;;;;;;;;;;;;;;;AE/B/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQaE,yB,6BACX,qCAAc;AAAA;AAAE,O;;;;;;cADLA,yB;AAAyB,gB;AAAA;;;;;cAAzBA,yB;AAAyB,6C;AAAA,4D;AAAA,kBCRtC,yE;AAGA,ssxB;AAAA;;;;;;;cDKaA,yB;AAAyB;gBANrC,uDAMqC;iBAN3B;AACTn5B,oBAAQ,EAAE,2BADD;AAETC,uBAAW,EAAE,qCAFJ;AAGTC,qBAAS,EAAE,CAAC,qCAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAM2B,U;;;;;;;;;;;;;;;;;;;;;AERtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAgBA,UAAMoE,mBAAmB,GAAG,QAA5B;;UAKa8wB,a;AAIX,+BACqB5wB,UADrB,EAEqBC,KAFrB,EAGmB7H,eAHnB,EAGmD;AAAA;;AAAA;;AAEjD,sDAAM4H,UAAN,EAAkBF,mBAAlB,EAAuCG,KAAvC;AAJmB,mBAAAD,UAAA,GAAAA,UAAA;AACA,mBAAAC,KAAA,GAAAA,KAAA;AACF,mBAAA7H,eAAA,GAAAA,eAAA;AANF,mBAAAy4B,SAAA,GACf,IAAI,gFAAJ,CAAkC,SAAK7wB,UAAvC,EAAmDF,mBAAnD,EAAwE,SAAK1H,eAA7E,CADe;AAMkC;AAGlD;;;;;;iBAEO,SAAA4K,YAAY,CAAC7L,KAAD,EAAc+L,GAAd,EAAyB;AAC3C,mBAAO,KAAKlD,UAAL,CAAgBW,IAAhB,CAA2CuC,GAA3C,EAAgD,gGAAe/L,KAAf,CAAhD,CAAP;AACD;;;iBAEM,SAAA25B,OAAO,CAACr8B,EAAD,EAAoB;AAChC,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WACD2D,mBADC,cACwB,CAACixB,KAAK,CAACC,QAAQ,CAACv8B,EAAD,EAAe,EAAf,CAAT,CAAN,GAAqCA,EAArC,GAA0C,SAASA,EAD3E,GACkF,IADlF,CAAP;AAED;;;iBAEM,SAAAgB,OAAO,CAACO,KAAD,EAAgC;AAAA,gBAAhBkK,IAAgB,uEAAD,CAAC;AAC5C,mBAAO,KAAKF,UAAL,CAAgB7D,IAAhB,WAAwD2D,mBAAxD,mBAAsFI,IAAtF,oBAAsGqqB,kBAAkB,CAACv0B,KAAD,CAAxH,GAAoI,IAApI,CAAP;AACD;;;iBAEM,SAAAmG,IAAI,GAA0C;AAAA,gBAAzC+D,IAAyC,uEAA1B,CAA0B;AAAA,gBAAvBlK,KAAuB,uEAAF,EAAE;AACnD,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,CAAgD2D,mBAAhD,EAAqE,IAArE,EAA2E,MAAF,OAAE,CAAF,kBAAO9J,KAAP,CAAE,EAAU;AAAEkK,kBAAI,EAAJA;AAAF,aAAV,CAA3E,CAAP;AACD;;;iBAEM,SAAA+wB,QAAQ;AACb,mBAAO,KAAKjxB,UAAL,CAAgB7D,IAAhB,WAAoD2D,mBAApD,cAAmF,IAAnF,EACJ3J,IADI,CACC,2DAAI,UAAC8M,QAAD;AAAA,qBAAyCA,QAAQ,CAACxM,KAAlD;AAAA,aAAJ,CADD,CAAP;AAED;;;iBAEM,SAAAqE,OAAO,CAAC9D,IAAD,EAAa;AACzB,mBAAO,KAAKgJ,UAAL,CAAgBhE,KAAhB,CAAkC8D,mBAAlC,EAAuD;AAAE9I,kBAAI,EAAJA;AAAF,aAAvD,CAAP;AACD;;;iBAEM,SAAAgF,KAAK,CAACgK,IAAD,EAAoC;AAC9C,mBAAO,KAAKhG,UAAL,CAAgBhE,KAAhB,CAAsC8D,mBAAtC,EAA2DkG,IAA3D,EAAiE7P,IAAjE,CAAsE,2DAAI,UAAC8D,CAAD;AAAA,qBAAuBA,CAAC,CAACxF,EAAzB;AAAA,aAAJ,CAAtE,CAAP;AACD;;;iBAEM,SAAAoM,OAAO,CAACpM,EAAD,EAAW;AACvB,mBAAO,KAAKuL,UAAL,CAAgBa,OAAhB,WAAmCf,mBAAnC,cAA4DrL,EAA5D,EAAP;AACD;;;iBAEM,SAAAy8B,eAAe,CAACz8B,EAAD,EAAa4d,IAAb,EAA2Bxb,KAA3B,EAAwC;AAC5D,mBAAO,KAAKmJ,UAAL,CAAgBa,OAAhB,CACLwR,IAAI,aACIvS,mBADJ,cAC6BrL,EAD7B,0BACiDA,EADjD,mBAC8D4d,IAD9D,oBAC8Exb,KAD9E,cAEIiJ,mBAFJ,cAE6BrL,EAF7B,0BAEiDA,EAFjD,oBAE+DoC,KAF/D,CADC,CAAP;AAKD;;;iBAEM,SAAAs6B,OAAO,CAAC18B,EAAD,EAAa4E,MAAb,EAAwB;AACpC,mBAAO,KAAK2G,UAAL,CAAgBO,MAAhB,WAAkCT,mBAAlC,cAA2DrL,EAA3D,GAAkE4E,MAAlE,EAA0E,KAA1E,CAAP;AACD;;;iBAEM,SAAA+3B,aAAa,CAAC38B,EAAD,EAAasO,IAAb,EAAuB;AACzC,mBAAO,KAAKC,YAAL,CAAkBD,IAAlB,YAA4BjD,mBAA5B,cAAqDrL,EAArD,YAAP;AACD;;;iBAEM,SAAA48B,YAAY,CAAC58B,EAAD,EAAasO,IAAb,EAAuB;AACxC,mBAAO,KAAKC,YAAL,CAAkBD,IAAlB,YAA4BjD,mBAA5B,cAAqDrL,EAArD,YAAP;AACD;;;iBAEM,SAAA8e,YAAY,CAACsK,GAAD,EAAc;AAC/B,mBAAO,KAAKgT,SAAL,CAAe10B,IAAf,CAAoB0hB,GAApB,CAAP;AACD;;QApEgC,qF;;;;;;cAAtB+S,a;AAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAbA,a;AAAa,oBAFZ;;;;;;;cAEDA,a;AAAa;gBAHzB,wDAGyB;iBAHd;AACVz7B,sBAAU,EAAE;AADF,W;AAGc,U;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrB1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAgBam8B,uB;AAgBX,yCACmB5Q,YADnB,EAEmBpf,gBAFnB,EAGmB1J,MAHnB,EAGiC;AAAA;;AAAA;;AAE/B;AAJiB,mBAAA8oB,YAAA,GAAAA,YAAA;AACA,mBAAApf,gBAAA,GAAAA,gBAAA;AACA,mBAAA1J,MAAA,GAAAA,MAAA;AAVO,mBAAA2J,IAAA,GAAgC,IAAI,0DAAJ,EAAhC;AAKV,mBAAAE,oBAAA,GAAoD,gGAApD;AAKiB;AAGhC;;;;;;eAjBD,eAAe;AACb,mBAAO,KAAKknB,KAAZ;AACD,W;eAND,aAAyB/mB,IAAzB,EAA0C;AACxC,iBAAK+mB,KAAL,GAAa/mB,IAAb;AACD;;;iBAqBM,SAAAG,IAAI;AAAA;;AACT,gBAAMJ,CAAC,GAAG,KAAKC,IAAf;AACA,iBAAK8e,YAAL,CAAkB1e,KAAlB,CAAwBL,CAAC,CAACzK,IAAF,CAAOzC,EAA/B,EAAmCkN,CAAC,CAACM,MAArC,EAA6C9L,IAA7C,CAAkD,iEAAU,KAAKE,YAAf,CAAlD,EAAgFC,SAAhF,CAA0F,YAAM;AAC9FqL,eAAC,CAACM,MAAF,GAAW,CAACN,CAAC,CAACM,MAAd;;AACA,kBAAIN,CAAC,CAACM,MAAN,EAAc;AACZ,wBAAI,CAACV,IAAL,CAAU3M,IAAV,CAAe+M,CAAf;AACD;AACF,aALD;AAMD;;;iBAEM,SAAA4vB,SAAS,CAACC,GAAD,EAAa;AAC3B,iBAAK9Q,YAAL,CAAkB+Q,IAAlB,CAAuB,KAAK7vB,IAAL,CAAU1K,IAAV,CAAezC,EAAtC,EAA0C+8B,GAA1C,EAA+Cr7B,IAA/C,CAAoD,iEAAU,KAAKE,YAAf,CAApD,EAAkFC,SAAlF;AACD;;;iBAEM,SAAAo7B,UAAU,CAACpzB,OAAD,EAAiB;AAAA;;AAChC,iBAAKoiB,YAAL,CAAkBiR,iBAAlB,CAAoC,KAAK/vB,IAAL,CAAU1K,IAAV,CAAezC,EAAnD,EAAuD6J,OAAvD,EAAgEnI,IAAhE,CAAqE,iEAAU,KAAKE,YAAf,CAArE,EAAmGC,SAAnG,CAA6G,YAAM;AACjH,sBAAI,CAACsL,IAAL,CAAU7K,IAAV,CAAeuH,OAAf,CAAuBC,SAAvB,GAAmCD,OAAnC;AACA,sBAAI,CAACsD,IAAL,CAAU7K,IAAV,CAAeuH,OAAf,CAAuBE,SAAvB,GAAmCF,OAAnC;AACD,aAHD;AAID;;;iBAEM,SAAAswB,IAAI;AACT,iBAAKh3B,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,OAAD,EAAU,KAAK6G,IAAL,CAAU1K,IAAV,CAAezC,EAAzB,EAA6B,MAA7B,CAArB;AACD;;;iBAEM,SAAAm9B,OAAO,CAAC3oB,IAAD,EAAa;AACzB,gBAAMrH,IAAI,GAAG,KAAKA,IAAlB;AACA,mBAAOA,IAAI,CAACuH,KAAL,IAAcvH,IAAI,CAACuH,KAAL,CAAWgZ,OAAX,CAAmBlZ,IAAnB,KAA4B,CAAjD;AACD;;;iBAEM,SAAAvH,OAAM;AAAA;;AACX,gBAAMC,CAAC,GAAG,KAAKC,IAAf;AACA,iBAAK8e,YAAL,CAAkB7f,OAAlB,CAA0Bc,CAAC,CAACzK,IAAF,CAAOzC,EAAjC,EAAqC0B,IAArC,CAA0C,iEAAU,KAAKE,YAAf,CAA1C,EAAwEC,SAAxE,CAAkF,YAAM;AACtF,sBAAI,CAACiL,IAAL,CAAU3M,IAAV,CAAe+M,CAAf;AACD,aAFD;AAGD;;;iBAEM,SAAAkwB,OAAO,CAAC5oB,IAAD,EAAe4G,MAAf,EAA8B;AAAA;;AAC1C,gBAAMjO,IAAI,GAAG,KAAKA,IAAlB;;AACA,gBAAIA,IAAJ,EAAU;AACR,mBAAK8e,YAAL,CAAkBoR,QAAlB,CAA2BlwB,IAAI,CAAC1K,IAAL,CAAUzC,EAArC,EAAyCwU,IAAzC,EAA+C4G,MAA/C,EAAuD1Z,IAAvD,CAA4D,iEAAU,KAAKE,YAAf,CAA5D,EAA0FC,SAA1F,CAAoG,YAAM;AACxG,oBAAIuZ,MAAM,IAAI,CAAC,QAAI,CAAC+hB,OAAL,CAAa3oB,IAAb,CAAf,EAAmC;AAAErH,sBAAI,CAACuH,KAAL,CAAWzS,IAAX,CAAgBuS,IAAhB;AAAwB;;AAC7D,oBAAI,CAAC4G,MAAD,IAAW,QAAI,CAAC+hB,OAAL,CAAa3oB,IAAb,CAAf,EAAmC;AAAErH,sBAAI,CAACuH,KAAL,CAAW+Z,MAAX,CAAkBthB,IAAI,CAACuH,KAAL,CAAWgZ,OAAX,CAAmBlZ,IAAnB,CAAlB,EAA4C,CAA5C;AAAiD;AACvF,eAHD;AAID;AACF;;;iBAEM,SAAApH,QAAQ;AAAA;;AACb,iBAAK6e,YAAL,CAAkB5e,SAAlB,CAA4B,KAAKF,IAAL,CAAU1K,IAAV,CAAezC,EAA3C,EAA+C0B,IAA/C,CACE,iEAAU,UAAC8D,CAAD;AAAA,qBAAuB,QAAI,CAACqH,gBAAL,CAAsBrM,SAAtB,CAAgCgF,CAAhC,CAAvB;AAAA,aAAV,CADF,EAEE3D,SAFF;AAGD;;QA3E0C,0F;;;;;;cAAhCg7B,uB;AAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAvBA,uB;AAAuB,wC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBChBpC,w0F;AAqBA,uM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDLaA,uB;AAAuB;gBALnC,uDAKmC;iBALzB;AACT95B,oBAAQ,EAAE,sBADD;AAETC,uBAAW,EAAE,mCAFJ;AAGTC,qBAAS,EAAE,CAAC,mCAAD;AAHF,W;AAKyB,U;;;;;;;;;;;AACdkK,cAAI;kBAAvB;AAAuB,Y;AAQEL,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE;;;;;;;;;;;;;;;;;;;AEzBlC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAkBA,UAAMzB,mBAAmB,GAAG,MAA5B;;UAKaiyB,W;AACX,6BACmBl2B,GADnB,EAEqBoE,KAFrB,EAEiC;AAAA;;AAAA;;AAE/B,oDAAMpE,GAAN,EAAWiE,mBAAX,EAAgCG,KAAhC;AAHiB,mBAAApE,GAAA,GAAAA,GAAA;AACE,mBAAAoE,KAAA,GAAAA,KAAA;AAAY;AAGhC;;;;;;iBAEM,SAAA9D,IAAI,GAAwC;AAAA,gBAAvC+D,IAAuC,uEAAxB,CAAwB;AAAA,gBAArBlK,KAAqB,uEAAF,EAAE;AACjD,mBAAO,KAAK6F,GAAL,CAASM,IAAT,WAA2C2D,mBAA3C,cAAoE,0CAAGkc,SAAH,CAAa,MAAD,OAAC,CAAD,kBAAMhmB,KAAN,CAAC,EAAU;AAAEkK,kBAAI,EAAJA;AAAF,aAAV,CAAb,CAApE,GAAyG,IAAzG,CAAP;AACD;;;iBAEM,SAAAC,MAAM,GAAoC;AAAA,gBAAnCnK,KAAmC,uEAAF,EAAE;AAC/C,mBAAO,KAAK6F,GAAL,CAASM,IAAT,WAAqC2D,mBAArC,oBAAoE,0CAAGkc,SAAH,CAAahmB,KAAb,CAApE,GAA4F,IAA5F,CAAP;AACD;;;iBAEM,SAAAoK,UAAU,CAAC3L,EAAD,EAAW;AAC1B,mBAAO,KAAKoH,GAAL,CAASM,IAAT,WAAgC2D,mBAAhC,cAAyDrL,EAAzD,GAAgE,IAAhE,CAAP;AACD;;;iBAEM,SAAA4L,cAAc,CAACC,MAAD,EAAiBJ,IAAjB,EAA6B;AAChD,mBAAO,KAAKF,UAAL,CAAgB7D,IAAhB,WAAkD2D,mBAAlD,cAA2EQ,MAA3E,iBAAgG,KAAhG,EAAuG;AAAEJ,kBAAI,EAAJA;AAAF,aAAvG,CAAP;AACD;;;iBAEM,SAAApF,OAAO;AACZ,mBAAO,KAAKe,GAAL,CAASG,KAAT,CAA+B8D,mBAA/B,EAAoD3J,IAApD,CAAyD,2DAAI,UAAC8D,CAAD;AAAA,qBAAuBA,CAAC,CAACxF,EAAzB;AAAA,aAAJ,CAAzD,CAAP;AACD;;;iBAEM,SAAA8L,MAAM,CAAC9L,EAAD,EAAa+L,KAAb,EAA6B;AACxC,mBAAO,KAAK3E,GAAL,CAAS0E,MAAT,WAAkCT,mBAAlC,cAA2DrL,EAA3D,GAAkE+L,KAAlE,CAAP;AACD;;;iBAEM,SAAA+gB,YAAY,CAAC9sB,EAAD,EAAa0C,KAAb,EAAwB;AACzC,mBAAO,KAAK0E,GAAL,CAAS8E,IAAT,WAAwCb,mBAAxC,cAAiErL,EAAjE,aAA8E,gGAAe0C,KAAf,CAA9E,CAAP;AACD;;;iBAEM,SAAA0J,OAAO,CAACpM,EAAD,EAAW;AACvB,mBAAO,KAAKoH,GAAL,CAASgF,OAAT,WAAqBf,mBAArB,cAA8CrL,EAA9C,EAAP;AACD;;;iBAEM,SAAAqM,OAAO,CAACrM,EAAD,EAAW;AACvB,mBAAO,KAAKsM,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqBuM,MAA5C,CAAP;AACD;;;iBAEM,SAAAC,QAAQ,CAACxM,EAAD,EAAW;AACxB,mBAAO,KAAKsM,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqByM,OAA5C,CAAP;AACD;;;iBAEM,SAAAC,SAAS,CAAC1M,EAAD,EAAW;AACzB,mBAAO,KAAKsM,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqByM,OAA5C,EAAqD,IAArD,CAAP;AACD;;QAlD8B,qF;;;;;;cAApB6wB,W;AAAW;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAXA,W;AAAW,oBAFV;;;;;;;cAEDA,W;AAAW;gBAHvB,wDAGuB;iBAHZ;AACV58B,sBAAU,EAAE;AADF,W;AAGY,U;;;;;;;;;;;;;;;;;;;;;;;;;ACvBxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAiBa68B,U;AAGX,4BACmB3L,IADnB,EAEmB9gB,MAFnB,EAGmB0sB,MAHnB,EAImB75B,eAJnB,EAImD;AAAA;;AAHhC,eAAAiuB,IAAA,GAAAA,IAAA;AACA,eAAA9gB,MAAA,GAAAA,MAAA;AACA,eAAA0sB,MAAA,GAAAA,MAAA;AACA,eAAA75B,eAAA,GAAAA,eAAA;AANX,eAAA85B,aAAA,GAAyC,IAAzC;AAOH;;;;eAEL,eAAmB;AACjB,gBAAIx8B,MAAM,GAAa,EAAvB;;AACA,gBAAI,CAAC,KAAK6P,MAAL,CAAY4sB,KAAjB,EAAwB;AACtBz8B,oBAAM,GAAG;AAAEkxB,6BAAa,mBAAY,KAAKrhB,MAAL,CAAYsZ,MAAxB;AAAf,eAAT;AACD;;AACD,mBAAOnpB,MAAP;AACD;;;iBAEO,SAAA08B,aAAa,CAAIrb,MAAJ,EAA2BlE,MAA3B,EAAsC;AAAA;;AACzD,mBAAO,KAAKne,QAAL,CAAcme,MAAM,CAACwf,cAArB,EAAqCl8B,IAArC,CACL,iEAAU,UAAC8D,CAAD,EAAiB;AACzB,kBAAIvE,MAAJ;;AACA,sBAAQqhB,MAAR;AACE,qBAAK,yEAAcub,GAAnB;AACE58B,wBAAM,GAAG,QAAI,CAAC2wB,IAAL,CAAUrI,GAAV,CAAc,iDAAYxM,MAAZ,GAAqBqB,MAAM,CAAC3P,GAA1C,EAA+C;AAAEqvB,2BAAO,EAAEt4B,CAAX;AAAc4Y,0BAAM,EAAE,kGAAgBA,MAAM,CAACA,MAAvB;AAAtB,mBAA/C,CAAT;AACA;;AACF,qBAAK,yEAAc/I,IAAnB;AACEpU,wBAAM,GAAG,QAAI,CAAC2wB,IAAL,CAAUW,IAAV,CAAe,iDAAYxV,MAAZ,GAAqBqB,MAAM,CAAC3P,GAA3C,EAAgD2P,MAAM,CAAC7M,IAAvD,EAA6D;AAAEusB,2BAAO,EAAEt4B;AAAX,mBAA7D,CAAT;AACA;;AACF,qBAAK,yEAAcu4B,KAAnB;AACE98B,wBAAM,GAAG,QAAI,CAAC2wB,IAAL,CAAU7lB,KAAV,CAAgB,iDAAYgR,MAAZ,GAAqBqB,MAAM,CAAC3P,GAA5C,EAAiD2P,MAAM,CAAC7M,IAAxD,EAA8D;AAAEusB,2BAAO,EAAEt4B;AAAX,mBAA9D,CAAT;AACA;;AACF,qBAAK,yEAAcw4B,GAAnB;AACE/8B,wBAAM,GAAG,QAAI,CAAC2wB,IAAL,CAAUqM,GAAV,CAAc,iDAAYlhB,MAAZ,GAAqBqB,MAAM,CAAC3P,GAA1C,EAA+C2P,MAAM,CAAC7M,IAAtD,EAA4D;AAAEusB,2BAAO,EAAEt4B;AAAX,mBAA5D,CAAT;AACA;;AACF,qBAAK,yEAAc04B,MAAnB;AACEj9B,wBAAM,GAAG,QAAI,CAAC2wB,IAAL,WAAiB,iDAAY7U,MAAZ,GAAqBqB,MAAM,CAAC3P,GAA7C,EAAkD;AAAEqvB,2BAAO,EAAEt4B;AAAX,mBAAlD,CAAT;AACA;AAfJ;;AAiBA,qBAAOvE,MAAP;AACD,aApBD,CADK,EAsBL,KAAKk9B,QAAL,EAtBK,EAuBL,2DAAI,UAAC34B,CAAD;AAAA,qBAAYA,CAAZ;AAAA,aAAJ,CAvBK,CAAP;AAyBD;;;iBAEO,SAAAvF,QAAQ,CAAC29B,cAAD,EAAwB;AAAA;;AACtC,gBAAI38B,MAAJ;;AAEA,gBAAI,KAAK6P,MAAL,CAAY4sB,KAAhB,EAAuB;AACrB,kBAAI,CAACE,cAAL,EAAqB;AACnB,sBAAM,IAAI9uB,KAAJ,CAAU,0EAAV,CAAN;AACD;;AACD7N,oBAAM,GAAG,gDAAG,KAAK68B,OAAR,CAAT;AACD,aALD,MAKO,IAAI,CAAC,KAAKhtB,MAAL,CAAYstB,OAAjB,EAA0B;AAC/Bn9B,oBAAM,GAAG,gDAAG,KAAK68B,OAAR,CAAT;AACD,aAFM,MAEA,IAAI,KAAKL,aAAT,EAAwB;AAC7Bx8B,oBAAM,GAAG,KAAKw8B,aAAd;AACD,aAFM,MAEA;AACL,kBAAMY,CAAC,GAA4B,IAAI,kDAAJ,CAA4B,CAA5B,CAAnC;AACA,mBAAKZ,aAAL,GAAqBY,CAArB;;AACA,kBAAI,KAAK16B,eAAL,CAAqBS,SAAzB,EAAoC;AAClC,qBAAKwtB,IAAL,CAAUW,IAAV,WAAmB,iDAAYxV,MAA/B,oBAAuD;AACrDyV,8BAAY,EAAE,KAAK1hB,MAAL,CAAYuZ;AAD2B,iBAAvD,EAEGxoB,SAFH,CAEa;AACX2H,uBAAK,EAAE,SAAPA,KAAO,GAAM;AACX,4BAAI,CAACi0B,aAAL,CAAmBt9B,IAAnB,CAAwB,EAAxB;;AACA,4BAAI,CAACs9B,aAAL,GAAqB,IAArB;;AACA,4BAAI,CAAC3sB,MAAL,CAAYoV,KAAZ;AACD,mBALU;AAMX/lB,sBAAI,EAAE,SAANA,IAAM,CAAC2Q,MAAD,EAAwB;AAC5B,4BAAI,CAAC2sB,aAAL,CAAmBt9B,IAAnB,CAAwB;AAAEgyB,mCAAa,mBAAarhB,MAAM,CAACsZ,MAApB;AAAf,qBAAxB;;AACA,4BAAI,CAACqT,aAAL,GAAqB,IAArB;;AACA,4BAAI,CAAC3sB,MAAL,CAAYsa,IAAZ,CAAiBta,MAAjB;AACD;AAVU,iBAFb;AAcD,eAfD,MAeO,IAAI,KAAKnN,eAAL,CAAqB4mB,QAAzB,EAAmC;AACxC,qBAAKkT,aAAL,CAAmBt9B,IAAnB,CAAwB,EAAxB;AACA,qBAAKs9B,aAAL,GAAqB,IAArB;AACA,qBAAK3sB,MAAL,CAAYoV,KAAZ;AACD;;AAEDjlB,oBAAM,GAAGo9B,CAAC,CAAC38B,IAAF,CAAO,8DAAP,CAAT;AACD;;AAED,mBAAOT,MAAP;AACD;;;iBAEO,SAAAk9B,QAAQ;AAAA;;AACd,mBAAO,UAAClyB,MAAD,EAA2B;AAChC,qBAAOA,MAAM,CAACvK,IAAP,CAAY,kEAAW,UAAC8H,KAAD,EAAgB;AAC5C,oBAAIA,KAAK,YAAY,sEAAjB,IAAsCA,KAAK,CAAC4R,MAAN,KAAiB,GAA3D,EAAgE;AAC9D,0BAAI,CAACtK,MAAL,CAAYoV,KAAZ;AACD;;AACD,sBAAM1c,KAAN;AACD,eALkB,CAAZ,CAAP;AAMD,aAPD;AAQD;;;iBAEM,SAAA80B,4BAA4B,CAACC,IAAD,EAAwC;AAAA,gBAAzBC,QAAyB,uEAAL,KAAK;AACzE,gBAAIv9B,MAAJ;;AACA,gBAAI,KAAK6P,MAAL,CAAY4sB,KAAhB,EAAuB;AACrB,kBAAMhL,GAAG,GAAW,CAAC8L,QAAQ,GAAG,GAAH,GAAS,GAAlB,IAAyB,IAA7C;AACAv9B,oBAAM,GAAG,KAAKu8B,MAAL,CAAYiB,YAAZ,CAAyB/8B,IAAzB,CAA8B,2DAAI,UAACg9B,EAAD;AAAA,uBAAgBH,IAAI,GAAG7L,GAAP,GAAagM,EAA7B;AAAA,eAAJ,CAA9B,CAAT;AACD,aAHD,MAGO;AACLz9B,oBAAM,GAAG,gDAAGs9B,IAAH,CAAT;AACD;;AACD,mBAAOt9B,MAAP;AACD;;;iBAEM,SAAAyG,IAAI,CAAI+G,GAAJ,EAAwE;AAAA,gBAAvDmvB,cAAuD,uEAA7B,KAA6B;AAAA,gBAAtBxf,MAAsB;AACjF,mBAAO,KAAKuf,aAAL,CAAmB,yEAAcE,GAAjC,EAAsC;AAAEpvB,iBAAG,EAAHA,GAAF;AAAOmvB,4BAAc,EAAdA,cAAP;AAAuBxf,oBAAM,EAANA;AAAvB,aAAtC,CAAP;AACD;;;iBAEM,SAAA7W,KAAK,CAAYkH,GAAZ,EAAyB8C,IAAzB,EAAoE;AAAA,gBAA/BqsB,cAA+B,uEAAL,KAAK;AAC9E,mBAAO,KAAKD,aAAL,CAAmB,yEAActoB,IAAjC,EAAuC;AAAE5G,iBAAG,EAAHA,GAAF;AAAO8C,kBAAI,EAAJA,IAAP;AAAaqsB,4BAAc,EAAdA;AAAb,aAAvC,CAAP;AACD;;;iBAEM,SAAA1xB,IAAI,CAAYuC,GAAZ,EAAyB8C,IAAzB,EAAoE;AAAA,gBAA/BqsB,cAA+B,uEAAL,KAAK;AAC7E,mBAAO,KAAKD,aAAL,CAAmB,yEAAcK,GAAjC,EAAsC;AAAEvvB,iBAAG,EAAHA,GAAF;AAAO8C,kBAAI,EAAJA,IAAP;AAAaqsB,4BAAc,EAAdA;AAAb,aAAtC,CAAP;AACD;;;iBAEM,SAAA9xB,MAAM,CAAY2C,GAAZ,EAAyB8C,IAAzB,EAAoE;AAAA,gBAA/BqsB,cAA+B,uEAAL,KAAK;AAC/E,mBAAO,KAAKD,aAAL,CAAmB,yEAAcI,KAAjC,EAAwC;AAAEtvB,iBAAG,EAAHA,GAAF;AAAO8C,kBAAI,EAAJA,IAAP;AAAaqsB,4BAAc,EAAdA;AAAb,aAAxC,CAAP;AACD;;;iBAEM,SAAAxxB,OAAO,CAAYqC,GAAZ,EAAwD;AAAA,gBAA/BmvB,cAA+B,uEAAL,KAAK;AACpE,mBAAO,KAAKD,aAAL,CAAmB,yEAAcO,MAAjC,EAAyC;AAAEzvB,iBAAG,EAAHA,GAAF;AAAOmvB,4BAAc,EAAdA;AAAP,aAAzC,CAAP;AACD;;;;;;;;cAhIUL,U;AAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAVA,U;AAAU,oBAFT;;;;;;;cAEDA,U;AAAU;gBAHtB,wDAGsB;iBAHX;AACV78B,sBAAU,EAAE;AADF,W;AAGW,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAkBA,kFAAmB,kEAAnB,EAA6B,IAA7B;;AAEO,eAASi+B,iBAAT,CAA2BC,UAA3B,EAAiD;AACtD,eAAO,IAAI,8EAAJ,CAAwBA,UAAxB,EAAoC,CAAC,kDAAYjiB,UAAZ,GAAyB,kDAAYlO,GAArC,GAA2C,EAA5C,IAAkD,eAAtF,EAAuG,OAAvG,CAAP;AACD;;UA+BYowB,S;;;;;;;;cAAAA,S;AAAS,gB;AAAA;;;;;;cAATA,S;AAAS,oBAFR,2DAEQ,C;AAFI,uBAzBtB,2DAyBsB,C;AAzBV,2FAIZ,oEAJY,EAKZ,qEALY,EAMZ,wEANY,EAOZ,2EAPY,EAQZ,oFARY,EAQc,mEARd,EAgBZ,kEAhBY,EAgBA,4DAhBA;;;;;;cA2BHA,S;AAAS,mBANT,CACT;AAAE71B,iBAAO,EAAE,uDAAX;AAAsB81B,kBAAQ,EAAE;AAAhC,SADS,EAET,iEAFS,C;AAGV,kBAtBQ,CACP,wEAAcC,oBAAd,CAAmC;AAAEjd,eAAK,EAAE;AAAT,SAAnC,CADO,EAEP,oEAFO,EAGP,qEAHO,EAIP,wEAJO,EAKP,2EALO,EAMP,oFANO,EAOP,oEAAgBkd,OAAhB,CAAwB;AACtB9wB,gBAAM,EAAE;AACNlF,mBAAO,EAAE,mEADH;AAENi2B,sBAAU,EAAEN,iBAFN;AAGNO,gBAAI,EAAE,CAAC,+DAAD;AAHA;AADc,SAAxB,CAPO,EAcP,kEAdO,EAeP,wDAAWF,OAAX,CAAmB,CAAC,sFAAD,CAAnB,EAAqC;AACnCG,yBAAe,EAAE,CAAC,kDAAYxiB;AADK,SAArC,CAfO,CAsBR;;;;;;;cAGUkiB,S;AAAS;gBA7BrB,sDA6BqB;iBA7BZ;AACR5W,wBAAY,EAAE,CACZ,2DADY,CADN;AAIRE,mBAAO,EAAE,CACP,wEAAc4W,oBAAd,CAAmC;AAAEjd,mBAAK,EAAE;AAAT,aAAnC,CADO,EAEP,oEAFO,EAGP,qEAHO,EAIP,wEAJO,EAKP,2EALO,EAMP,oFANO,EAOP,oEAAgBkd,OAAhB,CAAwB;AACtB9wB,oBAAM,EAAE;AACNlF,uBAAO,EAAE,mEADH;AAENi2B,0BAAU,EAAEN,iBAFN;AAGNO,oBAAI,EAAE,CAAC,+DAAD;AAHA;AADc,aAAxB,CAPO,EAcP,kEAdO,EAeP,wDAAWF,OAAX,CAAmB,CAAC,sFAAD,CAAnB,EAAqC;AACnCG,6BAAe,EAAE,CAAC,kDAAYxiB;AADK,aAArC,CAfO,CAJD;AAuBRxT,qBAAS,EAAE,CACT;AAAEH,qBAAO,EAAE,uDAAX;AAAsB81B,sBAAQ,EAAE;AAAhC,aADS,EAET,iEAFS,CAvBH;AA2BRM,qBAAS,EAAE,CAAC,2DAAD;AA3BH,W;AA6BY;;;;;;;;;;;;;;;;;;ACrDtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUaC,iB;AAGX,mCAA6BhlB,cAA7B,EAA6D;AAAA;;AAAhC,eAAAA,cAAA,GAAAA,cAAA;AAFb,eAAA3F,KAAA,GAAsB,kDAAtB;AAEgD;;;;eAEhE,eAAqB;AACnB,mBAAO,KAAK2F,cAAL,CAAoBxV,SAApB,CAA8BzE,KAArC;AACD;;;iBAEM,SAAAk/B,UAAU,CAACh2B,IAAD,EAAqD;AACpE,gBAAIrI,MAAM,GAAG,KAAb;;AADoE,8CAA5ByT,KAA4B;AAA5BA,mBAA4B;AAAA;;AAGpE,gBAAIpL,IAAI,IAAIA,IAAI,CAACoL,KAAb,IAAsBpL,IAAI,CAACoL,KAAL,CAAWqL,QAAX,CAAoB,KAAKrL,KAAL,CAAWtB,SAA/B,CAA1B,EAAqE;AACnEnS,oBAAM,GAAG,IAAT;AACD,aAFD,MAEO,IAAIqI,IAAI,IAAIA,IAAI,CAACoL,KAAb,IAAsBA,KAA1B,EAAiC;AAAA,0DACnBA,KAAK,CAACyE,MAAN,CAAa,UAACmI,CAAD,EAAcmG,CAAd,EAAuC;AACrE,oBAAI/O,KAAK,CAACC,OAAN,CAAc8O,CAAd,CAAJ,EAAsB;AACpBnG,mBAAC,CAACrf,IAAF,OAAAqf,CAAC,qBAASmG,CAAT,EAAD;AACD,iBAFD,MAEO;AACLnG,mBAAC,CAACrf,IAAF,CAAOwlB,CAAP;AACD;;AACD,uBAAOnG,CAAP;AACD,eAPkB,EAOhB,EAPgB,CADmB;AAAA;;AAAA;AACtC,uEAOQ;AAAA,sBAPG9M,IAOH;;AACN,sBAAIlL,IAAI,CAACoL,KAAL,CAAWqL,QAAX,CAAoBvL,IAApB,CAAJ,EAA+B;AAC7BvT,0BAAM,GAAG,IAAT;AACD;AACF;AAZqC;AAAA;AAAA;AAAA;AAAA;AAavC;;AAED,mBAAOA,MAAP;AACD;;;iBAEM,SAAAq6B,WAAW,GAAgC;AAAA;;AAAA,+CAA5B5mB,KAA4B;AAA5BA,mBAA4B;AAAA;;AAChD,mBAAO,KAAK2F,cAAL,CAAoB5U,KAApB,CAA0B/D,IAA1B,CAA+B,2DAAI,UAAC4H,IAAD;AAAA,qBAAyB,QAAI,CAACg2B,UAAL,eAAI,GAAYh2B,IAAZ,SAAqBoL,KAArB,EAA7B;AAAA,aAAJ,CAA/B,CAAP;AACD;;;;;;;;cAlCU2qB,iB;AAAiB;AAAA;AAAA,U;AAAA;;;;;;cAAjBA,iB;AAAiB,oBAFhB;;;;;;;cAEDA,iB;AAAiB;gBAH7B,wDAG6B;iBAHlB;AACV3+B,sBAAU,EAAE;AADF,W;AAGkB,U;;;;;;;;;;;;;;;;;;;;;;;ACV9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAwBa6+B,kB;AAUX,oCACmBjvB,YADnB,EAEmBD,WAFnB,EAGmB4b,YAHnB,EAImB5oB,mBAJnB,EAKmBF,MALnB,EAMkBgN,kBANlB,EAMwD;AAAA;;AAAA;;AAEtD;AAPiB,mBAAAG,YAAA,GAAAA,YAAA;AACA,mBAAAD,WAAA,GAAAA,WAAA;AACA,mBAAA4b,YAAA,GAAAA,YAAA;AACA,mBAAA5oB,mBAAA,GAAAA,mBAAA;AACA,mBAAAF,MAAA,GAAAA,MAAA;AACD,mBAAAgN,kBAAA,GAAAA,kBAAA;AAfF,mBAAAqvB,gBAAA,GAA4C,oEAA5C;AACA,mBAAAl1B,SAAA,GAAuB,6DAAWA,SAAlC;AACA,mBAAAG,YAAA,GAA0B,6DAAWA,YAArC;AACA,mBAAAC,YAAA,GAA0B,6DAAWA,YAArC;AAET,mBAAA+0B,SAAA,GAAY,KAAZ;AACA,mBAAAC,QAAA,GAAW,KAAX;AACA,mBAAAC,YAAA,GAAiC,qEAAiBC,KAAlD;AAQiD;AAGvD;;;;;;iBAEM,SAAAhvB,aAAa;AAAA;;AAClB,gBAAMxQ,KAAK,GAAG,KAAKkK,SAAL,CAAelK,KAA7B;AACA,iBAAKiQ,WAAL,CAAiBQ,MAAjB,CAAwBzQ,KAAK,CAACmK,OAA9B,EAAuCnK,KAAK,CAACwH,QAA7C,EAAuDlG,IAAvD,CACE,iEAAU,UAACoP,MAAD;AAAA,qBAAwB,QAAI,CAACR,YAAL,CAAkBO,MAAlB,CAAyBC,MAAzB,CAAxB;AAAA,aAAV,CADF,EAEE,8DAAO,UAACtL,CAAD;AAAA,qBAAkB,CAAC,CAACA,CAApB;AAAA,aAAP,CAFF,EAGE,2DAAI;AAAA,qBAAM,QAAI,CAACrC,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB,CAAN;AAAA,aAAJ,CAHF,EAIE,kEAAW,UAACkD,KAAD,EAAuB;AAChC,sBAAQA,KAAK,CAACwH,KAAd;AACE,qBAAK,+EAAL;AACE,0BAAI,CAAC1G,SAAL,CAAea,QAAf,CAAwBZ,OAAxB,CAAgC0G,SAAhC,CAA0C;AAAEC,gCAAY,EAAE;AAAhB,mBAA1C;;AACA;;AACF,qBAAK,gFAAL;AACE,0BAAI,CAAC5G,SAAL,CAAea,QAAf,CAAwBvD,QAAxB,CAAiCqJ,SAAjC,CAA2C;AAAEE,iCAAa,EAAE;AAAjB,mBAA3C;;AACA;;AACF,qBAAK,mFAAL;AACE,0BAAI,CAAC7G,SAAL,CAAea,QAAf,CAAwBvD,QAAxB,CAAiCqJ,SAAjC,CAA2C;AAAE4uB,oCAAgB,EAAE;AAApB,mBAA3C;;AACA;;AACF;AACE,0BAAI,CAACv1B,SAAL,CAAe2G,SAAf,CAAyB;AAAEG,2BAAO,EAAE;AAAX,mBAAzB;;AACA;AAZJ;;AAcA,qBAAO,gDAAG,IAAH,CAAP;AACD,aAhBD,CAJF,EAqBE,iEAAU,KAAKxP,YAAf,CArBF,EAsBEC,SAtBF;AAuBD;;;iBAEM,SAAAi+B,gBAAgB;AAAA;;AACrB,gBAAM1/B,KAAK,GAAG,KAAKqK,YAAL,CAAkBrK,KAAhC;AACA,iBAAK6rB,YAAL,CAAkB8T,UAAlB,CAA6B3/B,KAAK,CAACkH,KAAnC,EAA0C5F,IAA1C,CACE,2DAAI,YAAM;AACR,sBAAI,CAAC+9B,SAAL,GAAiB,IAAjB;AACA,sBAAI,CAACC,QAAL,GAAgB,KAAhB;AACD,aAHD,CADF,EAKE,kEAAW,YAAM;AACf,sBAAI,CAACA,QAAL,GAAgB,IAAhB;AACA,qBAAO,gDAAG,IAAH,CAAP;AACD,aAHD,CALF,EASE,iEAAU,KAAK99B,YAAf,CATF,EAUEC,SAVF;AAWD;;;iBAEM,SAAAm+B,gBAAgB;AAAA;;AACrB,gBAAM5/B,KAAK,GAAG,KAAKsK,YAAL,CAAkBtK,KAAhC;AACA,gBAAM6/B,KAAK,GAAG7/B,KAAK,CAACmC,IAAN,CAAW2W,KAAX,CAAiB,cAAjB,CAAd;AACA,iBAAK+S,YAAL,CAAkBla,SAAlB,CAA4BkuB,KAAK,CAAC,CAAD,CAAjC,EAAsCA,KAAK,CAAC,CAAD,CAA3C,EAAgD7/B,KAAK,CAACkH,KAAtD,EAA6DlH,KAAK,CAACwH,QAAnE,EAA6ExH,KAAK,CAAC0K,QAAnF,EAA6FpJ,IAA7F,CACE,iEAAU,UAACoP,MAAD;AAAA,qBAAwB,QAAI,CAACR,YAAL,CAAkBO,MAAlB,CAAyBC,MAAzB,CAAxB;AAAA,aAAV,CADF,EAEE,8DAAO,UAACtL,CAAD;AAAA,qBAAkB,CAAC,CAACA,CAApB;AAAA,aAAP,CAFF,EAGE,2DAAI;AAAA,qBAAM,QAAI,CAACrC,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB,CAAN;AAAA,aAAJ,CAHF,EAIE,kEAAW,UAACkD,KAAD,EAAuB;AAChC,sBAAQA,KAAK,CAACwH,KAAd;AACE,qBAAK,0EAAL;AACE,0BAAI,CAACtG,YAAL,CAAkBS,QAAlB,CAA2BL,QAA3B,CAAoCmG,SAApC,CAA8C;AAAEivB,yBAAK,EAAE;AAAT,mBAA9C;;AACA;;AACF,qBAAK,uEAAL;AACE,0BAAI,CAACx1B,YAAL,CAAkBS,QAAlB,CAA2B7D,KAA3B,CAAiC2J,SAAjC,CAA2C;AAAEivB,yBAAK,EAAE;AAAT,mBAA3C;;AACA;;AACF;AACE,sBAAI12B,KAAK,CAACA,KAAN,IAAeA,KAAK,CAACA,KAAN,CAAY4R,MAAZ,KAAuB,GAA1C,EAA+C;AAC7C,4BAAI,CAAC1Q,YAAL,CAAkBS,QAAlB,CAA2B7D,KAA3B,CAAiC2J,SAAjC,CAA2C;AAAEivB,2BAAK,EAAE;AAAT,qBAA3C;;AACA,4BAAI,CAACx1B,YAAL,CAAkBS,QAAlB,CAA2BL,QAA3B,CAAoCmG,SAApC,CAA8C;AAAEivB,2BAAK,EAAE;AAAT,qBAA9C;AACD;;AACD;AAZJ;;AAcA,qBAAO,gDAAG,IAAH,CAAP;AACD,aAhBD,CAJF,EAqBE,iEAAU,KAAKt+B,YAAf,CArBF,EAsBEC,SAtBF;AAuBD;;;iBAEM,SAAAsE,cAAc;AACnB,iBAAK9C,mBAAL,CAAyByB,eAAzB,CAAyC,KAAzC;AACD;;;iBAEM,SAAAq7B,eAAe,CAACC,IAAD,EAAuB;AAC3C,iBAAKT,YAAL,GAAoBS,IAApB;AACD;;QAjGqC,0F;;;;;;cAA3Bb,kB;AAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAlBA,kB;AAAkB,kC;AAAA,6B;AAAA,4D;AAAA,kBCxB/B,43T;AAkLA,2k3C;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cD1JaA,kB;AAAkB;gBAL9B,uDAK8B;iBALpB;AACTx8B,oBAAQ,EAAE,gBADD;AAETC,uBAAW,EAAE,6BAFJ;AAGTC,qBAAS,EAAE,CAAC,6BAAD;AAHF,W;AAKoB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AExB/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAgBao9B,wB;AAOX,0CACmBl9B,MADnB,EAEmBqa,aAFnB,EAGmB3Q,gBAHnB,EAGqD;AAAA;;AAAA;;AAEnD;AAJiB,mBAAA1J,MAAA,GAAAA,MAAA;AACA,mBAAAqa,aAAA,GAAAA,aAAA;AACA,mBAAA3Q,gBAAA,GAAAA,gBAAA;AAPO,mBAAAC,IAAA,GAAiC,IAAI,0DAAJ,EAAjC;AAEV,mBAAAE,oBAAA,GAAoD,gGAApD;AAKqC;AAGpD;;;;;;iBAEM,SAAAM,IAAI;AAAA;;AACT,gBAAMJ,CAAC,GAAG,KAAKC,IAAf;AACA,kEAAS,CAAC,KAAKqQ,aAAL,CAAmBnB,UAAnB,CAA8BnP,CAAC,CAACzK,IAAF,CAAOzC,EAArC,EAAyC,IAAzC,CAAD,EAAiD,KAAKwd,aAAL,CAAmBjQ,KAAnB,CAAyBL,CAAC,CAACzK,IAAF,CAAOzC,EAAhC,EAAoCkN,CAAC,CAACM,MAAtC,CAAjD,CAAT,EACG9L,IADH,CACQ,iEAAU,KAAKE,YAAf,CADR,EAEGC,SAFH,CAEa,YAAM;AACfqL,eAAC,CAACM,MAAF,GAAW,CAACN,CAAC,CAACM,MAAd;;AACA,kBAAIN,CAAC,CAACM,MAAN,EAAc;AACZ,wBAAI,CAACV,IAAL,CAAU3M,IAAV,CAAe+M,CAAf;AACD;AACJ,aAPD;AAQD;;;iBAEM,SAAAE,QAAQ;AAAA;;AACb,iBAAKoQ,aAAL,CAAmBnQ,SAAnB,CAA6B,KAAKF,IAAL,CAAU1K,IAAV,CAAezC,EAA5C,EAAgD0B,IAAhD,CACE,iEAAU,UAAC8D,CAAD;AAAA,qBAAuB,QAAI,CAACqH,gBAAL,CAAsBrM,SAAtB,CAAgCgF,CAAhC,CAAvB;AAAA,aAAV,CADF,EAEE,iEAAU,KAAK5D,YAAf,CAFF,EAGEC,SAHF;AAID;;;iBAEM,SAAAs4B,IAAI;AACT,iBAAKh3B,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,SAAD,EAAY,KAAK6G,IAAL,CAAU1K,IAAV,CAAezC,EAA3B,EAA+B,MAA/B,CAArB;AACD;;QApC2C,0F;;;;;;cAAjCqgC,wB;AAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAxBA,wB;AAAwB,yC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBChBrC,8xB;AAQA,uM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDQaA,wB;AAAwB;gBALpC,uDAKoC;iBAL1B;AACTt9B,oBAAQ,EAAE,uBADD;AAETC,uBAAW,EAAE,oCAFJ;AAGTC,qBAAS,EAAE,CAAC,oCAAD;AAHF,W;AAK0B,U;;;;;;;;;;;AACnBkK,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AAEIL,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE;;;;;;;;;;;;;;;;;;;AEnBlC;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYwzB,aAAZ;;AAAA,iBAAYA,aAAZ,EAAyB;AACrB;AACA;AACA;AACA;AACA;AACH,OAND,EAAYA,aAAa,KAAbA,aAAa,MAAzB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UA4CaC,iB;;;;;;;;cAAAA,iB;AAAiB,gB;AAAA;;;;;;cAAjBA,iB;AAAiB,uBA3B1B,gEA2B0B,EA1B1B,gEA0B0B,EAzB1B,gEAyB0B,EAxB1B,mDAwB0B,EAvB1B,qDAuB0B,EAtB1B,2EAsB0B,EArB1B,iDAqB0B,EApB1B,8DAoB0B,EAnB1B,8DAmB0B,EAlB1B,kEAkB0B,C;AAlBZ,kBAcd,4DAdc,C;AAcF,kBAXZ,gEAWY,EAVZ,gEAUY,EATZ,gEASY,EARZ,mDAQY,EAPZ,qDAOY,EANZ,2EAMY,EALZ,iDAKY,EAJZ,8DAIY,EAHZ,kEAGY;;;;;;cAIHA,iB;AAAiB,mBAFjB,CAAC,8EAAD,C;AAAe,kBAHjB,CACP,4DADO,CAGiB;;;;;;;cAEfA,iB;AAAiB;gBA7B7B,sDA6B6B;iBA7BpB;AACRtY,wBAAY,EAAE,CACZ,gEADY,EAEZ,gEAFY,EAGZ,gEAHY,EAIZ,mDAJY,EAKZ,qDALY,EAMZ,2EANY,EAOZ,iDAPY,EAQZ,8DARY,EASZ,8DATY,EAUZ,kEAVY,CADN;AAaRC,mBAAO,EAAE,CACP,gEADO,EAEP,gEAFO,EAGP,gEAHO,EAIP,mDAJO,EAKP,qDALO,EAMP,2EANO,EAOP,iDAPO,EAQP,8DARO,EASP,kEATO,CAbD;AAwBRC,mBAAO,EAAE,CACP,4DADO,CAxBD;AA2BRhf,qBAAS,EAAE,CAAC,8EAAD;AA3BH,W;AA6BoB;;;;;;;;;;;;;;;;;;AC5C9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAEA,UAAMq3B,YAAY,GAAG,EAArB;;UASaC,Y;AAPb;AAAA;;AAQoC,eAAAC,SAAA,aAAgBF,YAAhB;AACC,eAAAG,UAAA,aAAiBH,YAAjB;AAGnB,eAAAj+B,IAAA,GAAO,EAAP,CAZlB,CAmCE;;AACO,eAAAq+B,MAAA,GAAiBJ,YAAjB,CApCT,CAqCE;;AACO,eAAAK,OAAA,GAAkBL,YAAlB;AACR;;;;eArBC,eAAgB;AACd,mBAAO,KAAKI,MAAZ;AACD,W;eAND,aAA6B7wB,KAA7B,EAA4C;AAC1C,iBAAK6wB,MAAL,GAAc7wB,KAAd;AACA,iBAAK2wB,SAAL,aAAoB3wB,KAApB;AACD;;;eASD,eAAiB;AACf,mBAAO,KAAK8wB,OAAZ;AACD,W;eAND,aAA8B5wB,MAA9B,EAA8C;AAC5C,iBAAK4wB,OAAL,GAAe5wB,MAAf;AACA,iBAAK0wB,UAAL,aAAqB1wB,MAArB;AACD;;;eAKD,aAAyBlJ,IAAzB,EAAuC;AACrC,iBAAKgJ,KAAL,GAAahJ,IAAb;AACA,iBAAKkJ,MAAL,GAAclJ,IAAd;AACD;;;;;;;;cA1BU05B,Y;AAAY,gB;AAAA;;;;;cAAZA,Y;AAAY,6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBAHrB,0J;AAA0J,sB;AAAA;;;;;;;cAGjJA,Y;AAAY;gBAPxB,uDAOwB;iBAPd;AACT;AACA19B,oBAAQ,EAAE,WAFD;AAGT0Q,oBAAQ,EACN,0JAJO;AAKTzM,2BAAe,EAAE,sEAAwBC;AALhC,W;AAOc,U;;AACWy5B,mBAAS;kBAA1C,yDAA0C;mBAA9B,Y;AAA8B,Y;AACRC,oBAAU;kBAA5C,yDAA4C;mBAAhC,a;AAAgC,Y;AACTG,qBAAW,EAAE,CAAF;kBAA9C,yDAA8C;mBAAlC,c;AAAkC,WAAE,C;AAEjCv+B,cAAI;kBAAnB;AAAmB,Y;AAEGwN,eAAK;kBAA3B,mDAA2B;mBAArB,G;AAAqB,Y;AAQLE,gBAAM;kBAA5B,mDAA4B;mBAAtB,G;AAAsB,Y;AAQTlJ,cAAI;kBAAvB;AAAuB;;;;;;;;;;;;;;;;;;;AClC1B;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYg6B,cAAZ;;AAAA,iBAAYA,cAAZ,EAA0B;AACtB;AACA;AACA;AACA;AACA;AACH,OAND,EAAYA,cAAc,KAAdA,cAAc,MAA1B;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUaC,qB;AAGX,uCAA6B79B,MAA7B,EAA6C;AAAA;;AAAA;;AAAhB,eAAAA,MAAA,GAAAA,MAAA;AAFb,eAAA89B,OAAA,GAAkD,IAAI,oDAAJ,CAA2C;AAAEC,uBAAW,EAAE;AAAf,WAA3C,CAAlD;AAGd,eAAK/9B,MAAL,CAAYoC,MAAZ,CAAmB7D,IAAnB,CAAwB,8DAAO,UAAC6D,MAAD;AAAA,mBAAmBA,MAAM,YAAY,6DAArC;AAAA,WAAP,CAAxB,EAAoF,8DAApF,EAA6F1D,SAA7F,CAAuG,UAACoD,KAAD,EAA0B;AAC/H,gBAAIA,KAAK,CAACk8B,iBAAN,CAAwBphB,QAAxB,CAAiC,aAAjC,CAAJ,EAAqD;AACnD,sBAAI,CAACkhB,OAAL,CAAa9gC,IAAb,CAAkB;AAAE+gC,2BAAW,EAAE;AAAf,eAAlB;AACD;AACF,WAJD;AAKD;;;;iBAEM,SAAAhb,KAAK;AACV,iBAAK+a,OAAL,CAAa9gC,IAAb,CAAkB;AAAE+gC,yBAAW,EAAE;AAAf,aAAlB;AACD;;;;;;;;cAbUF,qB;AAAqB;AAAA;AAAA,U;AAAA;;;;;;cAArBA,qB;AAAqB,oBAFpB;;;;;;;cAEDA,qB;AAAqB;gBAHjC,wDAGiC;iBAHtB;AACVtgC,sBAAU,EAAE;AADF,W;AAGsB,U;;;;;;;;;;;;;;;;;;;;;;;ACHlC;AAAA;;;AAAA;AAAA;AAAA;;AAAO,UAAM0gC,oBAAoB,GAA0B;AACvDC,4BAAoB,EAAE;AAClBzF,qBAAW,EAAE,IADK;AAElB1N,eAAK,EAAE,CACH;AACI7rB,gBAAI,EAAE,mBADV;AAEI4tB,gBAAI,EAAE,CAAC,GAAD,CAFV;AAGI1uB,iBAAK,EAAE;AACHyC,iBAAG,EAAE,QADF;AAEH6F,qBAAO,EAAE;AAFN;AAHX,WADG,EASH;AACIxH,gBAAI,EAAE,qBADV;AAEI4tB,gBAAI,EAAE,CAAC,GAAD,CAFV;AAGI1uB,iBAAK,EAAE;AACHyC,iBAAG,EAAE,QADF;AAEH6F,qBAAO,EAAE;AAFN;AAHX,WATG,EAiBH;AACIxH,gBAAI,EAAE,kBADV;AAEI4tB,gBAAI,EAAE,CAAC,GAAD,CAFV;AAGI1uB,iBAAK,EAAE;AACHyC,iBAAG,EAAE,OADF;AAEH6F,qBAAO,EAAE;AAFN;AAHX,WAjBG;AAFW,SADiC;AA8BvDy3B,2BAAmB,EAAE;AACjB1F,qBAAW,EAAE,IADI;AAEjB1N,eAAK,EAAE,CACH;AACI7rB,gBAAI,EAAE,oBADV;AAEI4tB,gBAAI,EAAE,CAAC,cAAD;AAFV,WADG,EAKH;AACI5tB,gBAAI,EAAE,mBADV;AAEI4tB,gBAAI,EAAE,CAAC,qBAAD;AAFV,WALG,EASH;AACI5tB,gBAAI,EAAE,qBADV;AAEI4tB,gBAAI,EAAE,CAAC,eAAD;AAFV,WATG,EAaH;AACI5tB,gBAAI,EAAE,sBADV;AAEI4tB,gBAAI,EAAE,CAAC,gBAAD;AAFV,WAbG,EAiBH;AACI5tB,gBAAI,EAAE,qBADV;AAEI4tB,gBAAI,EAAE,CAAC,eAAD;AAFV,WAjBG,EAqBH;AACI5tB,gBAAI,EAAE,2BADV;AAEI4tB,gBAAI,EAAE,CAAC,mBAAD;AAFV,WArBG,EAyBH;AACI5tB,gBAAI,EAAE,yBADV;AAEI4tB,gBAAI,EAAE,CAAC,wBAAD;AAFV,WAzBG;AAFU;AA9BkC,OAApD;;;;;;;;;;;;;;;;ACPP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAOasR,kB;AAkBX,oCACmBC,iBADnB,EAEmBrhB,WAFnB,EAGmB8F,aAHnB,EAGkD;AAAA;;AAF/B,eAAAub,iBAAA,GAAAA,iBAAA;AACA,eAAArhB,WAAA,GAAAA,WAAA;AACA,eAAA8F,aAAA,GAAAA,aAAA;AAPX,eAAAvR,KAAA,GAAkB,EAAlB;AACA,eAAA+sB,GAAA,GAAe,IAAf;AACA,eAAAC,EAAA,GAAc,IAAd;AAMJ;;;;eArBJ,aAAiCC,KAAjC,EAAqF;AACnF,iBAAKjtB,KAAL,GAAa,KAAKktB,YAAL,CAAkBD,KAAlB,CAAb;AACA,iBAAK/8B,MAAL;AACD;;;eACD,aAAoC68B,GAApC,EAAkD;AAChD,iBAAKA,GAAL,GAAWA,GAAX;AACA,iBAAK78B,MAAL;AACD;;;eACD,aAAmC88B,EAAnC,EAAgD;AAC9C,iBAAKA,EAAL,GAAUA,EAAV;AACA,iBAAK98B,MAAL;AACD;;;iBAYM,SAAAg9B,YAAY,CAACD,KAAD,EAAmD;AACpE,gBAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,kBAAMvhC,KAAK,GAAG,KAAKohC,iBAAL,CAAuB9sB,KAAvB,CAA6BitB,KAA7B,CAAd;;AACA,kBAAI,OAAOvhC,KAAP,KAAiB,QAArB,EAA+B;AAC7B,uBAAO,CAACA,KAAD,CAAP;AACD;;AACD,qBAAOA,KAAP;AACD;;AACD,mBAAOuhC,KAAP;AACD;;;iBAEM,SAAA/8B,MAAM;AAAA;;AACX,gBAAM68B,GAAG,GAAY,KAAKA,GAAL,KAAa,KAAlC;AACA,gBAAMC,EAAE,GAAY,KAAKA,EAAL,KAAY,IAAhC;AACA,iBAAKF,iBAAL,CAAuBlG,WAAvB,CAAmC,KAAK5mB,KAAxC,EAA+ChT,IAA/C,CACE,2DAAI,UAACy7B,OAAD,EAAsB;AACxB,kBAAIsE,GAAG,KAAKC,EAAE,IAAIvE,OAAX,CAAP,EAA4B;AAC1B,wBAAI,CAAClX,aAAL,CAAmBC,KAAnB;;AACA,wBAAI,CAACD,aAAL,CAAmBzW,kBAAnB,CAAsC,QAAI,CAAC2Q,WAA3C;AACD,eAHD,MAGO;AACL,wBAAI,CAAC8F,aAAL,CAAmBC,KAAnB;AACD;AACF,aAPD,CADF,EASErkB,SATF;AAUD;;;;;;;;cAhDU0/B,kB;AAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAlBA,kB;AAAkB,kC;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cAAlBA,kB;AAAkB;gBAH9B,uDAG8B;iBAHpB;AACTx+B,oBAAQ,EAAE;AADD,W;AAGoB,U;;;;;;;;;;;AACT8+B,sBAAY;kBAA/B;AAA+B,Y;AAIZC,yBAAe;kBAAlC;AAAkC,Y;AAIfC,wBAAc;kBAAjC;AAAiC;;;;;;;;;;;;;;;;;;;AChBpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMaC,c;AACX,gCAA6BC,aAA7B,EAA2D;AAAA;;AAA9B,eAAAA,aAAA,GAAAA,aAAA;AAAiC;;;;iBAE9D,SAAAr4B,SAAS,CAACxJ,KAAD,EAAgBwrB,KAAhB,EAAiC5U,IAAjC,EAA+C;AACtD,gBAAI/V,MAAJ;;AACA,gBAAI+V,IAAJ,EAAU;AACR/V,oBAAM,GAAG,KAAKghC,aAAL,CAAmBxJ,qBAAnB,CAAyCr4B,KAAzC,CAAT;AACD,aAFD,MAEO,IAAI,CAACwrB,KAAL,EAAY;AACjB3qB,oBAAM,GAAG,KAAKghC,aAAL,CAAmBtJ,iBAAnB,CAAqCv4B,KAArC,CAAT;AACD,aAFM,MAEA;AACLa,oBAAM,GAAG,KAAKghC,aAAL,CAAmB/J,sBAAnB,CAA0C93B,KAA1C,CAAT;AACD;;AACD,mBAAOa,MAAP;AACD;;;;;;;;cAbU+gC,c;AAAc;AAAA;AAAA,U;AAAA;;;;;;cAAdA,c;AAAc;;;;;;;cAAdA,c;AAAc;gBAH1B,kDAG0B;iBAHrB;AACJz/B,gBAAI,EAAE;AADF,W;AAGqB,U;;;;;;;;;;;;;;;;;;;;;;;ACN3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAwBA,UAAK2/B,qBAAL;;AAAA,iBAAKA,qBAAL,EAA0B;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,OAVD,EAAKA,qBAAqB,KAArBA,qBAAqB,MAA1B;;UAesBC,6B;AAiBpB,+CACqB3+B,oBADrB,EAEqBka,eAFrB,EAGqBF,aAHrB,EAIqBC,WAJrB,EAKqBwO,YALrB,EAMqByO,cANrB,EAMmD;AAAA;;AAAA;;AAC/C;AANiB,mBAAAl3B,oBAAA,GAAAA,oBAAA;AACA,mBAAAka,eAAA,GAAAA,eAAA;AACA,mBAAAF,aAAA,GAAAA,aAAA;AACA,mBAAAC,WAAA,GAAAA,WAAA;AACA,mBAAAwO,YAAA,GAAAA,YAAA;AACA,mBAAAyO,cAAA,GAAAA,cAAA;AAhBL,mBAAAplB,QAAA,GAA4B,gHAA5B;AACA,mBAAA8sB,QAAA,GAAuC,EAAvC;AACA,mBAAAC,oBAAA,GAAuBH,qBAAvB;AAET,mBAAAI,QAAA,GAAmB,IAAnB;AACA,mBAAA7zB,GAAA,GAAa,EAAb;AAW4C;AACrC;;;;;;eAvBd,aAAyBtB,IAAzB,EAA8C;AAC5C,iBAAKqK,IAAL,GAAYrK,IAAZ;AACA,iBAAKo1B,iBAAL;AACA,iBAAKC,OAAL;AACD;;;iBAqBO,SAAAD,iBAAiB;AACvB,oBAAQ,KAAK/qB,IAAL,CAAUhC,IAAlB;AACE,mBAAK,eAAL;AACA,mBAAK,cAAL;AACA,mBAAK,kBAAL;AACE,qBAAK8sB,QAAL,GAAgB,aAAc,KAAK9qB,IAAL,CAAUjG,IAAV,CAA4CvR,EAA1E;AACA,qBAAKyO,GAAL,GAAW,CAAC,OAAD,EAAW,KAAK+I,IAAL,CAAUjG,IAAV,CAA4C8U,OAA5C,CAAoDrmB,EAA/D,CAAX;AACA,qBAAKyiC,QAAL,GAAgBP,qBAAqB,CAACQ,YAAtC;AACA;;AACF,mBAAK,gBAAL;AACE,qBAAKj0B,GAAL,GAAW,CAAC,OAAD,EAAW,KAAK+I,IAAL,CAAUjG,IAAV,CAAyCvR,EAApD,CAAX;AACA,qBAAKyiC,QAAL,GAAgBP,qBAAqB,CAACS,SAAtC;AACA;;AACF,mBAAK,kBAAL;AACA,mBAAK,oBAAL;AACA,mBAAK,oBAAL;AACA,mBAAK,oBAAL;AACA,mBAAK,kBAAL;AACA,mBAAK,gBAAL;AACA,mBAAK,cAAL;AACA,mBAAK,gBAAL;AACA,mBAAK,cAAL;AACE,qBAAKl0B,GAAL,GAAW,CAAC,OAAD,EAAW,KAAK+I,IAAL,CAAUjG,IAAV,CAA8CvR,EAAzD,CAAX;AACA,qBAAKyiC,QAAL,GAAgBP,qBAAqB,CAACU,eAAtC;AACA;;AACF,mBAAK,gBAAL;AACE,qBAAKH,QAAL,GAAgBP,qBAAqB,CAACW,MAAtC;AACA;;AACF,mBAAK,gBAAL;AACE,qBAAKp0B,GAAL,GAAW,CAAC,OAAD,EAAW,KAAK+I,IAAL,CAAUjG,IAAV,CAAyCvR,EAApD,CAAX;AACA,qBAAKyiC,QAAL,GAAgBP,qBAAqB,CAACY,SAAtC;AACA;;AACF,mBAAK,gBAAL;AACE,qBAAKL,QAAL,GAAgBP,qBAAqB,CAACa,cAAtC;AACA;;AACF,mBAAK,kBAAL;AACE,qBAAKN,QAAL,GAAgBP,qBAAqB,CAACc,gBAAtC;AACA;;AACF,mBAAK,uBAAL;AACE,qBAAKV,QAAL,GAAgB,aAAc,KAAK9qB,IAAL,CAAUjG,IAAV,CAA0C6nB,KAA1C,CAAgDp5B,EAA9E;AACA,qBAAKyO,GAAL,GAAW,CAAC,OAAD,EAAW,KAAK+I,IAAL,CAAUjG,IAAV,CAA0C6nB,KAA1C,CAAgD/S,OAAhD,CAAwDrmB,EAAnE,CAAX;AACA,qBAAKyiC,QAAL,GAAgBP,qBAAqB,CAACe,qBAAtC;AACA;;AACF,mBAAK,iBAAL;AACE,qBAAKx0B,GAAL,GAAW,CAAC,OAAD,EAAW,KAAK+I,IAAL,CAAUjG,IAAV,CAA4C8U,OAA5C,CAAoDrmB,EAA/D,CAAX;AACA,qBAAKyiC,QAAL,GAAgBP,qBAAqB,CAACgB,eAAtC;AACA;;AACF;AACE,qBAAKT,QAAL,GAAgB,IAAhB;AACA;AAhDJ;AAkDD;;;iBAEO,SAAAD,OAAO;AACb,oBAAQ,KAAKC,QAAb;AACE,mBAAKP,qBAAqB,CAACY,SAA3B;AACE,qBAAKvxB,IAAL,GAAY,KAAKiG,IAAL,CAAUjG,IAAtB;AACA;;AACF,mBAAK2wB,qBAAqB,CAACQ,YAA3B;AACE,qBAAKnxB,IAAL,GAAY,KAAKiG,IAAL,CAAUjG,IAAtB;AACA;;AACF,mBAAK2wB,qBAAqB,CAACS,SAA3B;AACE,qBAAKpxB,IAAL,GAAY,KAAKiG,IAAL,CAAUjG,IAAtB;AACA;;AACF,mBAAK2wB,qBAAqB,CAACU,eAA3B;AACE,qBAAKrxB,IAAL,GAAY,KAAKiG,IAAL,CAAUjG,IAAtB;AACA;;AACF,mBAAK2wB,qBAAqB,CAACW,MAA3B;AACE,qBAAKM,aAAL;AACA;;AACF;AACE,qBAAK5xB,IAAL,GAAY,IAAZ;AACA;AAlBJ;AAoBD;;;iBAEM,SAAA4xB,aAAa;AAAA;;AAClB,gBAAM5xB,IAAI,GAA4B,KAAKiG,IAAL,CAAUjG,IAAhD;AACA,gBAAM6xB,GAAG,GAA+B7xB,IAAxC;AACA6xB,eAAG,CAACpjC,EAAJ,GAASuR,IAAI,CAACvR,EAAd;AACAojC,eAAG,CAAC30B,GAAJ,GAAU8C,IAAI,CAAC9C,GAAf;AACA20B,eAAG,CAACrJ,KAAJ,GAAYxoB,IAAI,CAACwoB,KAAjB;;AACA,gBAAIxoB,IAAI,CAAC5C,OAAL,IAAgB,CAACy0B,GAAG,CAACC,MAAzB,EAAiC;AAC/B,kBAAMC,WAAW,GAAG,OAAO/xB,IAAI,CAAC5C,OAAZ,KAAwB,QAAxB,GAChB0Y,IAAI,CAACC,KAAL,CAAW/V,IAAI,CAAC5C,OAAL,CAAaqR,OAAb,CAAqB,KAArB,EAA4B,EAA5B,CAAX,CADgB,GAEhBzO,IAAI,CAAC5C,OAFT;AAGAy0B,iBAAG,CAACz0B,OAAJ,GAAc20B,WAAW,CAAC30B,OAA1B;AACAy0B,iBAAG,CAACC,MAAJ,GAAa;AACX9gC,oBAAI,EAAE,IADK;AAEXvC,kBAAE,EAAE,IAFO;AAGXujC,sBAAM,EAAE;AAHG,eAAb;AAKAH,iBAAG,CAACC,MAAJ,CAAWrjC,EAAX,GAAgB,CAACsjC,WAAW,CAACD,MAAZ,CAAmBrjC,EAApC;;AACA,sBAAQsjC,WAAW,CAACD,MAAZ,CAAmB9gC,IAA3B;AACE,qBAAK,MAAL;AACE6gC,qBAAG,CAACC,MAAJ,CAAW9gC,IAAX,GAAkB,YAAlB;AACA,uBAAKmb,eAAL,CAAqB/R,UAArB,CAAgCy3B,GAAG,CAACC,MAAJ,CAAWrjC,EAA3C,EAA+C0B,IAA/C,CAAoD,iEAAU,KAAKE,YAAf,CAApD,EAAkFC,SAAlF,CAA4F,UAACgB,OAAD,EAA+B;AACzHugC,uBAAG,CAACC,MAAJ,CAAWE,MAAX,GAAoB1gC,OAAO,CAACP,IAAR,CAAaQ,KAAb,GAAqBD,OAAO,CAACP,IAAR,CAAaQ,KAAlC,GAA0C,gBAA9D;AACD,mBAFD;AAGA;;AACF,qBAAK,QAAL;AACEsgC,qBAAG,CAACC,MAAJ,CAAW9gC,IAAX,GAAkB,MAAlB;AACA,uBAAKib,aAAL,CAAmB6e,OAAnB,CAA2B+G,GAAG,CAACC,MAAJ,CAAWrjC,EAAtC,EAA0C0B,IAA1C,CAA+C,iEAAU,KAAKE,YAAf,CAA/C,EAA6EC,SAA7E,CAAuF,UAACO,KAAD,EAA2B;AAChHghC,uBAAG,CAACC,MAAJ,CAAWE,MAAX,GAAoBnhC,KAAK,CAACE,IAAN,CAAWC,IAA/B;AACD,mBAFD;AAGA;;AACF,qBAAK,MAAL;AACE6gC,qBAAG,CAACC,MAAJ,CAAW9gC,IAAX,GAAkB,cAAlB;AACA,uBAAK0pB,YAAL,CAAkBtgB,UAAlB,CAA6By3B,GAAG,CAACC,MAAJ,CAAWrjC,EAAxC,EAA4C0B,IAA5C,CAAiD,iEAAU,KAAKE,YAAf,CAAjD,EAA+EC,SAA/E,CAAyF,UAACyH,IAAD,EAAyB;AAChH85B,uBAAG,CAACC,MAAJ,CAAWE,MAAX,GAAoB,QAAI,CAAC7I,cAAL,CAAoB9wB,SAApB,CAA8BN,IAAI,CAAChH,IAAnC,CAApB;AACD,mBAFD;AAGA;;AACF,qBAAK,MAAL;AACE8gC,qBAAG,CAACC,MAAJ,CAAW9gC,IAAX,GAAkB,KAAlB;AACA,uBAAKkb,WAAL,CAAiB9R,UAAjB,CAA4By3B,GAAG,CAACC,MAAJ,CAAWrjC,EAAvC,EAA2C0B,IAA3C,CAAgD,iEAAU,KAAKE,YAAf,CAAhD,EAA8EC,SAA9E,CAAwF,UAAC2hC,GAAD,EAAmB;AACzGJ,uBAAG,CAACC,MAAJ,CAAWE,MAAX,GAAoBC,GAAG,CAACthC,OAAxB;AACD,mBAFD;AAGA;;AACF;AACEkhC,qBAAG,CAACC,MAAJ,CAAW9gC,IAAX,GAAkB+gC,WAAW,CAAC/gC,IAA9B;AACA6gC,qBAAG,CAACC,MAAJ,CAAWE,MAAX,GAAoBH,GAAG,CAACC,MAAJ,CAAWrjC,EAAX,CAAc4zB,QAAd,EAApB;AA3BJ;AA6BD,aAxCD,MAwCO,IAAI,CAACwP,GAAG,CAACC,MAAT,EAAiB;AACtBD,iBAAG,CAACC,MAAJ,GAAa;AACX9gC,oBAAI,EAAE,IADK;AAEXvC,kBAAE,EAAE,IAFO;AAGXujC,sBAAM,EAAE;AAHG,eAAb;AAKD;;AACD,iBAAKhyB,IAAL,GAAY6xB,GAAZ;AACD;;QA5JyD,2E;;;;;;cAAtCjB,6B;AAA6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAA7BA,6B;AAA6B,gC;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBAFvC,E;AAAE;;;;;;;cAEQA,6B;AAA6B;gBAHlD,uDAGkD;iBAHxC;AACT1uB,oBAAQ,EAAE;AADD,W;AAGwC,U;;;;;;;;;;;;;;;;;AAC7BtG,cAAI;kBAAvB;AAAuB;;;;;;;;;;;;;;;;;;;ACxC1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUas2B,Y;AACX,8BACmBppB,cADnB,EAEmBlX,MAFnB,EAEiC;AAAA;;AADd,eAAAkX,cAAA,GAAAA,cAAA;AACA,eAAAlX,MAAA,GAAAA,MAAA;AACf;;;;iBAEJ,SAAAkG,WAAW;AAAA;;AACT,mBAAO,KAAKgR,cAAL,CAAoB5U,KAApB,CAA0B/D,IAA1B,CACL,2DAAI,UAAC4H,IAAD;AAAA,qBAAyBA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,GAAI,MAAJ,GAAAA,IAAI,CAAEoL,KAAN,CAAYqL,QAAZ,CAAqB,gBAArB,CAAzB;AAAA,aAAJ,CADK,EAEL,2DAAI,UAACxb,GAAD,EAAkB;AACpB,kBAAI,CAACA,GAAL,EAAU;AACR,wBAAI,CAACpB,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,UAAD,CAArB;AACD;AACF,aAJD,CAFK,CAAP;AAQD;;;;;;;;cAfUm9B,Y;AAAY;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAZA,Y;AAAY,oBAFX;;;;;;;cAEDA,Y;AAAY;gBAHxB,wDAGwB;iBAHb;AACV/iC,sBAAU,EAAE;AADF,W;AAGa,U;;;;;;;;;;;;;;;;;;;;;;;;;ACVzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUagjC,U;AACX,4BACmBpgC,OADnB,EAC0C;AAAA;;AAAvB,eAAAA,OAAA,GAAAA,OAAA;AACf;;;;iBAEJ,SAAA+F,WAAW;AACV,mBAAO,KAAK/F,OAAL,CAAamC,KAAb,CAAmB/D,IAAnB,CACJ,2DAAI,UAAC4H,IAAD;AAAA,qBAA0BA,IAAI,KAAK,IAAT,GAAgBA,IAAI,CAACoL,KAAL,CAAWgZ,OAAX,CAAmB,YAAnB,MAAqC,CAAC,CAAtD,GAA0D,KAApF;AAAA,aAAJ,CADI,CAAP;AAGA;;;;;;;;cATUgW,U;AAAU;AAAA;AAAA,U;AAAA;;;;;;cAAVA,U;AAAU,oBAFT;;;;;;;cAEDA,U;AAAU;gBAHtB,wDAGsB;iBAHX;AACVhjC,sBAAU,EAAE;AADF,W;AAGW,U;;;;;;;;;;;;;;;;;;;;;;;ACRvB;AAAA;;;AAAA;AAAA;AAAA;;AAAO,eAASijC,WAAT,CAAqBj+B,CAArB,EAA6CC,CAA7C,EAAmE;AACtE,YAAID,CAAC,CAACjD,IAAF,CAAOmhC,SAAP,GAAmBj+B,CAAC,CAAClD,IAAF,CAAOmhC,SAA9B,EAAyC;AAAE,iBAAO,CAAP;AAAW;;AACtD,YAAIj+B,CAAC,CAAClD,IAAF,CAAOmhC,SAAP,GAAmBl+B,CAAC,CAACjD,IAAF,CAAOmhC,SAA9B,EAAyC;AAAE,iBAAO,CAAC,CAAR;AAAY;;AACvD,eAAO,CAAP;AACH;;;;;;;;;;;;;;;;;ACND;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASaC,iB;AACX,mCAA6BxpB,cAA7B,EAA8ElX,MAA9E,EAA8F;AAAA;;AAAjE,eAAAkX,cAAA,GAAAA,cAAA;AAAiD,eAAAlX,MAAA,GAAAA,MAAA;AAAkB;;;;iBAEhG,SAAAkG,WAAW;AAAA;;AACT,mBAAO,KAAKgR,cAAL,CAAoBxV,SAApB,CAA8BnD,IAA9B,CACL,8DADK,EAEL,2DAAI,UAACtB,KAAD;AAAA,qBAAqBA,KAAK,GAAG,IAAH,GAAU,QAAI,CAAC+C,MAAL,CAAY2gC,QAAZ,CAAqB,MAArB,CAApC;AAAA,aAAJ,CAFK,CAAP;AAID;;;;;;;;cARUD,iB;AAAiB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAjBA,iB;AAAiB,oBAFhB;;;;;;;cAEDA,iB;AAAiB;gBAH7B,wDAG6B;iBAHlB;AACVnjC,sBAAU,EAAE;AADF,W;AAGkB,U;;;;;;;;;;;;;;;;;;;;;;;;;ACT9B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASaqjC,a;AACX,+BAA6B5gC,MAA7B,EAA8D6gC,QAA9D,EAAgG;AAAA;;AAAnE,eAAA7gC,MAAA,GAAAA,MAAA;AAAiC,eAAA6gC,QAAA,GAAAA,QAAA;AAAoC;;;;iBAE3F,SAAA36B,WAAW,CAACyW,KAAD,EAA8B;AAAA;;AAC9C,gBAAMmkB,IAAI,GAAWnkB,KAAK,CAACokB,WAAN,CAAkBD,IAAvC;AACA,gBAAM38B,KAAK,GAAWwY,KAAK,CAACokB,WAAN,CAAkB58B,KAAxC;;AAEA,gBAAI,CAAC28B,IAAD,IAAS,CAAC38B,KAAd,EAAqB;AACnB,mBAAKnE,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,GAAD,CAArB;AACD;;AAED,mBAAO,KAAK09B,QAAL,CAAcx8B,MAAd,CAAqBy8B,IAArB,EAA2B38B,KAA3B,EAAkC5F,IAAlC,CACL,kEAAW;AAAA,qBAAM,QAAI,CAACyB,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,GAAD,CAArB,CAAN;AAAA,aAAX,CADK,EAEL,gEAAS;AAAA,qBAAM,gDAAG,IAAH,CAAN;AAAA,aAAT,CAFK,CAAP;AAID;;;;;;;;cAfUy9B,a;AAAa;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAbA,a;AAAa,oBAFZ;;;;;;;cAEDA,a;AAAa;gBAHzB,wDAGyB;iBAHd;AACVrjC,sBAAU,EAAE;AADF,W;AAGc,U;;;;;;;;;;;;;;;;;;;;;;;;;ACT1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAGO,eAASyjC,qBAAT,CAA+Bvd,gBAA/B,EAC+Bwd,sBAD/B,EAC6E;AAChF,eAAO,IAAI,yEAAJ,CAA0Bxd,gBAA1B,EAA4Cwd,sBAA5C,CAAP;AACH;;;;;;;;;;;;;;;;;ACND;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAaaC,kB;AACX,oCAA6Bh0B,WAA7B,EAAwEC,YAAxE,EAAoG;AAAA;;AAAvE,eAAAD,WAAA,GAAAA,WAAA;AAA2C,eAAAC,YAAA,GAAAA,YAAA;AAA+B;;;;iBAEhG,SAAAgc,YAAY,CAAChK,MAAD,EAAkB/Q,IAAlB,EAA4B;AAAA;;AAC7C,mBAAO,KAAKlB,WAAL,CAAiBic,YAAjB,CAA8BhK,MAA9B,EAAsC/Q,IAAtC,EAA4C7P,IAA5C,CACL,iEAAU,UAAC8D,CAAD;AAAA,qBAAmB,QAAI,CAAC8K,YAAL,CAAkBO,MAAlB,CAAyBrL,CAAzB,CAAnB;AAAA,aAAV,CADK,CAAP;AAGD;;;iBAEM,SAAAqL,MAAM,CAACtG,OAAD,EAAkB3C,QAAlB,EAAkC;AAC7C,mBAAO,KAAKyI,WAAL,CAAiBQ,MAAjB,CAAwBtG,OAAxB,EAAiC3C,QAAjC,EAA2ClG,IAA3C,CACL,kEAAW,UAAC8H,KAAD,EAA8B;AACvC,sBAAQA,KAAK,CAAC4R,MAAd;AACE,qBAAK,GAAL;AACE,yBAAO,wDAAW;AAAEpK,yBAAK,EAAE;AAAT,mBAAX,CAAP;;AACF,qBAAK,GAAL;AACE,yBAAO,wDAAW;AAAEA,yBAAK,EAAE;AAAT,mBAAX,CAAP;;AACF;AACE,yBAAO,wDAAW;AAAEA,yBAAK,EAAE,yEAAT;AAAwBxH,yBAAK,EAALA;AAAxB,mBAAX,CAAP;AANJ;AAQD,aATD,CADK,CAAP;AAYD;;;;;;;;cAtBU66B,kB;AAAkB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAlBA,kB;AAAkB,oBAFjB;;;;;;;cAEDA,kB;AAAkB;gBAH9B,wDAG8B;iBAHnB;AACV3jC,sBAAU,EAAE;AADF,W;AAGmB,U;;;;;;;;;;;;;;;;;;;;;;;;;ACb/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAYa4jC,0B;AA0BX,8CAAc;AAAA;;AAXE,eAAAt3B,oBAAA,GAAoD,gGAApD;AAEU,eAAA8M,MAAA,GACxB,IAAI,0DAAJ,EADwB;AAEA,eAAAhN,IAAA,GAA2B,IAAI,0DAAJ,EAA3B;AACA,eAAAqtB,IAAA,GAA2B,IAAI,0DAAJ,EAA3B;AACA,eAAAoK,UAAA,GAAmC,IAAI,0DAAJ,EAAnC;AAKV;;;;eAlBhB,eAAkB;AAChB,gBAAI,aAAa,KAAKp3B,IAAlB,IAA0B,KAAKA,IAAL,CAAUkZ,OAAxC,EAAiD;AAC/C,qBAAO,KAAKlZ,IAAL,CAAUkZ,OAAV,CAAkB5jB,IAAlB,CAAuBzC,EAA9B;AACD;;AACD,mBAAO,KAAKwkC,QAAZ;AACD,W;eATD,aAA4Br3B,IAA5B,EAA0C;AACxC,iBAAKq3B,QAAL,GAAgBr3B,IAAhB;AACD;;;iBAsBM,SAAAF,OAAM;AACX,iBAAKs3B,UAAL,CAAgBz7B,IAAhB,CAAqB,KAAKqE,IAAL,CAAU1K,IAAV,CAAezC,EAApC;AACD;;;;;;;;cA9BUskC,0B;AAA0B,gB;AAAA;;;;;cAA1BA,0B;AAA0B,2C;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCZvC,8rB;AAUA,2M;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cDEaA,0B;AAA0B;gBANtC,uDAMsC;iBAN5B;AACTvhC,oBAAQ,EAAE,yBADD;AAETC,uBAAW,EAAE,sCAFJ;AAGTC,qBAAS,EAAE,CAAC,sCAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAM4B,U;;;;;AACrBkG,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACNW,aAAG,EAAE,CAAF;kBAAlB;AAAkB,WAAE,C;AAEDuY,iBAAO;kBAA1B;AAA0B,Y;AAaDvM,gBAAM,EAAE,CAAF;kBAA/B;AAA+B,WAAE,C;AAERhN,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE,C;AACNqtB,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE,C;AACNoK,oBAAU,EAAE,CAAF;kBAAnC;AAAmC,WAAE;;;;;;;;;;;;;;;;;;;AEjCxC;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYE,mBAAZ;;AAAA,iBAAYA,mBAAZ,EAA+B;AAC3B;AACA;AACA;AACH,OAJD,EAAYA,mBAAmB,KAAnBA,mBAAmB,MAA/B;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYC,iBAAZ;;AAAA,iBAAYA,iBAAZ,EAA6B;AAC3B;AACA;AACA;AACD,OAJD,EAAYA,iBAAiB,KAAjBA,iBAAiB,MAA7B;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAmBaC,Y;;;;;;;;cAAAA,Y;AAAY,gB;AAAA;;;;;;cAAZA,Y;AAAY,uBATR,iEASQ,C;AATO,kBAG5B,4DAH4B,EAI5B,0EAJ4B,EAK5B,yDAL4B,EAKnB,mEALmB,C;AAKnB,kBAJD,iEAIC;;;;;;cAIAA,Y;AAAY,kBAPd,CACP,4DADO,EAEP,0EAFO,EAGP,yDAHO,EAIP,oEAAgB7M,QAAhB,EAJO,CAOc;;;;;;;cAAZ6M,Y;AAAY;gBAVxB,sDAUwB;iBAVf;AACR1c,wBAAY,EAAE,CAAC,iEAAD,CADN;AAERC,mBAAO,EAAE,CAAC,iEAAD,CAFD;AAGRC,mBAAO,EAAE,CACP,4DADO,EAEP,0EAFO,EAGP,yDAHO,EAIP,oEAAgB2P,QAAhB,EAJO;AAHD,W;AAUe;;;;;;;;;;;;;;;;;;ACnBzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,UAAMzsB,mBAAmB,GAAG,QAA5B;;UAKau5B,a;AACX,+BAA6Br5B,UAA7B,EAAqD;AAAA;;AAAxB,eAAAA,UAAA,GAAAA,UAAA;AAA2B;;;;iBAEjD,SAAAgD,YAAY,CAAC7L,KAAD,EAAY;AAC7B,mBAAO,KAAK6I,UAAL,CAAgBhE,KAAhB,WAAgD8D,mBAAhD,aAA8E,gGAAe3I,KAAf,CAA9E,CAAP;AACD;;;;;;;;cALUkiC,a;AAAa;AAAA;AAAA,U;AAAA;;;;;;cAAbA,a;AAAa,oBAFZ;;;;;;;cAEDA,a;AAAa;gBAHzB,wDAGyB;iBAHd;AACVlkC,sBAAU,EAAE;AADF,W;AAGc,U;;;;;;;;;;;;;;;;;;;;;;;ACX1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UA+EamkC,c;;;;;;;;cAAAA,c;AAAc,gB;AAAA;;;;;;cAAdA,c;AAAc,uBAjDvB,kEAiDuB,EAhDvB,mFAgDuB,EA/CvB,sHA+CuB,EA9CvB,kEA8CuB,EA7CvB,yFA6CuB,EA5CvB,oFA4CuB,EA3CvB,8EA2CuB,EA1CvB,6FA0CuB,EAzCvB,yHAyCuB,EAxCvB,+EAwCuB,EAvCvB,wEAuCuB,EAtCvB,kEAsCuB,EArCvB,wEAqCuB,EApCvB,2EAoCuB,EAnCvB,iFAmCuB,EAlCvB,yGAkCuB,EAjCvB,yEAiCuB,C;AAjCR,kBAsBf,4DAtBe,EAuBf,4DAvBe,EAwBf,mFAxBe,EAyBf,gEAzBe,EA0Bf,yEA1Be,EA2Bf,2DA3Be,EA4Bf,mEA5Be,EA6Bf,4DA7Be,EA6BD,oEA7BC,C;AA6BD,kBA1Bd,kEA0Bc,EAzBd,wEAyBc,EAxBd,oFAwBc,EAvBd,mFAuBc,EAtBd,sHAsBc,EArBd,kEAqBc,EApBd,yFAoBc,EAnBd,8EAmBc,EAlBd,6FAkBc,EAjBd,yHAiBc,EAhBd,+EAgBc,EAfd,kEAec,EAdd,wEAcc,EAbd,2EAac,EAZd,iFAYc,EAXd,yGAWc,EAVd,yEAUc;;;;;;cAILA,c;AAAc,kBAZhB,CACP,4DADO,EAEP,4DAFO,EAGP,mFAHO,EAIP,gEAJO,EAKP,yEALO,EAMP,2DANO,EAOP,mEAPO,EAQP,4DARO,EASP,qEAAgB/M,QAAhB,EATO,CAYgB;;;;;;;cAAd+M,c;AAAc;gBAnD1B,sDAmD0B;iBAnDjB;AACR5c,wBAAY,EAAE,CACZ,kEADY,EAEZ,mFAFY,EAGZ,sHAHY,EAIZ,kEAJY,EAKZ,yFALY,EAMZ,oFANY,EAOZ,8EAPY,EAQZ,6FARY,EASZ,yHATY,EAUZ,+EAVY,EAWZ,wEAXY,EAYZ,kEAZY,EAaZ,wEAbY,EAcZ,2EAdY,EAeZ,iFAfY,EAgBZ,yGAhBY,EAiBZ,yEAjBY,CADN;AAoBRC,mBAAO,EAAE,CACP,kEADO,EAEP,wEAFO,EAGP,oFAHO,EAIP,mFAJO,EAKP,sHALO,EAMP,kEANO,EAOP,yFAPO,EAQP,8EARO,EASP,6FATO,EAUP,yHAVO,EAWP,+EAXO,EAYP,kEAZO,EAaP,wEAbO,EAcP,2EAdO,EAeP,iFAfO,EAgBP,yGAhBO,EAiBP,yEAjBO,CApBD;AAuCRC,mBAAO,EAAE,CACP,4DADO,EAEP,4DAFO,EAGP,mFAHO,EAIP,gEAJO,EAKP,yEALO,EAMP,2DANO,EAOP,mEAPO,EAQP,4DARO,EASP,qEAAgB2P,QAAhB,EATO;AAvCD,W;AAmDiB;;;;;;;;;;;;;;;;;;AC/E3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAkBagN,uB;AAMX,yCACmBj4B,gBADnB,EAEmB1J,MAFnB,EAGkBI,UAHlB,EAIkByqB,wBAJlB,EAIoE;AAAA;;AAAA;;AAElE;AALiB,mBAAAnhB,gBAAA,GAAAA,gBAAA;AACA,mBAAA1J,MAAA,GAAAA,MAAA;AACD,mBAAAI,UAAA,GAAAA,UAAA;AACA,mBAAAyqB,wBAAA,GAAAA,wBAAA;AATX,mBAAAhuB,EAAA,GAAa,IAAb;AACA,mBAAAwX,IAAA,GAAsB,IAAtB;AACA,mBAAAxC,KAAA,GAAQ,CAAC,CAAT;AAO6D;AAGnE;;;;;;iBAED,SAAA7T,QAAQ;AAAA;;AACN,iBAAK6sB,wBAAL,CAA8BztB,MAA9B,GAAuCmB,IAAvC,CACE,2DAAI,UAAC8D,CAAD;AAAA,qBAAe,QAAI,CAACxF,EAAL,GAAUwF,CAAzB;AAAA,aAAJ,CADF,EAEE,8DAAO,UAACA,CAAD;AAAA,qBAAeA,CAAC,KAAK,CAAC,CAAtB;AAAA,aAAP,CAFF,EAGE,iEAAU,UAACA,CAAD;AAAA,qBAAe,QAAI,CAACqH,gBAAL,CAAsBlB,UAAtB,CAAiC,QAAI,CAAC3L,EAAtC,CAAf;AAAA,aAAV,CAHF,EAIE,iEAAU,KAAK4B,YAAf,CAJF,EAKEC,SALF,CAKY,UAAC2V,IAAD;AAAA,qBAAyB,QAAI,CAACA,IAAL,GAAYA,IAArC;AAAA,aALZ;AAMA,iBAAK3K,gBAAL,CAAsBnF,IAAtB,GAA6BhG,IAA7B,CAAkC,iEAAU,KAAKE,YAAf,CAAlC,EAAgEC,SAAhE,CAA0E,UAAC2D,CAAD,EAAqC;AAC7G,sBAAI,CAACwP,KAAL,GAAaxP,CAAC,CAACxD,KAAF,GAAU,CAAvB;AACD,aAFD;AAGD;;;iBAEM,SAAA+iC,WAAW,CAACC,KAAD,EAAY;AAAA;;AAC5B,iBAAKn4B,gBAAL,CAAsB+vB,YAAtB,CAAmC,KAAK58B,EAAxC,EAA4CglC,KAA5C,EAAmDtjC,IAAnD,CAAwD,iEAAU,KAAKE,YAAf,CAAxD,EAAsFC,SAAtF,CAAgG,UAAC4M,GAAD,EAA+B;AAC7H,sBAAI,CAAC+I,IAAL,CAAUlV,IAAV,CAAe0iC,KAAf,GAAuBv2B,GAAG,CAACA,GAA3B;AACD,aAFD;AAGD;;;iBAEM,SAAAhB,OAAO;AAAA;;AACZ,gBAAMN,IAAI,GAAmB;AAC3B7K,kBAAI,EAAE;AACJmM,mBAAG,EAAE,KAAK+I,IAAL,CAAUlV,IAAV,CAAemM,GADhB;AAEJ3L,qBAAK,EAAE,KAAK0U,IAAL,CAAUlV,IAAV,CAAeQ,KAFlB;AAGJmiC,wBAAQ,EAAE,KAAKztB,IAAL,CAAUlV,IAAV,CAAe2iC;AAHrB;AADqB,aAA7B;AAOA,iBAAKp4B,gBAAL,CAAsBf,MAAtB,CAA6B,KAAK9L,EAAlC,EAAsCmN,IAAtC,EAA4CzL,IAA5C,CACE,iEAAU;AAAA,qBAAM,QAAI,CAACmL,gBAAL,CAAsBL,QAAtB,CAA+B,QAAI,CAACxM,EAApC,CAAN;AAAA,aAAV,CADF,EAEE,iEAAU,KAAK4B,YAAf,CAFF,EAGEC,SAHF,CAGY,YAAM;AAChB,sBAAI,CAACmsB,wBAAL,CAA8B/tB,QAA9B,CAAuCE,IAAvC;;AACA,sBAAI,CAAC6tB,wBAAL,CAA8B9tB,MAA9B;;AACA,sBAAI,CAACiD,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,MAAD,CAArB;AACD,aAPD;AAQD;;QAjD0C,0F;;;;;;cAAhCw+B,uB;AAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAvBA,uB;AAAuB,uC;AAAA,6B;AAAA,4D;AAAA,kBClBpC,k5S;AAiGA,4jvD;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;cD/EaA,uB;AAAuB;gBALnC,uDAKmC;iBALzB;AACT/hC,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKyB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AElBpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAaaiiC,qB;AASX,uCAAoBvf,UAApB,EAA6DkB,GAA7D,EAAqF;AAAA;;AAAA;;AAAE;AAAnE,mBAAAlB,UAAA,GAAAA,UAAA;AAAyC,mBAAAkB,GAAA,GAAAA,GAAA;AAJ7C,mBAAAiV,kBAAA,GAAqB,EAArB;AAET,mBAAA1iB,KAAA,GAAoB;AAAErV,iBAAK,EAAE,KAAT;AAAgBC,eAAG,EAAE;AAArB,WAApB;AAE8E;AAAY;;;;;;iBAE1F,SAAA4hB,eAAe;AAAA;;AACpB,gBAAMmP,SAAS,GAAkBrc,KAAK,CAACib,IAAN,CAAW,KAAKhO,UAAL,CAAgBxgB,aAAhB,CAA8B6vB,gBAA9B,CAA+C,2BAA/C,CAAX,CAAjC;AACAD,qBAAS,CAACtgB,OAAV,CAAkB,UAAC+C,IAAD;AAAA,qBAAuBA,IAAI,CAACxS,gBAAL,CAAsB,OAAtB,EAA+B,QAAI,CAAC9E,MAAL,CAAY+0B,IAAZ,CAAiB,QAAjB,CAA/B,CAAvB;AAAA,aAAlB;AACD;;;iBAEM,SAAA/0B,MAAM;AAAA;;AACX,gBAAI,KAAKkZ,KAAL,CAAWrV,KAAf,EAAsB;AACpBiC,mCAAqB,CAAC,YAAM;AAC1B,wBAAI,CAACoT,KAAL,CAAWpV,GAAX,CAAe+B,WAAf;;AACA,wBAAI,CAACqT,KAAL,CAAWrV,KAAX,GAAmB,KAAnB;;AACA,wBAAI,CAAC8iB,GAAL,CAASW,YAAT;AACD,eAJoB,CAArB;AAKD,aAND,MAMO;AACL,mBAAKpO,KAAL,CAAWrV,KAAX,GAAmB,IAAnB;AACA+sB,wBAAU,CAAC,YAAM;AACf,wBAAI,CAAC1X,KAAL,CAAWpV,GAAX,GAAiB,uDAAUe,QAAV,EAAoB,OAApB,EAA6B;AAC5CkK,yBAAO,EAAE;AADmC,iBAA7B,EAEdvN,IAFc,CAET,iEAAU,QAAI,CAACE,YAAf,CAFS,EAEqBC,SAFrB,CAE+B,UAACoE,CAAD,EAAmB;AACjE,sBAAI,QAAI,CAACivB,QAAL,IAAiB,CAAC,QAAI,CAACA,QAAL,CAAc/vB,aAAd,CAA4BC,QAA5B,CAAqCa,CAAC,CAACZ,MAAvC,CAAtB,EAAsE;AACpEW,yCAAqB,CAAC,YAAM;AAC1B,8BAAI,CAACoT,KAAL,CAAWpV,GAAX,CAAe+B,WAAf;;AACA,8BAAI,CAACqT,KAAL,CAAWrV,KAAX,GAAmB,KAAnB;;AACA,8BAAI,CAAC8iB,GAAL,CAASW,YAAT;AACD,qBAJoB,CAArB;AAKD;AACF,iBAVgB,CAAjB;AAWD,eAZS,EAYP,CAZO,CAAV;AAaD;AACF;;QAvCwC,0F;;;;;;cAA9B0d,qB;AAAqB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAArBA,qB;AAAqB,wC;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,6B;AAAA,4D;AAAA,kBCblC,65D;AA4CA,wt6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;cD/BaA,qB;AAAqB;gBALjC,uDAKiC;iBALvB;AACTniC,oBAAQ,EAAE,sBADD;AAETC,uBAAW,EAAE,gCAFJ;AAGTC,qBAAS,EAAE,CAAC,gCAAD;AAHF,W;AAKuB,U;;;;;;;;;AACDiyB,kBAAQ,EAAE,CAAF;kBAAtC,uDAAsC;mBAA5B,U;AAA4B,WAAE,C;AAEzBnlB,eAAK,EAAE,CAAF;kBAApB;AAAoB,WAAE,C;AACPE,gBAAM,EAAE,CAAF;kBAArB;AAAqB,WAAE,C;AACR6rB,4BAAkB;kBAAjC;AAAiC;;;;;;;;;;;;;;;;;;;AElBpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAgBaqJ,W;AAOX,6BAA6BC,QAA7B,EAC6BzhC,eAD7B,EAE6BR,MAF7B,EAE6C;AAAA;;AAFhB,eAAAiiC,QAAA,GAAAA,QAAA;AACA,eAAAzhC,eAAA,GAAAA,eAAA;AACA,eAAAR,MAAA,GAAAA,MAAA;AAJrB,eAAAkiC,QAAA,GAAyB,KAAzB;AAKP;;;;iBAEM,SAAAh8B,WAAW,CAACyW,KAAD,EAAgC1G,KAAhC,EAA0D;AAAA;;AAC1E,gBAAI,KAAKzV,eAAL,CAAqB4mB,QAAzB,EAAmC;AACjC,qBAAO,gDAAG,IAAH,CAAP;AACD;;AACD,iBAAK+a,QAAL,GAAgB,aAAhB;AACA,iBAAKxlB,KAAL,GAAaA,KAAb;AACA,iBAAK1G,KAAL,GAAaA,KAAb;AACA,mBAAO,KAAKmsB,UAAL,GAAkB7jC,IAAlB,CAAuB,2DAAI,UAAC6C,GAAD,EAAkB;AAClD,kBAAI,CAACA,GAAD,IAAQ,QAAI,CAACub,KAAL,CAAW3S,IAAX,CAAgBq4B,gBAA5B,EAA8C;AAC5C,wBAAI,CAACriC,MAAL,CAAYwD,aAAZ,CAA0B,QAAI,CAACmZ,KAAL,CAAW3S,IAAX,CAAgBq4B,gBAA1C;AACD;AACF,aAJ6B,CAAvB,CAAP;AAKD;;;iBAEM,SAAAC,gBAAgB,CAAC3lB,KAAD,EAAgC1G,KAAhC,EAA0D;AAC/E,gBAAI,KAAKzV,eAAL,CAAqB4mB,QAAzB,EAAmC;AACjC,qBAAO,gDAAG,IAAH,CAAP;AACD;;AACD,iBAAK+a,QAAL,GAAgB,kBAAhB;AACA,iBAAKxlB,KAAL,GAAaA,KAAb;AACA,iBAAK1G,KAAL,GAAaA,KAAb;AACA,mBAAO,KAAKmsB,UAAL,EAAP;AACD;;;iBAEO,SAAAA,UAAU;AAEhB,gBAAMp4B,IAAI,GAAG,KAAKu4B,kBAAL,CAAwB,KAAK5lB,KAA7B,CAAb;;AAEA,gBAAI,CAAC3S,IAAI,CAACw4B,MAAN,IAAgB,CAACx4B,IAAI,CAACw4B,MAAL,CAAY1pB,MAAjC,EAAyC;AACvC,qBAAO,gDAAG,IAAH,CAAP;AACD;;AAED,gBAAI,OAAO,KAAK6D,KAAL,CAAW3S,IAAX,CAAgBy4B,cAAvB,KAA0C,QAA9C,EAAwD;AACtD,mBAAKP,QAAL,GAAgB,KAAKvlB,KAAL,CAAW3S,IAAX,CAAgBy4B,cAAhB,CAA+BxK,WAA/B,OAAiD,IAAjD,GAAwD,IAAxD,GAA+D,KAA/E;AACD,aAFD,MAEO;AACL,mBAAKiK,QAAL,GAAiBl4B,IAAI,CAACy4B,cAAL,KAAwB,QAAxB,IAAoCz4B,IAAI,CAACy4B,cAAL,CAAoBxK,WAApB,OAAsC,IAA3E,GAAmF,IAAnF,GAA0F,KAA1G;AACD;;AAED,mBAAO,KAAKyK,aAAL,CAAmB14B,IAAI,CAACw4B,MAAxB,CAAP;AACD;;;iBAEO,SAAAD,kBAAkB,CAAC5lB,KAAD,EAA8B;AAAA;;AAEtD,gBAAIA,KAAK,CAAC3S,IAAN,CAAWw4B,MAAf,EAAuB;AACrB,qBAAO7lB,KAAK,CAAC3S,IAAb;AACD,aAJqD,CAMtD;;;AACA,gBAAM2S,KAAK,CAACgmB,WAAN,CAAkBL,gBAAlB,IAAsC,CAAC3lB,KAAK,CAACgmB,WAAN,CAAkBL,gBAAlB,CAAmCM,SAAnC,CAA6C,UAACpE,KAAD;AAAA,qBAAgB,QAAI,YAAYA,KAAhC;AAAA,aAA7C,CAAxC,IACC7hB,KAAK,CAACgmB,WAAN,CAAkBz8B,WAAlB,IAAiC,CAACyW,KAAK,CAACgmB,WAAN,CAAkBz8B,WAAlB,CAA8B08B,SAA9B,CAAwC,UAACpE,KAAD;AAAA,qBAAgB,QAAI,YAAYA,KAAhC;AAAA,aAAxC,CADxC,EAC0H;AACxH,qBAAO7hB,KAAK,CAAC3S,IAAb;AACD,aAVqD,CAWtD;;;AAEA,mBAAO,KAAKu4B,kBAAL,CAAwB5lB,KAAK,CAACua,MAA9B,CAAP;AACD;;;iBAEO,SAAAwL,aAAa,CAACF,MAAD,EAAoC;AAAA;;AAAA,gBAAtBK,UAAsB,uEAAD,CAAC;AACvD,mBAAO,KAAKC,aAAL,CAAmBN,MAAM,CAACK,UAAD,CAAzB,EAAuCtkC,IAAvC,CACL,iEAAU,UAACT,MAAD,EAAqB;AAC7B,kBAAI,QAAI,CAACokC,QAAL,KAAkB,KAAlB,IAA2B,CAACpkC,MAAhC,EAAwC;AACtC,uBAAO,gDAAG,KAAH,CAAP;AACD;;AACD,kBAAI,QAAI,CAACokC,QAAL,KAAkB,IAAlB,IAA0BpkC,MAA9B,EAAsC;AACpC,uBAAO,gDAAG,IAAH,CAAP;AACD;;AACD,kBAAI+kC,UAAU,GAAGL,MAAM,CAAC1pB,MAAP,GAAgB,CAAjC,EAAoC;AAClC,uBAAO,QAAI,CAAC4pB,aAAL,CAAmBF,MAAnB,EAA2BK,UAAU,GAAG,CAAxC,CAAP;AACD,eAFD,MAEO;AACL,uBAAO,gDAAG/kC,MAAH,CAAP;AACD;AACF,aAZD,CADK,CAAP;AAeD;;;iBAEO,SAAAglC,aAAa,CAAC5Z,KAAD,EAAW;AAC9B,gBAAMsV,KAAK,GAAG,KAAKyD,QAAL,CAAc7b,GAAd,CAAuB8C,KAAvB,CAAd;AAEA,gBAAIprB,MAAJ;;AACA,oBAAQ,KAAKqkC,QAAb;AACE,mBAAK,aAAL;AACErkC,sBAAM,GAAG0gC,KAAK,CAACt4B,WAAN,CAAkB,KAAKyW,KAAvB,EAA8B,KAAK1G,KAAnC,CAAT;AACA;;AAEF,mBAAK,kBAAL;AACEnY,sBAAM,GAAG0gC,KAAK,CAAC8D,gBAAN,CAAuB,KAAK3lB,KAA5B,EAAmC,KAAK1G,KAAxC,CAAT;AACA;;AAEF;AACEnY,sBAAM,GAAG0gC,KAAK,CAACt4B,WAAN,CAAkB,KAAKyW,KAAvB,EAA8B,KAAK1G,KAAnC,CAAT;AACA;AAXJ;;AAcA,gBAAI,OAAOnY,MAAP,KAAkB,SAAtB,EAAiC;AAC/B,qBAAO,gDAAGA,MAAH,CAAP;AACD;;AAED,mBAAOA,MAAP;AACD;;;;;;;;cA9GUkkC,W;AAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAXA,W;AAAW,oBAFV;;;;;;;cAEDA,W;AAAW;gBAHvB,wDAGuB;iBAHZ;AACVzkC,sBAAU,EAAE;AADF,W;AAGY,U;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBxB;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYwlC,eAAZ;;AAAA,iBAAYA,eAAZ,EAA2B;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACH,OARD,EAAYA,eAAe,KAAfA,eAAe,MAA3B;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAyFaC,sB;;;;;;;;cAAAA,sB;AAAsB,gB;AAAA;;;;;;cAAtBA,sB;AAAsB,uBAvD/B,+FAuD+B,EAtD/B,kGAsD+B,EArD/B,+GAqD+B,EApD/B,2FAoD+B,EAnD/B,0HAmD+B,EAlD/B,yEAkD+B,EAjD/B,sEAiD+B,EAhD/B,iHAgD+B,EA/C/B,8GA+C+B,EA9C/B,0HA8C+B,EA7C/B,oHA6C+B,EA5C/B,iFA4C+B,EA3C/B,oFA2C+B,EA1C/B,uFA0C+B,EAzC/B,8GAyC+B,EAxC/B,oHAwC+B,EAvC/B,iHAuC+B,C;AAvCR,kBAwBvB,yEAxBuB,EAyBvB,4DAzBuB,EA0BvB,0EA1BuB,EA2BvB,0EA3BuB,EA4BvB,6DA5BuB,EA6BvB,oFA7BuB,EA8BvB,0DA9BuB,EA+BvB,kEA/BuB,EA+BJ,oEA/BI,EAiCvB,4FAjCuB,EAkCvB,yEAlCuB,EAmCvB,kFAnCuB,EAoCvB,qFApCuB,C;AAoCV,kBAjCb,+FAiCa,EAhCb,yEAgCa,EA/Bb,8GA+Ba,EA9Bb,kGA8Ba,EA7Bb,+GA6Ba,EA5Bb,2FA4Ba,EA3Bb,oHA2Ba,EA1Bb,iHA0Ba,EAzBb,0HAyBa,EAxBb,yEAwBa,EAvBb,sEAuBa,EAtBb,0HAsBa,EArBb,iFAqBa,EApBb,oFAoBa,EAnBb,oFAmBa,EAlBb,uFAkBa,EAjBb,8GAiBa,EAhBb,oHAgBa,EAfb,iHAea;;;;;;cAGJA,sB;AAAsB,kBAhBxB,CACP,yEADO,EAEP,4DAFO,EAGP,0EAHO,EAIP,0EAJO,EAKP,6DALO,EAMP,oFANO,EAOP,0DAPO,EAQP,kEARO,EASP,qEAAgBrO,QAAhB,EATO,EAUP,4FAVO,EAWP,yEAXO,EAYP,kFAZO,EAaP,qFAbO,CAgBwB,EAnC/B,yEAmC+B,EAvB/B,oFAuB+B;;;;;;;cAAtBqO,sB;AAAsB;gBAzDlC,sDAyDkC;iBAzDzB;AACRle,wBAAY,EAAE,CACZ,+FADY,EAEZ,kGAFY,EAGZ,+GAHY,EAIZ,2FAJY,EAKZ,0HALY,EAMZ,yEANY,EAOZ,sEAPY,EAQZ,iHARY,EASZ,8GATY,EAUZ,0HAVY,EAWZ,oHAXY,EAYZ,iFAZY,EAaZ,oFAbY,EAcZ,uFAdY,EAeZ,8GAfY,EAgBZ,oHAhBY,EAiBZ,iHAjBY,CADN;AAoBRC,mBAAO,EAAE,CACP,+FADO,EAEP,yEAFO,EAGP,8GAHO,EAIP,kGAJO,EAKP,+GALO,EAMP,2FANO,EAOP,oHAPO,EAQP,iHARO,EASP,0HATO,EAUP,yEAVO,EAWP,sEAXO,EAYP,0HAZO,EAaP,iFAbO,EAcP,oFAdO,EAeP,oFAfO,EAgBP,uFAhBO,EAiBP,8GAjBO,EAkBP,oHAlBO,EAmBP,iHAnBO,CApBD;AAyCRC,mBAAO,EAAE,CACP,yEADO,EAEP,4DAFO,EAGP,0EAHO,EAIP,0EAJO,EAKP,6DALO,EAMP,oFANO,EAOP,0DAPO,EAQP,kEARO,EASP,qEAAgB2P,QAAhB,EATO,EAUP,4FAVO,EAWP,yEAXO,EAYP,kFAZO,EAaP,qFAbO;AAzCD,W;AAyDyB;;;;;;;;;;;;;;;;;;ACzFnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASasO,O;AACX,yBACmBjjC,MADnB,EAEmBkjC,gBAFnB,EAGmB1iC,eAHnB,EAGmD;AAAA;;AAFhC,eAAAR,MAAA,GAAAA,MAAA;AACA,eAAAkjC,gBAAA,GAAAA,gBAAA;AACA,eAAA1iC,eAAA,GAAAA,eAAA;AACf;;;;iBAEJ,SAAAiG,SAAS,CAACxJ,KAAD,EAAsBkiC,QAAtB,EAAuC;AAC9C,gBAAIliC,KAAK,KAAK,IAAd,EAAoB;AAClB,kBAAM4iB,IAAI,GAAG,KAAKrf,eAAL,CAAqB4mB,QAArB,GAAgC,iDAAY9b,GAA5C,GAAmD,KAAK43B,gBAAL,CAA8BxuB,QAA9B,CAAuCmL,IAAvG;AACA,qBAAOA,IAAI,IAAIsf,QAAQ,GAAG,MAAMA,QAAT,GAAoB,EAAhC,CAAX;AACD;;AACD,gBAAMgE,MAAM,GAAG,KAAK3iC,eAAL,CAAqB4mB,QAArB,GAAgC,iDAAY9b,GAA5C,GAAmD,KAAK43B,gBAAL,CAA8BxuB,QAA9B,CAAuCyuB,MAAzG;AACA,6BAAWA,MAAX,SAAsB,KAAKnjC,MAAL,CAAYojC,YAAZ,CAAyB,KAAKpjC,MAAL,CAAYqoB,aAAZ,CAA0BprB,KAA1B,CAAzB,CAAtB,SAAqFkiC,QAAQ,cAAQA,QAAR,IAAsB,EAAnH;AACD;;;;;;;;cAdU8D,O;AAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAPA,O;AAAO;;;;;;;cAAPA,O;AAAO;gBAHnB,kDAGmB;iBAHd;AACJ7jC,gBAAI,EAAE;AADF,W;AAGc,U;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTpB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAsBA,UAAM8I,mBAAmB,GAAG,OAA5B;;UAKam7B,Y;AACX,8BACqBj7B,UADrB,EAEqBC,KAFrB,EAGmBomB,IAHnB,EAGmC;AAAA;;AAAA;;AAEjC,qDAAMrmB,UAAN,EAAkBF,mBAAlB,EAAuCG,KAAvC;AAJmB,mBAAAD,UAAA,GAAAA,UAAA;AACA,mBAAAC,KAAA,GAAAA,KAAA;AACF,mBAAAomB,IAAA,GAAAA,IAAA;AAAgB;AAGlC;;;;;;iBAEO,SAAArjB,YAAY,CAAC7L,KAAD,EAAc+L,GAAd,EAAyB;AAC3C,mBAAO,KAAKlD,UAAL,CAAgBW,IAAhB,CAA2CuC,GAA3C,EAAgD,gGAAe/L,KAAf,CAAhD,CAAP;AACD;;;iBAEM,SAAAgF,IAAI,GAAyC;AAAA,gBAAxC+D,IAAwC,uEAAzB,CAAyB;AAAA,gBAAtBlK,KAAsB,uEAAF,EAAE;AAClD,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,CAA+C2D,mBAA/C,EAAoE,IAApE,EAA0E,MAAF,OAAE,CAAF;AAAIo7B,oBAAM,EAAE;AAAZ,eAA0BllC,KAA1B,CAAE,EAA6B;AAAEsI,qBAAO,EAAE,KAAX;AAAkB4B,kBAAI,EAAJA;AAAlB,aAA7B,CAA1E,CAAP;AACD;;;iBAEM,SAAAE,UAAU,CAAC3L,EAAD,EAAoB;AACnC,gBAAI,OAAOA,EAAP,KAAc,QAAd,IAA0B,QAAQ4K,IAAR,CAAa5K,EAAb,CAA9B,EAAgD;AAC9CA,gBAAE,GAAGu8B,QAAQ,CAACv8B,EAAD,EAAK,EAAL,CAAb;AACD;;AACD,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WAAwC2D,mBAAxC,cAAiE,OAAOrL,EAAP,KAAc,QAAd,eAA+BA,EAA/B,IAAuCA,EAAxG,GAA+G,IAA/G,CAAP;AACD;;;iBAEM,SAAA0mC,GAAG;AACR,mBAAO,KAAKn7B,UAAL,CAAgB7D,IAAhB,WAAwC2D,mBAAxC,SAAP;AACD;;;iBAEM,SAAAs7B,SAAS,GAA0C;AAAA,gBAAzCl7B,IAAyC,uEAA1B,CAA0B;AAAA,gBAAvBzL,EAAuB;AAAA,gBAAXuB,KAAW;AACxD,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,WAA0D2D,mBAA1D,cAAmFrL,EAAnF,uBAAoG,0CAAGunB,SAAH,CAAa,MAAD,OAAC,CAAD;AAAG9b,kBAAI,EAAJA;AAAH,aAAC,EAAWlK,KAAX,CAAb,CAApG,GAAyI,IAAzI,CAAP;AACD;;;iBAEM,SAAAqlC,gBAAgB,CAACr1B,IAAD,EAAU;AAC/B,mBAAO,KAAKhG,UAAL,CAAgBW,IAAhB,WAA+Cb,mBAA/C,kCAAkGkG,IAAlG,CAAP;AACD;;;iBAEM,SAAAs1B,aAAa,CAAC7mC,EAAD,EAAW;AAC7B,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WAAyC2D,mBAAzC,cAAkErL,EAAlE,sBAAwF,IAAxF,EACJ0B,IADI,CACC,2DAAI,UAAC8D,CAAD;AAAA,qBAAuBA,CAAC,CAACwP,KAAzB;AAAA,aAAJ,CADD,CAAP;AAED;;;iBAEM,SAAA8xB,cAAc,CAACliC,MAAD,EAAc5E,EAAd,EAAyB;AAC5C,mBAAO,KAAKuL,UAAL,CAAgBO,MAAhB,CAA8B9L,EAAE,aAAOqL,mBAAP,sBAAwCrL,EAAxC,cAAoDqL,mBAApD,QAAhC,EAA+GzG,MAA/G,EAAuH,KAAvH,CAAP;AACD;;;iBAEM,SAAAmiC,YAAY,CAACj8B,QAAD,EAAmB9K,EAAnB,EAA8B;AAC/C,mBAAO,KAAKuL,UAAL,CAAgBW,IAAhB,CAA4BlM,EAAE,aAAOqL,mBAAP,sBAAwCrL,EAAxC,2BAC7BqL,mBAD6B,iBAA9B,EACqC;AAAEP,sBAAQ,EAARA;AAAF,aADrC,CAAP;AAED;;;iBAEM,SAAAsB,OAAO,CAACpM,EAAD,EAAW;AACvB,mBAAO,KAAKuL,UAAL,CAAgBa,OAAhB,WAAmCf,mBAAnC,cAA4DrL,EAA5D,EAAP;AACD;;;iBAEM,SAAAq9B,QAAQ,CAACr9B,EAAD,EAAawU,IAAb,EAA2B4G,MAA3B,EAA0C;AACvD,mBAAOA,MAAM,GACT,KAAK7P,UAAL,CAAgBhE,KAAhB,WAAiC8D,mBAAjC,cAA0DrL,EAA1D,oBAAwEwU,IAAxE,EADS,GAET,KAAKjJ,UAAL,CAAgBa,OAAhB,WAA4Bf,mBAA5B,cAAqDrL,EAArD,oBAAmEwU,IAAnE,EAFJ;AAGD;;;iBAEM,SAAA+X,cAAc,CAACJ,aAAD,EAAwBD,WAAxB,EAAwC;AAC3D,mBAAO,KAAK3gB,UAAL,CAAgBhE,KAAhB,WAA+B8D,mBAA/B,yBAAmE8gB,aAAnE,GAAqFD,WAArF,CAAP;AACD;;;iBAEM,SAAA6T,UAAU,CAACz4B,KAAD,EAAc;AAC7B,mBAAO,KAAKiE,UAAL,CAAgBhE,KAAhB,WAAiC8D,mBAAjC,aAA+D;AAAE/D,mBAAK,EAALA;AAAF,aAA/D,EAA0E,IAA1E,CAAP;AACD;;;iBAEM,SAAA0/B,WAAW,CAACv/B,IAAD,EAAeH,KAAf,EAA4B;AAC5C,mBAAO,KAAKiE,UAAL,CAAgB7D,IAAhB,WAAgC2D,mBAAhC,yBAAoE5D,IAApE,oBAAoFH,KAApF,GAA8F,IAA9F,CAAP;AACD;;;iBAEM,SAAA2/B,YAAY,CAACx/B,IAAD,EAAeH,KAAf,EAA8BM,QAA9B,EAA8C;AAC/D,mBAAO,KAAK2D,UAAL,CAAgBhE,KAAhB,WAAiC8D,mBAAjC,oBAAsE;AAAE/D,mBAAK,EAALA,KAAF;AAASM,sBAAQ,EAARA,QAAT;AAAmBH,kBAAI,EAAJA;AAAnB,aAAtE,EAAiG,IAAjG,CAAP;AACD;;;iBAEM,SAAAy/B,YAAY,CAAClnC,EAAD,EAAawU,IAAb,EAA2B4G,MAA3B,EAA0C;AAC3D,mBAAOA,MAAM,GACT,KAAK7P,UAAL,CAAgBhE,KAAhB,WAA0B8D,mBAA1B,cAAmDrL,EAAnD,oBAAiEwU,IAAjE,EADS,GAET,KAAKjJ,UAAL,CAAgBa,OAAhB,WAA4Bf,mBAA5B,cAAqDrL,EAArD,oBAAmEwU,IAAnE,EAFJ;AAGD;;;iBAEM,SAAA4X,eAAe,CAACD,aAAD,EAAwBD,WAAxB,EAAwC;AAC5D,mBAAO,KAAK0F,IAAL,CAAUW,IAAV,WAA+B,iDAAYxV,MAAZ,GAAqB1R,mBAApD,8BAA6F8gB,aAA7F,GAA+GD,WAA/G,CAAP;AACD;;;iBAEM,SAAAna,SAAS,CAAC/H,SAAD,EAAoBC,QAApB,EAAsC3C,KAAtC,EAAqDM,QAArD,EAAuEkD,QAAvE,EAAwF;AACtG,mBAAO,KAAK8mB,IAAL,CAAUW,IAAV,CAA2B,iDAAYxV,MAAZ,aAAyB1R,mBAAzB,cAA3B,EACL;AAAErB,uBAAS,EAATA,SAAF;AAAaC,sBAAQ,EAARA,QAAb;AAAuBa,sBAAQ,EAARA,QAAvB;AAAiClD,sBAAQ,EAARA,QAAjC;AAA2CN,mBAAK,EAALA;AAA3C,aADK,EACgD5F,IADhD,CAEL,kEAAW,UAAC8H,KAAD,EAA8B;AACvC,sBAAQA,KAAK,CAACA,KAAN,CAAYmF,OAApB;AACE,qBAAK,yBAAL;AACE,yBAAO,wDAAW;AAAEqC,yBAAK,EAAE;AAAT,mBAAX,CAAP;;AACF,qBAAK,8BAAL;AACE,yBAAO,wDAAW;AAAEA,yBAAK,EAAE;AAAT,mBAAX,CAAP;;AACF;AACE,yBAAO,wDAAW;AAAEA,yBAAK,EAAE,yEAAT;AAAwBxH,yBAAK,EAALA;AAAxB,mBAAX,CAAP;AANJ;AAQD,aATD,CAFK,CAAP;AAaD;;;iBAEM,SAAAwzB,IAAI,CAACh9B,EAAD,EAAamnC,MAAb,EAA4B;AACrC,mBAAO,KAAK76B,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqBonC,GAA5C,EAAiD,CAACD,MAAlD,CAAP;AACD;;;iBAEM,SAAAjK,iBAAiB,CAACl9B,EAAD,EAAa6J,OAAb,EAA6B;AACnD,mBAAO,KAAKyC,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqBqnC,OAA5C,EAAqD,CAACx9B,OAAtD,CAAP;AACD;;;iBAEM,SAAA+yB,YAAY,CAACtuB,IAAD,EAAatO,EAAb,EAAwB;AACzC,mBAAO,KAAKuO,YAAL,CAAkBD,IAAlB,EAAwBtO,EAAE,aAAOqL,mBAAP,sBAAwCrL,EAAxC,wBAA0DqL,mBAA1D,cAA1B,CAAP;AACD;;;iBAEM,SAAAsxB,aAAa,CAACruB,IAAD,EAAatO,EAAb,EAAwB;AAC1C,mBAAO,KAAKuO,YAAL,CAAkBD,IAAlB,EAAwBtO,EAAE,aAAOqL,mBAAP,sBAAwCrL,EAAxC,0BAA4DqL,mBAA5D,gBAA1B,CAAP;AACD;;;iBAEM,SAAAi8B,aAAa;AAAA;;AAClB,mBAAO,IAAI,+CAAJ,CAAoB,UAAC9jB,UAAD,EAAiC;AAC1D3B,gBAAE,CAAC6B,KAAH,CAAS,UAAClV,QAAD,EAAsC;AAC7C,oBAAIA,QAAQ,CAAC4M,MAAT,KAAoB,WAAxB,EAAqC;AACnCoI,4BAAU,CAACrjB,IAAX,CAAgB;AACd8jB,iCAAa,EAAEzV,QAAQ,CAAC0V,YAAT,CAAsBD;AADvB,mBAAhB;AAGAT,4BAAU,CAACQ,QAAX;AACD,iBALD,MAKO;AACLR,4BAAU,CAACha,KAAX,CAAiBgF,QAAQ,CAAC4M,MAA1B;AACD;AACF,eATD;AAUD,aAXM,EAWJ1Z,IAXI,CAWC,iEAAU,UAAC6P,IAAD;AAAA,qBAAe,QAAI,CAAChG,UAAL,CAAgBW,IAAhB,WAAyBb,mBAAzB,kCAA4EkG,IAA5E,CAAf;AAAA,aAAV,CAXD,CAAP;AAYD;;QAnI+B,qF;;;;;;cAArBi1B,Y;AAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAZA,Y;AAAY,oBAFX;;;;;;;cAEDA,Y;AAAY;gBAHxB,wDAGwB;iBAHb;AACV9lC,sBAAU,EAAE;AADF,W;AAGa,U;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BzB;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAY6mC,oBAAZ;;AAAA,iBAAYA,oBAAZ,EAAgC;AAC5B;AACA;AACA;AACA;AACH,OALD,EAAYA,oBAAoB,KAApBA,oBAAoB,MAAhC;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAKaC,Q;;;;;;;iBACX,SAAA59B,SAAS,CAACxJ,KAAD,EAAaqnC,OAAb,EAA2CphB,OAA3C,EAAwD;AAC/D,mBAAOohB,OAAO,CAACC,IAAR,CAAarhB,OAAb,EAAsBjmB,KAAtB,CAAP;AACD;;;;;;;;cAHUonC,Q;AAAQ,gB;AAAA;;;;;;cAARA,Q;AAAQ;;;;;;;cAARA,Q;AAAQ;gBAHpB,kDAGoB;iBAHf;AACJjlC,gBAAI,EAAE;AADF,W;AAGe;;;;;;;;;;;;;;;;;;ACLrB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAoBaolC,gB;AAmBX,kCACmB7mC,WADnB,EAEmBwC,OAFnB,EAGmBD,mBAHnB,EAIkBukC,eAJlB,EAKmBC,qBALnB,EAKgE;AAAA;;AAAA;;AAE9D;AANiB,mBAAA/mC,WAAA,GAAAA,WAAA;AACA,mBAAAwC,OAAA,GAAAA,OAAA;AACA,mBAAAD,mBAAA,GAAAA,mBAAA;AACD,mBAAAukC,eAAA,GAAAA,eAAA;AACC,mBAAAC,qBAAA,GAAAA,qBAAA;AAvBH,mBAAAhM,cAAA,GAAiB,KAAjB;AAEA,mBAAAwF,oBAAA,GAAyC,0EAAqBA,oBAA9D;AACA,mBAAAC,mBAAA,GAAwC,0EAAqBA,mBAA7D;AACA,mBAAAwG,cAAA,GAAwC,6EAAxC;;AAOA,mBAAA9L,WAAA,GAAgC,YAAM;AACpD,gBAAI,CAAC,SAAK14B,OAAL,CAAauB,SAAb,CAAuBzE,KAA5B,EAAmC;AACjC,uBAAKiD,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACD;AACF,WAJe;;AAYgD;AAG/D;;;;;;iBAED,SAAA3D,QAAQ;AAAA;;AACN,gBAAMsE,KAAK,GAAG,KAAKnC,OAAL,CAAamC,KAAb,CAAmB/D,IAAnB,CACZ,4EAAqB,UAACgE,CAAD,EAAmBC,CAAnB;AAAA,qBAAyC,CAACD,CAAD,IAAM,CAACC,CAAR,IAAeD,CAAC,IAAIC,CAAL,IAAUD,CAAC,CAACjD,IAAF,CAAOzC,EAAP,KAAc2F,CAAC,CAAClD,IAAF,CAAOzC,EAAtF;AAAA,aAArB,CADY,EAEZ,iEAAU,KAAK4B,YAAf,CAFY,CAAd;AAKA,iBAAKmmC,eAAL,GAAuB,KAAKF,qBAAL,CAA2B1vB,uBAA3B,CAAmDzW,IAAnD,CACrB,gEAAS;AAAA,qBAAM+D,KAAN;AAAA,aAAT,CADqB,EAErB,gEAAS,UAAC6D,IAAD;AAAA,qBACNA,IAAI,GAAG,QAAI,CAACxI,WAAL,CAAiB4Z,YAAjB,CAA8B,sFAAiBstB,GAA/C,CAAH,GAAyD,gDAAG,IAAH,CADvD;AAAA,aAAT,CAFqB,EAIrB,2DAAI,UAACzjC,GAAD;AAAA,qBAAeA,GAAG,GAAGA,GAAG,CAACyQ,KAAP,GAAe,IAAjC;AAAA,aAAJ,CAJqB,EAKrB,iEAAU,KAAKpT,YAAf,CALqB,CAAvB;AAQA,iBAAKqmC,cAAL,GAAsB,KAAKJ,qBAAL,CAA2B1vB,uBAA3B,CAAmDzW,IAAnD,CACpB,gEAAS;AAAA,qBAAM+D,KAAN;AAAA,aAAT,CADoB,EAEpB,gEAAS,UAAC6D,IAAD;AAAA,qBAA0BA,IAAI,GAAG,QAAI,CAACxI,WAAL,CAAiB4Z,YAAjB,EAAH,GAAqC,gDAAG,IAAH,CAAnE;AAAA,aAAT,CAFoB,EAGpB,2DAAI,UAAClV,CAAD;AAAA,qBAAaA,CAAC,GAAGA,CAAC,CAACwP,KAAL,GAAa,IAA3B;AAAA,aAAJ,CAHoB,EAIpB,iEAAU,KAAKpT,YAAf,CAJoB,CAAtB;AAMD;;QAjDmC,0F;;;;;;cAAzB+lC,gB;AAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAhBA,gB;AAAgB,gC;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBCpB7B,47C;AAsCA,03vB;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDlBaA,gB;AAAgB;gBAL5B,uDAK4B;iBALlB;AACT5kC,oBAAQ,EAAE,cADD;AAETC,uBAAW,EAAE,2BAFJ;AAGTC,qBAAS,EAAE,CAAC,2BAAD;AAHF,W;AAKkB,U;;;;;;;;;;;;;;;AACX44B,wBAAc;kBAA7B;AAA6B;;;;;;;;;;;;;;;;;;;AErBhC;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYqM,UAAZ;;AAAA,iBAAYA,UAAZ,EAAsB;AAClB;AACA;AACA;AACH,OAJD,EAAYA,UAAU,KAAVA,UAAU,MAAtB;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAKA,UAAM78B,mBAAmB,GAAG,QAA5B;;UAKa88B,a;AACX,+BAA6B/gC,GAA7B,EAA8C;AAAA;;AAAjB,eAAAA,GAAA,GAAAA,GAAA;AAAmB;;;;iBAEzC,SAAAghC,KAAK,CAAC5yB,IAAD,EAA6BxV,EAA7B,EAAyC2O,OAAzC,EAAyD;AACnE,mBAAO,KAAKvH,GAAL,CAASG,KAAT,CAAe8D,mBAAf,EAAoC;AAAEmK,kBAAI,EAAJA,IAAF;AAAQxV,gBAAE,EAAFA,EAAR;AAAY2O,qBAAO,EAAPA;AAAZ,aAApC,CAAP;AACD;;;;;;;;cALUw5B,a;AAAa;AAAA;AAAA,U;AAAA;;;;;;cAAbA,a;AAAa,oBAFZ;;;;;;;cAEDA,a;AAAa;gBAHzB,wDAGyB;iBAHd;AACVznC,sBAAU,EAAE;AADF,W;AAGc,U;;;;;;;;;;;;;;;;;;;;;;;ACV1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAYA,UAAM2K,mBAAmB,GAAG,MAA5B;;UAKag9B,W;AAIX,6BACqB98B,UADrB,EAEqBC,KAFrB,EAGmB7H,eAHnB,EAGmD;AAAA;;AAAA;;AAEjD,oDAAM4H,UAAN,EAAkBF,mBAAlB,EAAuCG,KAAvC;AAJmB,mBAAAD,UAAA,GAAAA,UAAA;AACA,mBAAAC,KAAA,GAAAA,KAAA;AACF,mBAAA7H,eAAA,GAAAA,eAAA;AANF,mBAAAy4B,SAAA,GACf,IAAI,gFAAJ,CAA4B,SAAK7wB,UAAjC,EAA6CF,mBAA7C,EAAkE,SAAK1H,eAAvE,CADe;AAMkC;AAGlD;;;;;;iBAEM,SAAA+D,IAAI,GAAwC;AAAA,gBAAvC+D,IAAuC,uEAAxB,CAAwB;AAAA,gBAArBlK,KAAqB,uEAAF,EAAE;AACjD,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,CAA8C2D,mBAA9C,EAAmE,IAAnE,EAAyE,MAAF,OAAE,CAAF,kBAAO9J,KAAP,CAAE,EAAU;AAAEkK,kBAAI,EAAJA;AAAF,aAAV,CAAzE,CAAP;AACD;;;iBAEM,SAAAE,UAAU,CAAC3L,EAAD,EAAW;AAC1B,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WAAmC2D,mBAAnC,cAA4DrL,EAA5D,GAAmE,IAAnE,CAAP;AACD;;;iBAEM,SAAAqG,OAAO,CAACnE,OAAD,EAAgB;AAC5B,mBAAO,KAAKqJ,UAAL,CAAgBhE,KAAhB,WAA0C8D,mBAA1C,GACL;AAAEnJ,qBAAO,EAAEA,OAAO,CAAComC,WAAR,GAAsBtoB,OAAtB,CAA8B,MAA9B,EAAsC,EAAtC;AAAX,aADK,EACmDte,IADnD,CACwD,2DAAI,UAAC8D,CAAD;AAAA,qBAAuBA,CAAC,CAACxF,EAAzB;AAAA,aAAJ,CADxD,CAAP;AAED;;;iBAEM,SAAAuoC,aAAa,CAACvoC,EAAD,EAAW;AAC7B,mBAAO,KAAKuL,UAAL,CAAgBhE,KAAhB,WAAiC8D,mBAAjC,cAA0DrL,EAA1D,YAAsE,KAAtE,CAAP;AACD;;;iBAEM,SAAAoM,OAAO,CAACpM,EAAD,EAAW;AACvB,mBAAO,KAAKuL,UAAL,CAAgBa,OAAhB,WAAmCf,mBAAnC,cAA4DrL,EAA5D,EAAP;AACD;;;iBAEM,SAAAwoC,KAAK,CAACtmC,OAAD,EAAgB;AAC1B,mBAAO,KAAKqJ,UAAL,CAAgB7D,IAAhB,WAAsC2D,mBAAtC,yBAA0EyqB,kBAAkB,CAAC5zB,OAAO,CAAComC,WAAR,GAAsBtoB,OAAtB,CAA8B,MAA9B,EAAsC,EAAtC,CAAD,CAA5F,GAA4Ite,IAA5I,CACL,2DAAI,UAAC8D,CAAD;AAAA,qBAAoBA,CAAC,CAACxF,EAAtB;AAAA,aAAJ,CADK,EAEL,kEAAW,UAAC0O,GAAD,EAAc;AACvB,kBAAIA,GAAG,CAAC0M,MAAJ,KAAe,GAAnB,EAAwB;AACtB,uBAAO,gDAAG,IAAH,CAAP;AACD;;AACD,oBAAM1M,GAAN;AACD,aALD,CAFK,CAAP;AASD;;;iBAEM,SAAAoQ,YAAY,CAACsK,GAAD,EAAc;AAC/B,mBAAO,KAAKgT,SAAL,CAAe10B,IAAf,CAAoB0hB,GAApB,CAAP;AACD;;QA/C8B,qF;;;;;;cAApBif,W;AAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAXA,W;AAAW,oBAFV;;;;;;;cAEDA,W;AAAW;gBAHvB,wDAGuB;iBAHZ;AACV3nC,sBAAU,EAAE;AADF,W;AAGY,U;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASa+nC,kB;AAGX,oCAA6B9kC,eAA7B,EAA+D;AAAA;;AAAlC,eAAAA,eAAA,GAAAA,eAAA;AAAoC;;;;eAEjE,eAAuB;AACrB,gBAAI,CAAC,KAAK+kC,sBAAV,EAAkC;AAChC,kBAAI,KAAK/kC,eAAL,CAAqBS,SAAzB,EAAoC;AAClC,qBAAKskC,sBAAL,GAA8B,kDAAK,sDAAaC,UAAb,EAAL,EAAgCjnC,IAAhC,CAC5B,2DAAI,UAACqyB,UAAD;AAAA,yBAA0C,sDAAa6U,UAAb,CAAwB7U,UAAU,CAAC1K,IAAX,CAAgB,EAAhB,CAAxB,EAA6C,EAA7C,CAA1C;AAAA,iBAAJ,CAD4B,EAE5B,qEAAc,CAAd,CAF4B,EAG5B,iEAH4B,CAA9B;AAKD,eAND,MAMO;AACL,qBAAKqf,sBAAL,GAA8B,gDAAG,EAAH,CAA9B;AACD;AACF;;AAED,mBAAO,KAAKA,sBAAZ;AACD;;;;;;;;cAnBUD,kB;AAAkB;AAAA;AAAA,U;AAAA;;;;;;cAAlBA,kB;AAAkB,oBAFjB;;;;;;;cAEDA,kB;AAAkB;gBAH9B,wDAG8B;iBAHnB;AACV/nC,sBAAU,EAAE;AADF,W;AAGmB,U;;;;;;;;;;;;;;;;;;;;;;;ACT/B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAaamoC,a;;;;;;;;cAAAA,a;AAAa,gB;AAAA;;;;;;cAAbA,a;AAAa,uBANT,mEAMS,C;AANO,kBAG7B,4DAH6B,C;AAGjB,kBAFJ,mEAEI;;;;;;cAGHA,a;AAAa,kBAJf,CACP,4DADO,CAIe;;;;;;;cAAbA,a;AAAa;gBAPzB,sDAOyB;iBAPhB;AACR5gB,wBAAY,EAAE,CAAC,mEAAD,CADN;AAERC,mBAAO,EAAE,CAAC,mEAAD,CAFD;AAGRC,mBAAO,EAAE,CACP,4DADO;AAHD,W;AAOgB;;;;;;;;;;;;;;;;;;ACZ1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAEO,eAAS2gB,sBAAT,CAAgClK,UAAhC,EAAsD;AACzD,eAAO,IAAI,8EAAJ,CAAwBA,UAAxB,CAAP;AACH;;;;;;;;;;;;;;;;;ACLD;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAmBamK,sB;AAcX,wCACmB1lC,mBADnB,EAEmB2lC,EAFnB,EAEwC;AAAA;;AADrB,eAAA3lC,mBAAA,GAAAA,mBAAA;AACA,eAAA2lC,EAAA,GAAAA,EAAA;AAfO,eAAAC,IAAA,GAA6B,IAAI,0DAAJ,EAA7B;AACA,eAAAC,WAAA,GAAmC,IAAI,0DAAJ,EAAnC;AAEV,eAAAC,SAAA,GAAY,IAAZ;AAGT,eAAAC,SAAA,GAAY,IAAZ;AAEA,eAAAC,kBAAA,GAAqB,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,CAC9C,0DAAWC,QADmC,EAE9C,0DAAWC,SAAX,CAAqB,IAArB,CAF8C,CAApB,CAArB;AAQH;;;;iBAEG,SAAArjB,KAAK;AACV,iBAAKmjB,kBAAL,CAAwBtY,QAAxB,CAAiC,EAAjC;AACA,iBAAKyY,QAAL;AACD;;;iBAEM,SAAAA,QAAQ;AACb,iBAAKJ,SAAL,GAAiB,IAAjB;AACA,iBAAKJ,EAAL,CAAQxhB,YAAR;AACD;;;iBAED,SAAArmB,QAAQ;AACN,iBAAKgoC,SAAL,GAAkB,KAAKC,SAAL,GAAiB,IAAnC,GAA4C,KAAKA,SAAL,GAAiB,KAA7D;AACD;;;iBAEM,SAAAhP,MAAM;AACX,gBAAI,KAAKG,QAAT,EAAmB;AACjB,mBAAK0O,IAAL,CAAUngC,IAAV,CAAe,KAAKugC,kBAAL,CAAwBjpC,KAAvC;AACA,mBAAK8lB,KAAL;AACD,aAHD,MAGO;AACL,mBAAK7iB,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACA,mBAAK0kC,QAAL;AACD;AACF;;;iBAEM,SAAAzoC,KAAK,CAACkE,KAAD,EAAW;AACrBA,iBAAK,CAACkK,eAAN;;AACA,gBAAI,CAAC,KAAKg6B,SAAV,EAAqB;AACnB,mBAAKD,WAAL,CAAiBpgC,IAAjB;AACD,aAFD,MAEO;AACL,mBAAK0gC,QAAL;AACD;AACF;;;;;;;;cAlDUT,sB;AAAsB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAtBA,sB;AAAsB,sC;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCnBnC,gsB;AAmBA,2oI;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cDAaA,sB;AAAsB;gBANlC,uDAMkC;iBANxB;AACThmC,oBAAQ,EAAE,oBADD;AAETC,uBAAW,EAAE,iCAFJ;AAGTC,qBAAS,EAAE,CAAC,iCAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMwB,U;;;;;;;;;AACPgiC,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE,C;AACNC,qBAAW,EAAE,CAAF;kBAApC;AAAoC,WAAE,C;AAEvBC,mBAAS;kBAAxB;AAAwB,Y;AACT5O,kBAAQ;kBAAvB;AAAuB;;;;;;;;;;;;;;;;;;;AExB1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AASA,UAAMlvB,mBAAmB,GAAG,eAA5B;;UAKao+B,oB;AACX,sCAA6BriC,GAA7B,EAA8C;AAAA;;AAAjB,eAAAA,GAAA,GAAAA,GAAA;AAAmB;;;;iBAEzC,SAAAgrB,YAAY;AACjB,mBAAO,KAAKhrB,GAAL,CAASM,IAAT,WAAqC2D,mBAArC,aAAmE3J,IAAnE,CAAwE,2DAAI,UAAC8D,CAAD;AAAA,qBAA0BA,CAAC,CAACwP,KAA5B;AAAA,aAAJ,CAAxE,CAAP;AACD;;;iBAEM,SAAArQ,SAAS,CAAC3E,EAAD,EAAW;AACzB,mBAAO,KAAKoH,GAAL,CAASG,KAAT,WAAmB8D,mBAAnB,cAA4CrL,EAA5C,WAAP;AACD;;;iBAEM,SAAA0pC,aAAa,CAACn4B,IAAD,EAAoB;AACtC,mBAAO,KAAKnK,GAAL,CAASG,KAAT,WAAmB8D,mBAAnB,gBAAoDkG,IAApD,CAAP;AACD;;;iBAEM,SAAAo4B,YAAY;AACjB,mBAAO,KAAKviC,GAAL,CAASM,IAAT,WAAiC2D,mBAAjC,eAAP;AACD;;;iBAEM,SAAA3D,IAAI,CAAC+D,IAAD,EAAeqP,KAAf,EAA6B;AACtC,mBAAO,KAAK1T,GAAL,CAASM,IAAT,CACL2D,mBADK,EACgB,KADhB,EACuB;AAAEI,kBAAI,EAAEA,IAAI,CAACmoB,QAAL,EAAR;AAAyB9Y,mBAAK,EAALA;AAAzB,aADvB,EAELpZ,IAFK,CAGL,2DAAI,UAAC8D,CAAD,EAA2C;AAC7C,kBAAM49B,GAAG,GAAiC;AACxClhC,uBAAO,EAAE,EAD+B;AAExCuJ,oBAAI,EAAEjG,CAAC,CAACiG,IAFgC;AAGxCzJ,qBAAK,EAAEwD,CAAC,CAACxD,KAH+B;AAIxCiT,0BAAU,EAAEzP,CAAC,CAACyP;AAJ0B,eAA1C;;AAMAzP,eAAC,CAACtD,OAAF,CAAUuS,OAAV,CAAkB,UAACxO,CAAD,EAA4B;AAC5C,oBAAIA,CAAC,CAACuP,IAAF,KAAW,gBAAf,EAAiC;AAC/B4tB,qBAAG,CAAClhC,OAAJ,CAAYD,IAAZ,CAAiB,MAAD,OAAC,CAAD,kBACXgE,CADW,CAAC,EACX;AACJsL,wBAAI,EAAE,MAAF,OAAE,CAAF,kBACC8V,IAAI,CAACC,KAAL,CAAWrhB,CAAC,CAACsL,IAAF,CAAOyO,OAAP,CAAe,qBAAf,EAAsC,SAAtC,CAAX,CADD,CAAE,EAC2D;AAC/DrR,6BAAO,EAAE1I,CAAC,CAACsL,IAAF,CACN2H,KADM,CACA,qBADA,EACuB,CADvB,EAEN8G,OAFM,CAEE,aAFF,EAEiB,EAFjB,EAGNA,OAHM,CAGE,WAHF,EAGe,EAHf;AADsD,qBAD3D,CADF;AAQJtb,wBAAI,EAAEuB,CAAC,CAACvB;AARJ,mBADW,CAAjB;AAWD,iBAZD,MAYO;AACL0+B,qBAAG,CAAClhC,OAAJ,CAAYD,IAAZ,CAAiB,MAAD,OAAC,CAAD,kBAAMgE,CAAN,CAAC,EAAM;AAAEsL,wBAAI,EAAE8V,IAAI,CAACC,KAAL,CAAWrhB,CAAC,CAACsL,IAAb,CAAR;AAA4B7M,wBAAI,EAAEuB,CAAC,CAACvB;AAApC,mBAAN,CAAjB;AACD;AACF,eAhBD;;AAiBA,qBAAO0+B,GAAP;AACD,aAzBD,CAHK,CAAP;AA8BD;;;;;;;;cAlDUqG,oB;AAAoB;AAAA;AAAA,U;AAAA;;;;;;cAApBA,oB;AAAoB,oBAFnB;;;;;;;cAEDA,oB;AAAoB;gBAHhC,wDAGgC;iBAHrB;AACV/oC,sBAAU,EAAE;AADF,W;AAGqB,U;;;;;;;;;;;;;;;;;;;;;;;ACdjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAqBakpC,uB;AAyBX,yCACmB1Q,eADnB,EAEmB5pB,GAFnB,EAGmBoO,eAHnB,EAIkBrD,cAJlB,EAKSwvB,kBALT,EAK6C;AAAA;;AAAA;;AAE3C;AANiB,mBAAA3Q,eAAA,GAAAA,eAAA;AACA,mBAAA5pB,GAAA,GAAAA,GAAA;AACA,mBAAAoO,eAAA,GAAAA,eAAA;AACD,mBAAArD,cAAA,GAAAA,cAAA;AACT,mBAAAwvB,kBAAA,GAAAA,kBAAA;AA1BiB,mBAAAC,cAAA,GAAqC,IAAI,0DAAJ,EAArC;AACA,mBAAAC,aAAA,GAAoC,IAAI,0DAAJ,EAApC;AAUlB,mBAAAC,eAAA,GAAuE,EAAvE;AAID,mBAAAC,SAAA,GAAY,gEAAZ;AAGS,mBAAAtD,SAAA,GAAoD,IAAI,oDAAJ,CAA2C,IAA3C,CAApD;AACA,mBAAAuD,SAAA,GAAwC,IAAI,oDAAJ,CAA+B,SAAKD,SAAL,CAAe,CAAf,CAA/B,CAAxC;AAO6B;AAG5C;;;;;;eAvBD,aAAoC7pC,KAApC,EAAgD;AAC9C,iBAAKmS,QAAL,GAAgBnS,KAAhB;AACA,iBAAKumC,SAAL,CAAexmC,IAAf,CAAoB,KAAKoS,QAAzB;AACD;;;iBAsBD,SAAApR,QAAQ;AACN,gBAAM+oC,SAAS,GAAG,KAAKA,SAAL,CAAexoC,IAAf,CAAoB,6EAApB,CAAlB;AAEA,iBAAKyoC,aAAL,GAAqB,KAAKxD,SAAL,CAAejlC,IAAf,CACnB,8DAAO,UAAC6C,GAAD;AAAA,qBAAgC,CAAC,CAACA,GAAlC;AAAA,aAAP,CADmB,EAEnB,iEAAU,UAACgO,QAAD;AAAA,qBACR23B,SAAS,CAACxoC,IAAV,CAAe,2DAAI,UAAC0+B,IAAD;AAAA,uBACjB7tB,QAAQ,CAAC/N,MAAT,CAAgB,UAACo1B,OAAD;AAAA,yBACd,CAACA,OAAO,CAACS,MAAT,IAAmB,CAACT,OAAO,CAACS,MAAR,CAAe53B,IAAf,CAAoBzC,EAD1B;AAAA,iBAAhB,EAC8C8pB,IAD9C,CACmDsW,IAAI,CAACtW,IADxD,CADiB;AAAA,eAAJ,CAAf,CADQ;AAAA,aAAV,CAFmB,CAArB;AAOD;;;iBAEM,SAAAsgB,WAAW,CAACpqC,EAAD,EAAW;AAC3B,gBAAI,CAAC,KAAKgqC,eAAL,CAAqBhqC,EAArB,CAAL,EAA+B;AAC7B,kBAAMkqC,SAAS,GAAG,KAAKA,SAAL,CAAexoC,IAAf,CAAoB,6EAApB,CAAlB;AAEA,mBAAKsoC,eAAL,CAAqBhqC,EAArB,IAA2B,2DAAc,CAACkqC,SAAD,EAAY,KAAKvD,SAAL,CAAejlC,IAAf,CAAoB,8DAAO,UAAC2oC,CAAD;AAAA,uBAA8BA,CAAC,KAAK,IAApC;AAAA,eAAP,CAApB,CAAZ,CAAd,EAAkG3oC,IAAlG,CACzB,2DAAI,iBAA0D;AAAA;AAAA,oBAAxD0+B,IAAwD;AAAA,oBAAlD7tB,QAAkD;;AAC5D,uBAAOA,QAAQ,CAAC/N,MAAT,CAAgB,UAACoW,CAAD;AAAA,yBAA4BA,CAAC,CAACyf,MAAF,IAAYzf,CAAC,CAACyf,MAAF,CAAS53B,IAAT,CAAczC,EAAd,KAAqBA,EAA7D;AAAA,iBAAhB,EAAiF8pB,IAAjF,CAAsFsW,IAAI,CAACtW,IAA3F,CAAP;AACD,eAFD,CADyB,CAA3B;AAKD;;AAED,mBAAO,KAAKkgB,eAAL,CAAqBhqC,EAArB,CAAP;AACD;;;iBAEM,SAAAsqC,qBAAqB,CAACtqC,EAAD,EAAW;AAAA;;AACrC,mBAAO,KAAK2mC,SAAL,CAAejlC,IAAf,CACL,2DAAI,UAAC6Q,QAAD;AAAA,qBAAqCA,QAAQ,CAAC/N,MAAT,CACvC,UAACoW,CAAD;AAAA,uBAA4BA,CAAC,CAACyf,MAAF,IAAYzf,CAAC,CAACyf,MAAF,CAAS53B,IAAT,CAAczC,EAAd,KAAqBA,EAAjC,KAAwC,CAAC4a,CAAC,CAACnY,IAAF,CAAOiQ,SAAR,IAC/D,QAAI,CAAC63B,oBAAL,CAA0B3vB,CAAC,CAACnY,IAAF,CAAOzC,EAAjC,EAAqCuS,QAArC,CADuB,CAA5B;AAAA,eADuC,EAEe0J,MAFf,GAEwB,CAF7D;AAAA,aAAJ,CADK,CAAP;AAMD;;;iBAEO,SAAAsuB,oBAAoB,CAACvqC,EAAD,EAAauS,QAAb,EAA4C;AAAA;;AACtE,mBAAOA,QAAQ,CAAC/N,MAAT,CAAgB,UAACoW,CAAD;AAAA,qBAA4BA,CAAC,CAACyf,MAAF,IAAYzf,CAAC,CAACyf,MAAF,CAAS53B,IAAT,CAAczC,EAAd,KAAqBA,EAAjC,KAAwC,CAAC4a,CAAC,CAACnY,IAAF,CAAOiQ,SAAR,IACtF,QAAI,CAAC63B,oBAAL,CAA0B3vB,CAAC,CAACnY,IAAF,CAAOzC,EAAjC,EAAqCuS,QAArC,CAD8C,CAA5B;AAAA,aAAhB,EAC+C0J,MAD/C,GACwD,CAD/D;AAED;;;iBAEM,SAAAuuB,aAAa,CAACj4B,QAAD,EAAiB;AACnC,gBAAMk4B,GAAG,GAAI/uB,IAAI,CAACgvB,GAAL,CAASn4B,QAAT,IAAqB,GAAtB,GAA6B,EAAzC;AACA,gBAAItR,MAAJ;;AACA,gBAAIsR,QAAQ,GAAG,EAAX,IAAiBA,QAAQ,GAAG,EAAhC,EAAoC;AAClCtR,oBAAM,GAAG,KAAK4oC,kBAAL,CAAwBpyB,OAAxB,CAAgC,kBAAhC,CAAT;AACD,aAFD,MAEO,IAAIgzB,GAAG,GAAG,CAAN,IAAWA,GAAG,GAAG,CAArB,EAAwB;AAC7BxpC,oBAAM,GAAG,KAAK4oC,kBAAL,CAAwBpyB,OAAxB,CAAgC,oBAAhC,CAAT;AACD,aAFM,MAEA,IAAIgzB,GAAG,KAAK,CAAZ,EAAe;AACpBxpC,oBAAM,GAAG,KAAK4oC,kBAAL,CAAwBpyB,OAAxB,CAAgC,mBAAhC,CAAT;AACD,aAFM,MAEA;AACLxW,oBAAM,GAAG,KAAK4oC,kBAAL,CAAwBpyB,OAAxB,CAAgC,kBAAhC,CAAT;AACD;;AACD,mBAAOxW,MAAP;AACD;;;iBAEM,SAAAm4B,KAAK,CAACQ,OAAD,EAA6B;AACvC,gBAAM+Q,SAAS,GAAgB,KAAKC,WAAL,CAAiBzlC,aAAjB,CAA+BurB,aAA/B,iCAAqEkJ,OAAO,CAACn3B,IAAR,CAAazC,EAAlF,SAA/B;AACA2qC,qBAAS,CAACE,aAAV,CAAwBC,YAAxB,CAAqC,KAAKC,cAAL,CAAoB5lC,aAAzD,EAAwEwlC,SAAS,CAACK,WAAlF;AACA,iBAAKD,cAAL,CAAoB5lC,aAApB,CAAkC8lC,SAAlC,CAA4CC,MAA5C,CAAmD,QAAnD;AACA,iBAAKH,cAAL,CAAoB5lC,aAApB,CAAkCurB,aAAlC,CAAgD,UAAhD,EAA4DlqB,KAA5D;AACA,iBAAK2kC,UAAL,GAAkB5O,QAAQ,CAACoO,SAAS,CAACS,OAAV,CAAkBprC,EAAnB,EAAuB,EAAvB,CAA1B;AACA,iBAAKsP,GAAL,CAASkY,YAAT;AACD;;;iBAEM,SAAA6jB,UAAU;AACf,iBAAKN,cAAL,CAAoB5lC,aAApB,CAAkC8lC,SAAlC,CAA4CvY,GAA5C,CAAgD,QAAhD;AACA,iBAAKpjB,GAAL,CAASkY,YAAT;AACD;;;iBAEM,SAAA8jB,YAAY,CAACjpC,IAAD,EAAoC;AAAA,gBAArBg4B,MAAqB,uEAAJ,IAAI;AACrD,mBAAOA,MAAM,KAAK,IAAX,GACH,KAAK3c,eAAL,CAAqB6tB,eAArB,CAAqC,KAAKvrC,EAA1C,EAA8Cq6B,MAA9C,EAAsDh4B,IAAtD,CADG,GAEH,KAAKqb,eAAL,CAAqB8tB,cAArB,CAAoC,KAAKxrC,EAAzC,EAA6CqC,IAA7C,CAFJ;AAGD;;;iBAEM,SAAAopC,WAAW,CAACppC,IAAD,EAAa;AAAA;;AAC7B,iBAAKipC,YAAL,CAAkBjpC,IAAlB,EAAwB,IAAxB,EACGX,IADH,CACQ,iEAAU,KAAKE,YAAf,CADR,EAEGC,SAFH,CAEa,UAAC+3B,OAAD,EAAkC;AAC3C,sBAAI,CAACrnB,QAAL,CAActQ,IAAd,CAAmB23B,OAAnB;;AACA,sBAAI,CAAC+M,SAAL,CAAexmC,IAAf,CAAoB,QAAI,CAACoS,QAAzB;;AACA,sBAAI,CAACu3B,cAAL,CAAoBhhC,IAApB;AACH,aAND;AAOD;;;iBAEM,SAAA4iC,SAAS,CAACrpC,IAAD,EAAa;AAAA;;AAC3B,iBAAKipC,YAAL,CAAkBjpC,IAAlB,EAAwB,KAAK8oC,UAA7B,EAAyCzpC,IAAzC,CAA8C,iEAAU,KAAKE,YAAf,CAA9C,EACGC,SADH,CACa,UAAC+3B,OAAD,EAAkC;AAC3C,sBAAI,CAACrnB,QAAL,CAActQ,IAAd,CAAmB23B,OAAnB;;AACA,sBAAI,CAAC+M,SAAL,CAAexmC,IAAf,CAAoB,QAAI,CAACoS,QAAzB;;AACA,sBAAI,CAACw4B,cAAL,CAAoB5lC,aAApB,CAAkC8lC,SAAlC,CAA4CvY,GAA5C,CAAgD,QAAhD;;AACA,sBAAI,CAACoX,cAAL,CAAoBhhC,IAApB;;AACA,sBAAI,CAACwG,GAAL,CAASkY,YAAT;AACH,aAPD;AAQD;;;iBAEM,SAAA4F,KAAK,CAACue,MAAD,EAA+C;AAAA;;AACzD,gBAAI,KAAKpR,QAAT,EAAmB;AACjB,mBAAKrB,eAAL,CAAqB/L,MAArB,CAA4Bwe,MAAM,CAAClpC,IAAP,CAAYzC,EAAxC,EAA4C,CAAC2rC,MAAM,CAACve,KAApD,EAA2D1rB,IAA3D,CAAgE,iEAAU,KAAKE,YAAf,CAAhE,EAA8FC,SAA9F,CAAwG,YAAM;AAC5G,wBAAI,CAACkoC,aAAL,CAAmBjhC,IAAnB;AACD,eAFD;AAGD;AACF;;;iBAEM,SAAA8iC,UAAU,CAACC,SAAD,EAAe;AAC9B,iBAAKt5B,QAAL,GAAgB,KAAKA,QAAL,CAAc/N,MAAd,CAAqB,UAACo1B,OAAD;AAAA,qBAAkCA,OAAO,CAACn3B,IAAR,CAAazC,EAAb,KAAoB6rC,SAAtD;AAAA,aAArB,CAAhB;AACA,iBAAKlF,SAAL,CAAexmC,IAAf,CAAoB,KAAKoS,QAAzB;AACD;;;iBAEM,SAAAu5B,aAAa,CAACxiB,KAAD,EAA6B;AAC/C,mBAAOA,KAAK,CAAC9kB,MAAN,CAAa,UAACgB,CAAD;AAAA,qBAA4B,CAACA,CAAC,CAAC/C,IAAF,CAAOiQ,SAApC;AAAA,aAAb,CAAP;AACD;;QAlJ0C,0F;;;;;;cAAhCk3B,uB;AAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAvBA,uB;AAAuB,uC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,6B;AAAA,4D;AAAA,kBCrBpC,wlG;AAkEA,kz+N;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cD7CaA,uB;AAAuB;gBANnC,uDAMmC;iBANzB;AACT7mC,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMyB,U;;;;;;;;;;;;;;;AACoB8jC,wBAAc,EAAE,CAAF;kBAAnE,uDAAmE;mBAAzD,gB,EAAkB;AAAE,wBAAQ;AAAV,a;AAAuC,WAAE,C;AACnBH,qBAAW,EAAE,CAAF;kBAA7D,uDAA6D;mBAAnD,a,EAAe;AAAE,wBAAQ;AAAV,a;AAAoC,WAAE,C;AAEtCd,wBAAc,EAAE,CAAF;kBAAvC;AAAuC,WAAE,C;AAChBC,uBAAa,EAAE,CAAF;kBAAtC;AAAsC,WAAE,C;AAEzBxP,kBAAQ;kBAAvB;AAAuB,Y;AACRjxB,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACNtJ,YAAE;kBAAjB;AAAiB,Y;AACE+rC,yBAAe;kBAAlC;AAAkC;;;;;;;;;;;;;;;;;;;AE/BrC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAaaC,oB;AAIX,sCACmBC,aADnB,EAEmB9oC,MAFnB,EAGkBkxB,kBAHlB,EAGwD;AAAA;;AAAA;;AACpD;AAHe,mBAAA4X,aAAA,GAAAA,aAAA;AACA,mBAAA9oC,MAAA,GAAAA,MAAA;AACD,mBAAAkxB,kBAAA,GAAAA,kBAAA;AALX,mBAAA1lB,OAAA,GAAU,EAAV;AAKiD;AAC1C;;;;;;iBAEd,SAAAxN,QAAQ;AAAA;;AACN,iBAAKgC,MAAL,CAAYoC,MAAZ,CAAmB7D,IAAnB,CAAwB,iEAAU,KAAKE,YAAf,CAAxB,EAAsDC,SAAtD,CAAgE,UAACoD,KAAD,EAAkB;AAChF,kBAAIA,KAAK,YAAY,6DAArB,EAAoC;AAClC,wBAAI,CAAC0J,OAAL,GAAe,EAAf;AACD;AACF,aAJD;AAKD;;;iBAEM,SAAAmL,MAAM;AAAA;;AACX,iBAAKH,MAAL,GAAc,KAAK0a,kBAAL,CAAwB1a,MAAtC;AACA,iBAAKsyB,aAAL,CAAmB7D,KAAnB,CAAyB,KAAKzuB,MAAL,CAAYnE,IAArC,EAA2C,KAAKmE,MAAL,CAAY3Z,EAAvD,EAA2D,KAAK2O,OAAhE,EAAyEjN,IAAzE,CAA8E,iEAAU,KAAKE,YAAf,CAA9E,EAA4GC,SAA5G,CAAsH,YAAM;AAC1H,sBAAI,CAACwyB,kBAAL,CAAwBva,MAAxB;AACD,aAFD;AAGD;;QAvBuC,0F;;;;;;cAA7BkyB,oB;AAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAApBA,oB;AAAoB,oC;AAAA,6B;AAAA,4D;AAAA,kBCbjC,qsE;AAwBA,86a;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;;;;;;;cDXaA,oB;AAAoB;gBALhC,uDAKgC;iBALtB;AACTjpC,oBAAQ,EAAE,kBADD;AAETC,uBAAW,EAAE,+BAFJ;AAGTC,qBAAS,EAAE,CAAC,+BAAD;AAHF,W;AAKsB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;AEbjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQaipC,mB,6BANb;AAAA;;AAOkB,aAAAlsC,EAAA,GAAK,EAAL,CAPlB,CAQE;;AAC0B,aAAAwmB,QAAA,GAA8B,IAAI,0DAAJ,EAA9B;AAC3B,O;;;;;;cAJY0lB,mB;AAAmB,gB;AAAA;;;;;cAAnBA,mB;AAAmB,mC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCRhC,6R;AAQA,o7xB;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cDAaA,mB;AAAmB;gBAN/B,uDAM+B;iBANrB;AACTnpC,oBAAQ,EAAE,iBADD;AAETC,uBAAW,EAAE,8BAFJ;AAGTC,qBAAS,EAAE,CAAC,8BAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMqB,U;;AACdjH,YAAE;kBAAjB;AAAiB,Y;AAEQwmB,kBAAQ,EAAE,CAAF;kBAAjC;AAAiC,WAAE;;;;;;;;;;;;;;;;;;;AEXtC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQa2lB,6B;AASX,iDAAc;AAAA;;AARE,eAAAC,OAAA,GAAU,IAAV;AACA,eAAAC,UAAA,GAAa,KAAb;AAGU,eAAArlB,WAAA,GAAmC,IAAI,0DAAJ,EAAnC;AAEnB,eAAAoiB,SAAA,GAAY,IAAZ;AAES;;;;iBAET,SAAA1hB,eAAe;AACpB,iBAAKV,WAAL,CAAiBle,IAAjB;AACA,mBAAO,IAAP;AACD;;;iBAEM,SAAAwjC,cAAc;AACnB,iBAAKlD,SAAL,GAAiB,CAAC,KAAKA,SAAvB;AACD;;;;;;;;cAlBU+C,6B;AAA6B,gB;AAAA;;;;;cAA7BA,6B;AAA6B,iD;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCR1C,07B;AAkBA,omC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;;cDVaA,6B;AAA6B;gBANzC,uDAMyC;iBAN/B;AACTppC,oBAAQ,EAAE,+BADD;AAETC,uBAAW,EAAE,yCAFJ;AAGTC,qBAAS,EAAE,CAAC,yCAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAM+B,U;;;;;AACxBmlC,iBAAO;kBAAtB;AAAsB,Y;AACPC,oBAAU;kBAAzB;AAAyB,Y;AACV70B,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AAEIwP,qBAAW,EAAE,CAAF;kBAApC;AAAoC,WAAE;;;;;;;;;;;;;;;;;;;AEbzC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAiBA,UAAM3b,mBAAmB,GAAG,WAA5B;;UAKakhC,gB;AACX,kCACqBhhC,UADrB,EAEqBC,KAFrB,EAEiC;AAAA;;AAAA;;AAE/B,yDAAMD,UAAN,EAAkBF,mBAAlB,EAAuCG,KAAvC;AAHmB,mBAAAD,UAAA,GAAAA,UAAA;AACA,mBAAAC,KAAA,GAAAA,KAAA;AAAY;AAGhC;;;;;;iBAEM,SAAA9D,IAAI,GAAyC;AAAA,gBAAxC+D,IAAwC,uEAAzB,CAAyB;AAAA,gBAAtBlK,KAAsB,uEAAF,EAAE;AAClD,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,CAAkD2D,mBAAlD,EAAuE,IAAvE,EAA6E,MAAF,OAAE,CAAF,kBAAO9J,KAAP,CAAE,EAAU;AAAEsI,qBAAO,EAAE,IAAX;AAAiB4B,kBAAI,EAAJA;AAAjB,aAAV,CAA7E,CAAP;AACD;;;iBAEM,SAAAE,UAAU,CAAC3L,EAAD,EAAW;AAC1B,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WAA2C2D,mBAA3C,cAAoErL,EAApE,GAA2E,IAA3E,CAAP;AACD;;;iBAEM,SAAAwsC,cAAc;AACnB,mBAAO,KAAKjhC,UAAL,CAAgBhE,KAAhB,CAA6B8D,mBAA7B,EAAkD,KAAlD,CAAP;AACD;;;iBAEM,SAAAe,OAAO,CAACpM,EAAD,EAAW;AACvB,mBAAO,KAAKuL,UAAL,CAAgBa,OAAhB,WAAmCf,mBAAnC,cAA4DrL,EAA5D,EAAP;AACD;;;iBAEM,SAAA2mC,SAAS,GAA6B;AAAA,gBAA5Bl7B,IAA4B,uEAAb,CAAa;AAAA,gBAAVzL,EAAU;AAC3C,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WAA0D2D,mBAA1D,cAAmFrL,EAAnF,4BAAyGyL,IAAzG,GAAkH,IAAlH,CAAP;AACD;;;iBAEM,SAAAghC,OAAO,CAACzsC,EAAD,EAAiD;AAAA,gBAApCyL,IAAoC,uEAArB,CAAqB;AAAA,gBAAlBlK,KAAkB;AAC7D,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,WAAoD2D,mBAApD,cAA6ErL,EAA7E,cAA2F,IAA3F,EAAiG,MAAF,OAAE,CAAF,kBAAOuB,KAAP,CAAE,EAAU;AAAEkK,kBAAI,EAAJA;AAAF,aAAV,CAAjG,CAAP;AACD;;;iBAEM,SAAAihC,KAAK,CAAC1sC,EAAD,EAA+C;AAAA,gBAAlCyL,IAAkC,uEAAnB,CAAmB;AAAA,gBAAhBlK,KAAgB;AACzD,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,WAAkD2D,mBAAlD,cAA2ErL,EAA3E,YAAuF,IAAvF,EAA6F,MAAF,OAAE,CAAF,kBAAOuB,KAAP,CAAE,EAAU;AAAEkK,kBAAI,EAAJA;AAAF,aAAV,CAA7F,CAAP;AACD;;;iBAEM,SAAAkhC,QAAQ,CAAC3sC,EAAD,EAA6B;AAAA,gBAAhByL,IAAgB,uEAAD,CAAC;AAC1C,mBAAO,KAAKF,UAAL,CAAgB7D,IAAhB,WAAmD2D,mBAAnD,cAA4ErL,EAA5E,2BAAiGyL,IAAjG,GAA0G,IAA1G,CAAP;AACD;;;iBAEM,SAAAmhC,aAAa,CAACC,SAAD,EAAoBhhC,MAApB,EAAoCq/B,MAApC,EAAoD;AACtE,mBAAOA,MAAM,GACT,KAAK3/B,UAAL,CAAgBa,OAAhB,WAAmCf,mBAAnC,cAA4DwhC,SAA5D,sBAAmFhhC,MAAnF,EADS,GAET,KAAKN,UAAL,CAAgBhE,KAAhB,WAAiC8D,mBAAjC,cAA0DwhC,SAA1D,sBAAiFhhC,MAAjF,EAFJ;AAGD;;;iBAEM,SAAAihC,SAAS,CAAC9sC,EAAD,EAAkC;AAAA,gBAArBuB,KAAqB,uEAAF,EAAE;AAChD,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,WAA4C2D,mBAA5C,cAAqErL,EAArE,kBAAuF,IAAvF,EAA6FuB,KAA7F,EACJG,IADI,CACC,2DAAI,UAAC8D,CAAD;AAAA,qBAA0BA,CAAC,CAACwP,KAA5B;AAAA,aAAJ,CADD,CAAP;AAED;;;iBAEM,SAAA+3B,YAAY,CAAC/sC,EAAD,EAAkC;AAAA,gBAArBuB,KAAqB,uEAAF,EAAE;AACnD,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,WAA+C2D,mBAA/C,cAAwErL,EAAxE,GAA+E,IAA/E,EAAqFuB,KAArF,EACJG,IADI,CACC,2DAAI,UAAC8D,CAAD;AAAA,qBAA6BA,CAAC,CAACwnC,QAA/B;AAAA,aAAJ,CADD,CAAP;AAED;;;iBAEM,SAAAC,WAAW,CAACjtC,EAAD,EAAoC;AAAA,gBAAvBuB,KAAuB,uEAAF,EAAE;AACpD,mBAAO,KAAKgK,UAAL,CAAgB7D,IAAhB,WAA4C2D,mBAA5C,cAAqErL,EAArE,oBAAyF,IAAzF,EAA+FuB,KAA/F,EACJG,IADI,CACC,2DAAI,UAAC8D,CAAD;AAAA,qBAA0BA,CAAC,CAACwP,KAA5B;AAAA,aAAJ,CADD,CAAP;AAED;;QA3DmC,qF;;;;;;cAAzBu3B,gB;AAAgB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAhBA,gB;AAAgB,oBAFf;;;;;;;cAEDA,gB;AAAgB;gBAH5B,wDAG4B;iBAHjB;AACV7rC,sBAAU,EAAE;AADF,W;AAGiB,U;;;;;;;;;;;;;;;;;;;;;;;;;ACtB7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAcawsC,c;AAWX,gCACmBjhB,YADnB,EAEmBkhB,YAFnB,EAE6C;AAAA;;AAD1B,eAAAlhB,YAAA,GAAAA,YAAA;AACA,eAAAkhB,YAAA,GAAAA,YAAA;AAZH,eAAAC,cAAA,GAA0C,IAAI,oDAAJ,CAA4B,IAA5B,CAA1C;AACA,eAAAC,OAAA,GAAiC,IAAI,kDAAJ,CAA0B,CAA1B,CAAjC;AACA,eAAA5nC,KAAA,GAAsC,IAAI,kDAAJ,CAAiC,CAAjC,CAAtC;AAEA,eAAAZ,SAAA,GAAsC,IAAI,oDAAJ,CAA6B,KAA7B,CAAtC;AAUd,eAAKyoC,QAAL;AAEA,eAAKD,OAAL,CAAaxrC,SAAb,CAAuB,KAAKurC,cAA5B;AACA,eAAK3nC,KAAL,CAAW/D,IAAX,CAAgB,2DAAI,UAAC4H,IAAD;AAAA,mBAAyB,CAAC,CAACA,IAA3B;AAAA,WAAJ,CAAhB,EAAsDzH,SAAtD,CAAgE,KAAKgD,SAArE;AACD;;;;eAZD,eAAiB;AACf,mBAAO,KAAKuoC,cAAL,CAAoBhtC,KAA3B;AACD;;;iBAYO,SAAAktC,QAAQ;AAAA;;AACd,iBAAKH,YAAL,CAAkBtiB,MAAlB,CAAyBnpB,IAAzB,CACE,4EAAqB,UAACkZ,CAAD,EAAa2yB,CAAb,EAA4B;AAC/C,qBAAO,EAAG3yB,CAAC,KAAK,IAAP,MAAkB2yB,CAAC,KAAK,IAAxB,KAAkC3yB,CAAC,IAAI2yB,CAAL,IAAU3yB,CAAC,CAAC5W,GAAF,KAAUupC,CAAC,CAACvpC,GAA1D,CAAP;AACD,aAFD,CADF,EAIE,2DAAI,UAAC6mB,MAAD;AAAA,qBAAsBA,MAAM,GAAG,CAACA,MAAM,CAAC7mB,GAAX,GAAiB,IAA7C;AAAA,aAAJ,CAJF,EAKEnC,SALF,CAKY,KAAKwrC,OALjB;AAOA,iBAAKA,OAAL,CAAa3rC,IAAb,CACE,iEAAU,UAAC1B,EAAD;AAAA,qBAAiBA,EAAE,GAAG,QAAI,CAACisB,YAAL,CAAkBya,GAAlB,EAAH,GAA6B,gDAAG,IAAH,CAAhD;AAAA,aAAV,CADF,EAEE,kEAAW,YAAM;AACf,qBAAO,gDAAG,IAAH,CAAP;AACD,aAFD,CAFF,EAKE7kC,SALF,CAKY,KAAK4D,KALjB;AAMD;;;iBAEM,SAAAygB,KAAK;AACV,iBAAKinB,YAAL,CAAkBjnB,KAAlB;AACD;;;;;;;;cAvCUgnB,c;AAAc;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAdA,c;AAAc,oBAFb;;;;;;;cAEDA,c;AAAc;gBAH1B,wDAG0B;iBAHf;AACVxsC,sBAAU,EAAE;AADF,W;AAGe,U;;;;;;;;;;;;;;;;;;;;;;;;;ACd3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAaA,UAAM2K,mBAAmB,GAAG,UAA5B;;UAKamiC,e;AACX,iCACqBjiC,UADrB,EAEqBC,KAFrB,EAEiC;AAAA;;AAAA;;AAE/B,wDAAMD,UAAN,EAAkBF,mBAAlB,EAAuCG,KAAvC;AAHmB,mBAAAD,UAAA,GAAAA,UAAA;AACA,mBAAAC,KAAA,GAAAA,KAAA;AAAY;AAGhC;;;;;;iBAEM,SAAAG,UAAU,CAAC3L,EAAD,EAAW;AAAA;;AAC1B,mBAAO,KAAKuL,UAAL,CAAgB+yB,4BAAhB,WAAiDjzB,mBAAjD,cAA0ErL,EAA1E,GAAiF,KAAjF,EACJ0B,IADI,CACC,iEAAU,UAAC+M,GAAD;AAAA,qBAAiB,QAAI,CAAClD,UAAL,CAAgB7D,IAAhB,CAAuC+G,GAAvC,EAA4C,IAA5C,CAAjB;AAAA,aAAV,CADD,CAAP;AAED;;;iBAEM,SAAApI,OAAO;AACZ,mBAAO,KAAKkF,UAAL,CAAgBhE,KAAhB,CAAsC8D,mBAAtC,EAA2D3J,IAA3D,CAAgE,2DAAI,UAAC8D,CAAD;AAAA,qBAAuBA,CAAC,CAACxF,EAAzB;AAAA,aAAJ,CAAhE,CAAP;AACD;;;iBAEM,SAAAytC,KAAK,CAACztC,EAAD,EAAW;AACrB,mBAAO,KAAKuL,UAAL,CAAgBhE,KAAhB,WAA0C8D,mBAA1C,cAAmErL,EAAnE,aAAgF0B,IAAhF,CAAqF,2DAAI,UAAC8D,CAAD;AAAA,qBAAuBA,CAAC,CAACxF,EAAzB;AAAA,aAAJ,CAArF,CAAP;AACD;;;iBAEM,SAAAoM,OAAO,CAACpM,EAAD,EAAW;AACvB,mBAAO,KAAKuL,UAAL,CAAgBa,OAAhB,WAAmCf,mBAAnC,cAA4DrL,EAA5D,EAAP;AACD;;;iBAEM,SAAA2mC,SAAS,CAAC3mC,EAAD,EAAW;AACzB,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WAA6D2D,mBAA7D,cAAsFrL,EAAtF,gBAAsG,IAAtG,CAAP;AACD;;;iBAEM,SAAA0tC,YAAY,CAAC1tC,EAAD,EAAa8C,KAAb,EAA0B;AAC3C,mBAAO,KAAKyI,UAAL,CAAgBW,IAAhB,WAAgCb,mBAAhC,cAAyDrL,EAAzD,aAAsE;AAAE8C,mBAAK,EAALA;AAAF,aAAtE,CAAP;AACD;;;iBAEM,SAAA6qC,cAAc,CAAC3tC,EAAD,EAAa4tC,OAAb,EAAyB;AAC5C,mBAAO,KAAKriC,UAAL,CAAgBW,IAAhB,WAAgCb,mBAAhC,cAAyDrL,EAAzD,eAAwE;AAAE4tC,qBAAO,EAAPA;AAAF,aAAxE,CAAP;AACD;;;iBAEM,SAAAhR,YAAY,CAAC58B,EAAD,EAAaglC,KAAb,EAAwB;AACzC,mBAAO,KAAKz5B,UAAL,CAAgBW,IAAhB,WAAgCb,mBAAhC,cAAyDrL,EAAzD,aAAsE,gGAAeglC,KAAf,CAAtE,CAAP;AACD;;;iBAEM,SAAA6I,UAAU,CAAC7tC,EAAD,EAAaiM,MAAb,EAA2B;AAC1C,mBAAO,KAAKV,UAAL,CAAgBW,IAAhB,WAAgCb,mBAAhC,cAAyDrL,EAAzD,cAAuE;AAAEmN,kBAAI,EAAElB,MAAM,GAAGA,MAAH,GAAY;AAA1B,aAAvE,CAAP;AACD;;;iBAEM,SAAAE,UAAU,CAACnM,EAAD,EAAW;AAC1B,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WAAwC2D,mBAAxC,cAAiErL,EAAjE,cAA+E0B,IAA/E,CAAoF,2DAAI,UAAC8D,CAAD;AAAA,qBAAsBA,CAAC,CAAC2H,IAAxB;AAAA,aAAJ,CAApF,CAAP;AACD;;;iBAEM,SAAA2gC,UAAU,CAAC9tC,EAAD,EAAaiS,MAAb,EAA6B;AAC5C,mBAAO,KAAK1G,UAAL,CAAgBW,IAAhB,WAAgCb,mBAAhC,cAAyDrL,EAAzD,cAAuE;AAAEiS,oBAAM,EAANA;AAAF,aAAvE,CAAP;AACD;;;iBAEM,SAAA87B,QAAQ,CAAC/tC,EAAD,EAAU4d,IAAV,EAAwB;AACrC,mBAAO,KAAKrS,UAAL,CAAgBW,IAAhB,WAAgCb,mBAAhC,cAAyDrL,EAAzD,YAAqE;AAAE4d,kBAAI,EAAJA;AAAF,aAArE,CAAP;AACD;;;iBAEM,SAAAowB,mBAAmB,CAAChuC,EAAD,EAAW;AACnC,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WAAgD2D,mBAAhD,cAAyErL,EAAzE,gBAAyF,IAAzF,CAAP;AACD;;;iBAEM,SAAAwrC,cAAc,CAACxrC,EAAD,EAAakC,OAAb,EAA4B;AAC/C,mBAAO,KAAKqJ,UAAL,CAAgBhE,KAAhB,WAA+C8D,mBAA/C,cAAwErL,EAAxE,gBAAwF;AAAEkC,qBAAO,EAAPA;AAAF,aAAxF,CAAP;AACD;;;iBAEM,SAAAqpC,eAAe,CAACvrC,EAAD,EAAaq6B,MAAb,EAA6Bn4B,OAA7B,EAA4C;AAChE,mBAAO,KAAKqJ,UAAL,CAAgBhE,KAAhB,WAA+C8D,mBAA/C,cAAwErL,EAAxE,uBAAyFq6B,MAAzF,aAA0G;AAAEn4B,qBAAO,EAAPA;AAAF,aAA1G,CAAP;AACD;;;iBAEM,SAAA+rC,IAAI,CAACjuC,EAAD,EAAakuC,IAAb,EAA0B;AACnC,mBAAO,KAAK5hC,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqBmuC,GAA5C,EAAiDD,IAAjD,CAAP;AACD;;;iBAEM,SAAA1hC,QAAQ,CAACxM,EAAD,EAAakuC,IAAb,EAA2B;AACxC,mBAAO,KAAK5hC,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqByM,OAA5C,EAAqDyhC,IAArD,CAAP;AACD;;;iBAEM,SAAAE,QAAQ,CAACpuC,EAAD,EAAkC;AAAA,gBAArBkuC,IAAqB,uEAAL,KAAK;AAC/C,mBAAO,KAAK5hC,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqBquC,OAA5C,EAAqDH,IAArD,CAAP;AACD;;;iBAEM,SAAAI,MAAM,CAACtuC,EAAD,EAAkC;AAAA,gBAArBkuC,IAAqB,uEAAL,KAAK;AAC7C,mBAAO,KAAK5hC,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqBuuC,KAA5C,EAAmDL,IAAnD,CAAP;AACD;;;iBAEM,SAAA7hC,OAAO,CAACrM,EAAD,EAAkC;AAAA,gBAArBkuC,IAAqB,uEAAL,KAAK;AAC9C,mBAAO,KAAK5hC,aAAL,CAAmBtM,EAAnB,EAAuB,sGAAqBuM,MAA5C,EAAoD2hC,IAApD,CAAP;AACD;;QAvFkC,qF;;;;;;cAAxBV,e;AAAe;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAfA,e;AAAe,oBAFd;;;;;;;cAEDA,e;AAAe;gBAH3B,wDAG2B;iBAHhB;AACV9sC,sBAAU,EAAE;AADF,W;AAGgB,U;;;;;;;;;;;;;;;;;;;;;;;;;AClB5B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAEa8tC,a;AAGT,iCAA4C;AAAA,cAAxBC,SAAwB,uEAAJ,EAAI;;AAAA;;AAAxB,eAAAA,SAAA,GAAAA,SAAA;AAFJ,eAAAtb,OAAA,GAA0B,IAAI,4CAAJ,EAA1B;AAGZ,eAAKub,iBAAL;AACH;;;;iBAEO,SAAAA,iBAAiB;AAAA;;AACrB,mEAAUxvB,MAAV,EAAkB,QAAlB,EAA4Brd,SAA5B,CAAsC;AAAA,qBAAM,QAAI,CAAC8sC,aAAL,EAAN;AAAA,aAAtC;AACH;;;iBAEO,SAAAA,aAAa;AACjB,gBAAI5pC,QAAQ,CAACwM,IAAT,CAAcq9B,YAAd,GAA6B1vB,MAAM,CAAC+X,WAApC,GAAkD/X,MAAM,CAAC2vB,WAAzD,IAAwE,KAAKJ,SAAjF,EAA4F;AACxF,mBAAKtb,OAAL,CAAahzB,IAAb;AACH;AACJ;;;;;;;;;;;;;;;;;;;ACjBL;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAsBa2uC,0B;AAgCX,4CACkBzrC,mBADlB,EAEmBgX,cAFnB,EAGmBqD,eAHnB,EAImBva,MAJnB,EAKmB0J,gBALnB,EAMmByC,GANnB,EAMyC;AAAA;;AAAA;;AAEvC;AAPgB,mBAAAjM,mBAAA,GAAAA,mBAAA;AACC,mBAAAgX,cAAA,GAAAA,cAAA;AACA,mBAAAqD,eAAA,GAAAA,eAAA;AACA,mBAAAva,MAAA,GAAAA,MAAA;AACA,mBAAA0J,gBAAA,GAAAA,gBAAA;AACA,mBAAAyC,GAAA,GAAAA,GAAA;AArCO,mBAAAxC,IAAA,GAAmC,IAAI,0DAAJ,EAAnC;AACA,mBAAAiiC,cAAA,GAAuD,IAAI,0DAAJ,EAAvD;AACA,mBAAAC,MAAA,GAAmD,IAAI,0DAAJ,EAAnD;AACA,mBAAAC,WAAA,GAA0C,IAAI,0DAAJ,EAA1C;AAqBV,mBAAAjiC,oBAAA,GAAoD,gGAApD;AAET,mBAAAkiC,EAAA,GAAK,KAAL;AACA,mBAAArlC,OAAA,GAAU,KAAV;AAUkC;AAGxC;;;;;;eAxBD,eAAe;AACb,mBAAO,KAAKqqB,KAAZ;AACD,W;eATD,aAAyB/mB,IAAzB,EAA6C;AAC3C,iBAAK+mB,KAAL,GAAa/mB,IAAb;AACA,iBAAKgiC,QAAL,GAAgBhiC,IAAI,CAACK,MAArB;AACA,iBAAK4hC,gBAAL,GAAwBjiC,IAAI,CAACkiC,UAAL,WAAxB;AACA,iBAAKC,aAAL,GAAqBniC,IAAI,CAACqS,SAAL,CAAejE,GAApC;AACA,iBAAK2zB,EAAL,GAAU,KAAK70B,cAAL,CAAoBxO,MAApB,IAA8BsB,IAA9B,IAAsCA,IAAI,CAAC6oB,MAAL,CAAYvzB,IAAZ,CAAiBzC,EAAjB,KAAwB,KAAKqa,cAAL,CAAoBxO,MAA5F;AACD;;;iBA2BD,SAAA1K,QAAQ;AAAA;;AACN,iBAAKkZ,cAAL,CAAoB5U,KAApB,CAA0B/D,IAA1B,CAA+B,iEAAU,KAAKE,YAAf,CAA/B,EAA6DC,SAA7D,CAAuE,UAACyH,IAAD,EAAyB;AAC9F,sBAAI,CAAC4lC,EAAL,GAAU5lC,IAAI,IAAI,QAAI,CAAC4qB,KAAb,IAAsB5qB,IAAI,CAAC7G,IAAL,CAAUzC,EAAV,KAAiB,QAAI,CAACk0B,KAAL,CAAW8B,MAAX,CAAkBvzB,IAAlB,CAAuBzC,EAAxE;AACA,sBAAI,CAAC6J,OAAL,GAAeP,IAAI,CAAChH,IAAL,CAAUuH,OAAV,CAAkBC,SAAjC;AACD,aAHD;AAID;;;iBAEM,SAAAylC,QAAQ;AAAA;;AACb,gBAAI,KAAKhV,QAAT,EAAmB;AACjB,mBAAK7c,eAAL,CAAqB+B,SAArB,CAA+B,KAAKtS,IAAL,CAAU1K,IAAV,CAAezC,EAA9C,EAAkD,KAAKmN,IAAL,CAAUqS,SAAV,CAAoBjE,GAAtE,EAA2E7Z,IAA3E,CAAgF,iEAAU,KAAKE,YAAf,CAAhF,EAA8GC,SAA9G,CAAwH,YAAM;AAC5H,wBAAI,CAACytC,aAAL,GAAqB,CAAC,QAAI,CAACA,aAA3B;;AACA,wBAAI,CAAChgC,GAAL,CAASkY,YAAT;;AACA,oBAAI,QAAI,CAAC8nB,aAAT,EAAwB;AACtB,0BAAI,CAACniC,IAAL,CAAUqS,SAAV,CAAoBxK,KAApB;AACD,iBAFD,MAEO;AACL,0BAAI,CAAC7H,IAAL,CAAUqS,SAAV,CAAoBxK,KAApB;;AACA,0BAAI,CAAC+5B,cAAL,CAAoB5uC,IAApB,CAAyB,CAAC,QAAI,CAACgN,IAAN,EAAY,SAAZ,CAAzB;AACD;;AACD,wBAAI,CAACA,IAAL,CAAUqS,SAAV,CAAoBjE,GAApB,GAA0B,CAAC,QAAI,CAACpO,IAAL,CAAUqS,SAAV,CAAoBjE,GAA/C;AACD,eAVD;AAWD,aAZD,MAYO;AACL,mBAAKlY,mBAAL,CAAyByB,eAAzB,CAAyC,IAAzC;AACD;AACF;;;iBAEM,SAAAwI,IAAI;AAAA;;AACT,iBAAKoQ,eAAL,CAAqBnQ,KAArB,CAA2B,KAAKJ,IAAL,CAAU1K,IAAV,CAAezC,EAA1C,EAA8C,KAAKmN,IAAL,CAAUK,MAAxD,EAAgE9L,IAAhE,CAAqE,iEAAU,KAAKE,YAAf,CAArE,EAAmGC,SAAnG,CAA6G,YAAM;AACjH,sBAAI,CAACstC,QAAL,GAAgB,CAAC,QAAI,CAACA,QAAtB;;AACA,kBAAI,QAAI,CAACA,QAAT,EAAmB;AACjB,wBAAI,CAACriC,IAAL,CAAU3M,IAAV,CAAe,QAAI,CAACgN,IAApB;AACD;AACF,aALD;AAMD;;;iBAEM,SAAAC,QAAQ;AAAA;;AACb,iBAAKsQ,eAAL,CAAqBrQ,SAArB,CAA+B,KAAKF,IAAL,CAAU1K,IAAV,CAAezC,EAA9C,EAAkD0B,IAAlD,CACE,iEAAU,UAACjB,OAAD;AAAA,qBAA6B,QAAI,CAACoM,gBAAL,CAAsBrM,SAAtB,CAAgCC,OAAhC,CAA7B;AAAA,aAAV,CADF,EAEE,iEAAU,KAAKmB,YAAf,CAFF,EAGEC,SAHF;AAID;;;iBAEM,SAAA2tC,GAAG,CAACC,EAAD,EAAY;AAAA;;AACpB,iBAAK/xB,eAAL,CAAqBuwB,IAArB,CAA0B,KAAK9gC,IAAL,CAAU1K,IAAV,CAAezC,EAAzC,EAA6C,CAACyvC,EAA9C,EAAkD/tC,IAAlD,CAAuD,iEAAU,KAAKE,YAAf,CAAvD,EAAqFC,SAArF,CAA+F,YAAM;AACnG,sBAAI,CAACsL,IAAL,CAAU6hC,MAAV,GAAmBS,EAAnB;;AACA,sBAAI,CAACT,MAAL,CAAYlmC,IAAZ,CAAiB2mC,EAAE,GAAG,CAAC,QAAI,CAACtiC,IAAN,EAAY,QAAI,CAAC/K,KAAjB,CAAH,GAA6B,IAAhD;AACD,aAHD;AAID;;;iBAEM,SAAAstC,OAAO,CAACt2B,KAAD,EAAe;AAAA;;AAC3B,iBAAKsE,eAAL,CAAqB0wB,QAArB,CAA8B,KAAKjhC,IAAL,CAAU1K,IAAV,CAAezC,EAA7C,EAAiD,CAACoZ,KAAlD,EAAyD1X,IAAzD,CAA8D,iEAAU,KAAKE,YAAf,CAA9D,EAA4FC,SAA5F,CAAsG,YAAM;AAC1G,sBAAI,CAACutC,gBAAL,GAAwB,CAAC,QAAI,CAACA,gBAA9B;AACA,kBAAI,CAAC,QAAI,CAACA,gBAAV,EAA4B,QAAI,CAACH,WAAL,CAAiB9uC,IAAjB,CAAsB,QAAI,CAACgN,IAA3B;;AAC5B,sBAAI,CAACmC,GAAL,CAASkY,YAAT;AACD,aAJD;AAKD;;;iBAEM,SAAA2S,IAAI;AACT,8DAAK,KAAKh3B,MAAL,CAAYmD,QAAZ,CAAqB,CAAC,OAAD,EAAU,KAAK6G,IAAL,CAAU1K,IAAV,CAAezC,EAAzB,EAA6B,MAA7B,CAArB,CAAL,EAAiE0B,IAAjE,CAAsE,iEAAU,KAAKE,YAAf,CAAtE,EAAoGC,SAApG;AACD;;;iBAEM,SAAA+L,QAAQ;AAAA;;AACb,iBAAK8P,eAAL,CAAqBlR,QAArB,CAA8B,KAAKW,IAAL,CAAU1K,IAAV,CAAezC,EAA7C,EAAiD,IAAjD,EAAuD0B,IAAvD,CAA4D,iEAAU,KAAKE,YAAf,CAA5D,EAA0FC,SAA1F,CAAoG,YAAM;AACxG,sBAAI,CAACiL,IAAL,CAAU3M,IAAV,CAAe,QAAI,CAACgN,IAApB;AACD,aAFD;AAGD;;;iBAEM,SAAAF,OAAM;AAAA;;AACX,iBAAKyQ,eAAL,CAAqBtR,OAArB,CAA6B,KAAKe,IAAL,CAAU1K,IAAV,CAAezC,EAA5C,EAAgD0B,IAAhD,CAAqD,iEAAU,KAAKE,YAAf,CAArD,EAAmFC,SAAnF,CAA6F;AAAA,qBAAM,QAAI,CAACiL,IAAL,CAAUhE,IAAV,CAAe,QAAI,CAACqE,IAApB,CAAN;AAAA,aAA7F;AACD;;;iBAEM,SAAAM,OAAO;AAAA;;AACZ,iBAAKiQ,eAAL,CAAqBlR,QAArB,CAA8B,KAAKW,IAAL,CAAU1K,IAAV,CAAezC,EAA7C,EAAiD0B,IAAjD,CAAsD,iEAAU,KAAKE,YAAf,CAAtD,EAAoFC,SAApF,CAA8F,YAAM;AAClG,sBAAI,CAACiL,IAAL,CAAU3M,IAAV,CAAe,QAAI,CAACgN,IAApB;AACD,aAFD;AAGD;;;iBAEM,SAAAitB,MAAM;AACX,iBAAK1c,eAAL,CAAqBrR,OAArB,CAA6B,KAAKc,IAAL,CAAU1K,IAAV,CAAezC,EAA5C,EAAgD0B,IAAhD,CAAqD,iEAAU,KAAKE,YAAf,CAArD,EAAmFC,SAAnF;AACD;;;iBAEM,SAAA8tC,KAAK,CAACC,KAAD,EAAe;AAAA;;AACzB,iBAAKlyB,eAAL,CAAqB4wB,MAArB,CAA4B,KAAKnhC,IAAL,CAAU1K,IAAV,CAAezC,EAA3C,EAA+C,CAAC4vC,KAAhD,EAAuDluC,IAAvD,CAA4D,iEAAU,KAAKE,YAAf,CAA5D,EAA0FC,SAA1F,CAAoG,YAAM;AACxG,sBAAI,CAACsL,IAAL,CAAUiO,MAAV,CAAiB1N,gBAAjB,GAAoCkiC,KAAK,GAAG,iGAAqBC,OAAxB,GAAkC,iGAAqBhiC,KAAhG;AACD,aAFD;AAGD;;QA/H6C,0F;;;;;;cAAnCihC,0B;AAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAA1BA,0B;AAA0B,2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,6B;AAAA,4D;AAAA,kBCtBvC,kkI;AA0EA,2M;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDpDaA,0B;AAA0B;gBALtC,uDAKsC;iBAL5B;AACT/rC,oBAAQ,EAAE,yBADD;AAETC,uBAAW,EAAE,sCAFJ;AAGTC,qBAAS,EAAE,CAAC,sCAAD;AAHF,W;AAK4B,U;;;;;;;;;;;;;;;;;AACX6J,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE,C;AACNiiC,wBAAc,EAAE,CAAF;kBAAvC;AAAuC,WAAE,C;AAChBC,gBAAM,EAAE,CAAF;kBAA/B;AAA+B,WAAE,C;AACRC,qBAAW,EAAE,CAAF;kBAApC;AAAoC,WAAE,C;AAEvB3lC,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACNixB,kBAAQ,EAAE,CAAF;kBAAvB;AAAuB,WAAE,C;AACVn4B,eAAK,EAAE,CAAF;kBAApB;AAAoB,WAAE,C;AAEH+K,cAAI;kBAAvB;AAAuB;;;;;;;;;;;;;;;;;;;AE/B1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAIO,UAAM2iC,cAAc,GAAW,CACpC;AACEC,YAAI,EAAE,SADR;AAEEC,iBAAS,EAAE,MAFb;AAGEC,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAAmCC,IAAnC,CAAwC,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACC,aAAxB;AAAA,WAAxC,CAAN;AAAA;AAHhB,OADoC,EAMpC;AACEL,YAAI,EAAE,EADR;AAEE1mC,mBAAW,EAAE,CAAC,mEAAD,CAFf;AAGEgnC,gBAAQ,EAAE,CACR;AACEN,cAAI,EAAE,KADR;AAEEC,mBAAS,EAAE,MAFb;AAGEC,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,qBAA+CC,IAA/C,CAAoD,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACG,cAAxB;AAAA,aAApD,CAAN;AAAA;AAHhB,SADQ,EAMR;AACEP,cAAI,EAAE,EADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,qBAA6CC,IAA7C,CAAkD,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACI,cAAxB;AAAA,aAAlD,CAAN;AAAA;AAFhB,SANQ,EAUR;AACER,cAAI,EAAE,EADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,qBAA6DC,IAA7D,CAAkE,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACK,qBAAxB;AAAA,aAAlE,CAAN;AAAA;AAFhB,SAVQ,EAcR;AACET,cAAI,EAAE,MADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,qBAAqCC,IAArC,CAA0C,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACM,UAAxB;AAAA,aAA1C,CAAN;AAAA;AAFhB,SAdQ,EAkBR;AACEV,cAAI,EAAE,MADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,qBAAqCC,IAArC,CAA0C,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACO,UAAxB;AAAA,aAA1C,CAAN;AAAA;AAFhB,SAlBQ,EAsBR;AACEX,cAAI,EAAE,QADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,qBAAyCC,IAAzC,CAA8C,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACQ,YAAxB;AAAA,aAA9C,CAAN;AAAA;AAFhB,SAtBQ,EA0BR;AACEZ,cAAI,EAAE,MADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,qBAAqCC,IAArC,CAA0C,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACS,UAAxB;AAAA,aAA1C,CAAN;AAAA;AAFhB,SA1BQ,EA8BR;AACEb,cAAI,EAAE,QADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,qBAAyCC,IAAzC,CAA8C,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACU,YAAxB;AAAA,aAA9C,CAAN;AAAA;AAFhB,SA9BQ,EAkCR;AACEd,cAAI,EAAE,UADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,sBAAqCC,IAArC,CAA0C,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACW,UAAxB;AAAA,aAA1C,CAAN;AAAA,WAFhB;AAGEznC,qBAAW,EAAE,CAAC,uEAAD,CAHf;AAIE8D,cAAI,EAAE;AAAEw4B,kBAAM,EAAE,CAAC,+DAAD,CAAV;AAAuBC,0BAAc,EAAE;AAAvC;AAJR,SAlCQ,EAwCR;AACEmK,cAAI,EAAE,aADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,sBAAqCC,IAArC,CAA0C,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACW,UAAxB;AAAA,aAA1C,CAAN;AAAA;AAFhB,SAxCQ,EA4CR;AACEf,cAAI,EAAE,YADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,qBAAyCC,IAAzC,CAA8C,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACY,YAAxB;AAAA,aAA9C,CAAN;AAAA;AAFhB,SA5CQ,EAgDR;AACEhB,cAAI,EAAE,WADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,qBAA+CC,IAA/C,CAAoD,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACa,eAAxB;AAAA,aAApD,CAAN;AAAA,WAFhB;AAGE3nC,qBAAW,EAAE,CAAC,uEAAD,CAHf;AAIE8D,cAAI,EAAE;AAAEw4B,kBAAM,EAAE,CAAC,oEAAD,EAAiB,gEAAjB,CAAV;AAAwCC,0BAAc,EAAE,IAAxD;AAA8DJ,4BAAgB,EAAE;AAAhF;AAJR,SAhDQ,EAsDR;AACEuK,cAAI,EAAE,UADR;AAEEE,sBAAY,EAAE,SAAdA,YAAc;AAAA,mBAAM;AAAA;AAAA;AAAA;AAAA,qBAA6CC,IAA7C,CAAkD,UAACC,MAAD;AAAA,qBAAiBA,MAAM,CAACc,cAAxB;AAAA,aAAlD,CAAN;AAAA,WAFhB;AAGE5nC,qBAAW,EAAE,CAAC,uEAAD,CAHf;AAIE8D,cAAI,EAAE;AAAEw4B,kBAAM,EAAE,CAAC,mEAAD,CAAV;AAA2BC,0BAAc,EAAE;AAA3C;AAJR,SAtDQ,EA4DR;AACEmK,cAAI,EAAE,IADR;AAEEmB,oBAAU,EAAE;AAFd,SA5DQ;AAHZ,OANoC,CAA/B;AA6EA,UAAMC,cAAc,GAAW,CACpC;AACEpB,YAAI,EAAE,KADR;AAEEC,iBAAS,EAAE,MAFb;AAGEC,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAA+CC,IAA/C,CAAoD,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACG,cAAxB;AAAA,WAApD,CAAN;AAAA;AAHhB,OADoC,EAMpC;AACEP,YAAI,EAAE,EADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAA6CC,IAA7C,CAAkD,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACI,cAAxB;AAAA,WAAlD,CAAN;AAAA;AAFhB,OANoC,EAUpC;AACER,YAAI,EAAE,EADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAA6DC,IAA7D,CAAkE,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACK,qBAAxB;AAAA,WAAlE,CAAN;AAAA;AAFhB,OAVoC,EAcpC;AACET,YAAI,EAAE,MADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAAqCC,IAArC,CAA0C,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACM,UAAxB;AAAA,WAA1C,CAAN;AAAA;AAFhB,OAdoC,EAkBpC;AACEV,YAAI,EAAE,MADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAAqCC,IAArC,CAA0C,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACO,UAAxB;AAAA,WAA1C,CAAN;AAAA;AAFhB,OAlBoC,EAsBpC;AACEX,YAAI,EAAE,QADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAAyCC,IAAzC,CAA8C,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACQ,YAAxB;AAAA,WAA9C,CAAN;AAAA;AAFhB,OAtBoC,EA0BpC;AACEZ,YAAI,EAAE,MADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAAqCC,IAArC,CAA0C,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACS,UAAxB;AAAA,WAA1C,CAAN;AAAA;AAFhB,OA1BoC,EA+BpC;AACEb,YAAI,EAAE,QADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAAyCC,IAAzC,CAA8C,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACU,YAAxB;AAAA,WAA9C,CAAN;AAAA;AAFhB,OA/BoC,EAmCpC;AACEd,YAAI,EAAE,UADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,oBAAqCC,IAArC,CAA0C,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACW,UAAxB;AAAA,WAA1C,CAAN;AAAA,SAFhB;AAGEznC,mBAAW,EAAE,CAAC,uEAAD,CAHf;AAIE8D,YAAI,EAAE;AAAEw4B,gBAAM,EAAE,CAAC,+DAAD,CAAV;AAAuBC,wBAAc,EAAE;AAAvC;AAJR,OAnCoC,EAyCpC;AACEmK,YAAI,EAAE,aADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,oBAAqCC,IAArC,CAA0C,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACW,UAAxB;AAAA,WAA1C,CAAN;AAAA;AAFhB,OAzCoC,EA6CpC;AACEf,YAAI,EAAE,YADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAAyCC,IAAzC,CAA8C,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACY,YAAxB;AAAA,WAA9C,CAAN;AAAA;AAFhB,OA7CoC,EAiDpC;AACEhB,YAAI,EAAE,WADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAA+CC,IAA/C,CAAoD,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACa,eAAxB;AAAA,WAApD,CAAN;AAAA,SAFhB;AAGE3nC,mBAAW,EAAE,CAAC,uEAAD,CAHf;AAIE8D,YAAI,EAAE;AAAEw4B,gBAAM,EAAE,CAAC,oEAAD,EAAiB,gEAAjB,CAAV;AAAwCC,wBAAc,EAAE,IAAxD;AAA8DJ,0BAAgB,EAAE;AAAhF;AAJR,OAjDoC,EAuDpC;AACEuK,YAAI,EAAE,UADR;AAEEE,oBAAY,EAAE,SAAdA,YAAc;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA,mBAA6CC,IAA7C,CAAkD,UAACC,MAAD;AAAA,mBAAiBA,MAAM,CAACc,cAAxB;AAAA,WAAlD,CAAN;AAAA,SAFhB;AAGE5nC,mBAAW,EAAE,CAAC,uEAAD,CAHf;AAIE8D,YAAI,EAAE;AAAEw4B,gBAAM,EAAE,CAAC,mEAAD,CAAV;AAA2BC,wBAAc,EAAE;AAA3C;AAJR,OAvDoC,EA6DpC;AACEmK,YAAI,EAAE,IADR;AAEEmB,kBAAU,EAAE;AAFd,OA7DoC,CAA/B;;;;;;;;;;;;;;;;AClFP;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAWaE,Y;AACX,8BAA6B9tC,OAA7B,EAAuEwN,MAAvE,EAA6F;AAAA;;AAAhE,eAAAxN,OAAA,GAAAA,OAAA;AAA0C,eAAAwN,MAAA,GAAAA,MAAA;AAAwB;;;;iBAExF,SAAAD,MAAM,CAACC,MAAD,EAAmB;AAC9B,iBAAKA,MAAL,CAAYsa,IAAZ,CAAiBta,MAAjB;AACA,mBAAO,KAAKxN,OAAL,CAAamC,KAAb,CAAmB/D,IAAnB,CAAwB,4DAAK,CAAL,CAAxB,EAAiC,8DAAjC,CAAP;AACD;;;;;;;;cANU0vC,Y;AAAY;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAZA,Y;AAAY,oBAFX;;;;;;;cAEDA,Y;AAAY;gBAHxB,wDAGwB;iBAHb;AACV1wC,sBAAU,EAAE;AADF,W;AAGa,U;;;;;;;;;;;;;;;;;;;;;;;;;ACXzB;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAY2wC,cAAZ;;AAAA,iBAAYA,cAAZ,EAA0B;AACtB;AACA;AACA;AACA;AACA;AACH,OAND,EAAYA,cAAc,KAAdA,cAAc,MAA1B;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMaC,c;;;;;;;iBACX,SAAA1nC,SAAS,CAACxJ,KAAD,EAA2F;AAClG,gBAAIa,MAAJ;;AACA,gBAAIb,KAAK,CAACyJ,OAAN,IAAiBzJ,KAAK,CAACyJ,OAAN,CAAcC,SAA/B,IAA4C1J,KAAK,CAACyJ,OAAN,CAAcE,SAA9D,EAAyE;AACvE9I,oBAAM,GAAGb,KAAK,CAACyJ,OAAN,CAActH,IAAd,aAAyBnC,KAAK,CAACyJ,OAAN,CAActH,IAAvC,IAAiD,EAA1D;AACD,aAFD,MAEO;AACLtB,oBAAM,aAAOb,KAAK,CAAC4J,SAAb,cAA4B5J,KAAK,CAAC6J,QAAlC,CAAN;AACD;;AACD,mBAAOhJ,MAAP;AACD;;;;;;;;cATUqwC,c;AAAc,gB;AAAA;;;;;;cAAdA,c;AAAc;;;;;;;cAAdA,c;AAAc;gBAH1B,kDAG0B;iBAHrB;AACJ/uC,gBAAI,EAAE;AADF,W;AAGqB;;;;;;;;;;;;;;;;;;ACN3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA,c,CAWA;;;UACagvC,O;AAGX,yBAA6B5rB,UAA7B,EAAuE;AAAA;;AAA1C,eAAAA,UAAA,GAAAA,UAAA;AAFb,eAAA6rB,UAAA,GAAgC,4EAAkBC,OAAlD;AAEyD;;;;iBAEzE,SAAAC,kBAAkB;AAChB,iBAAKC,kBAAL;AACD;;;iBAEO,SAAAA,kBAAkB;AACxB,iBAAKhsB,UAAL,CAAgBxgB,aAAhB,CAA8B8lC,SAA9B,CAAwCvY,GAAxC,oBAAwD,KAAK8e,UAA7D;AACD;;;;;;;;cAXUD,O;AAAO;AAAA;AAAA,U;AAAA;;;;;cAAPA,O;AAAO,kC;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cAAPA,O;AAAO;gBARnB,uDAQmB;iBART;AACT;AACAxuC,oBAAQ,EAAE,gBAFD;AAGT6uC,gBAAI,EAAE;AACJ,uBAAO;AADH;AAHG,W;AAQS,U;;;;;;;AACFJ,oBAAU,EAAE,CAAF;kBAAzB;AAAyB,WAAE;;;;;;;;;;;;;;;;;;;ACb9B;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYK,kBAAZ;;AAAA,iBAAYA,kBAAZ,EAA8B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACH,OARD,EAAYA,kBAAkB,KAAlBA,kBAAkB,MAA9B;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAMaC,c;;;;;;;iBACX,SAAAloC,SAAS,CAACxJ,KAAD,EAAuB4D,GAAvB,EAAmC;AAC1C,gBAAM/C,MAAM,GAAU,CAACb,KAAK,CAACkC,IAAN,CAAWuH,OAAX,CAAmBC,SAAnB,GAA+B,UAA/B,GAA4C,OAA7C,EAAsD1J,KAAK,CAACkC,IAAN,CAAWwI,QAAX,GAAsB1K,KAAK,CAACkC,IAAN,CAAWwI,QAAjC,GAA4C1K,KAAK,CAACqC,IAAN,CAAWzC,EAA7G,CAAtB;;AACA,gBAAIgE,GAAJ,EAAS;AACP/C,oBAAM,CAACgB,IAAP,CAAY+B,GAAZ;AACD;;AACD,mBAAO/C,MAAP;AACD;;;;;;;;cAPU6wC,c;AAAc,gB;AAAA;;;;;;cAAdA,c;AAAc;;;;;;;cAAdA,c;AAAc;gBAH1B,kDAG0B;iBAHrB;AACJvvC,gBAAI,EAAE;AADF,W;AAGqB;;;;;;;;;;;;;;;;;;ACN3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAeawvC,e;AAKX,iCACmB5uC,MADnB,EAEmBQ,eAFnB,EAGkB8wB,eAHlB,EAGkD;AAAA;;AAAA;;AAEhD;AAJiB,mBAAAtxB,MAAA,GAAAA,MAAA;AACA,mBAAAQ,eAAA,GAAAA,eAAA;AACD,mBAAA8wB,eAAA,GAAAA,eAAA;AALF,mBAAAyR,eAAA,GAA0C,4FAA1C;AAKkC;AAGjD;;;;;;iBAED,SAAA/kC,QAAQ;AACN,gBAAI,KAAKwC,eAAL,CAAqBS,SAAzB,EAAoC;AAClC,mBAAKjB,MAAL,CAAYoC,MAAZ,CAAmB7D,IAAnB,CAAwB,8DAAO,UAACuD,KAAD;AAAA,uBAAwBA,KAAK,YAAY,6DAAzC;AAAA,eAAP,CAAxB,EACGvD,IADH,CACQ,iEAAU,KAAKE,YAAf,CADR,EAEGC,SAFH,CAEa;AAAA,uBACTqd,MAAM,CAAC8yB,QAAP,CAAgB,CAAhB,EAAmB,CAAnB,CADS;AAAA,eAFb;AAIA,mBAAKvd,eAAL,CAAqBvU,OAArB,GAA+B,KAAKA,OAApC;AAEA,kBAAM+xB,mBAAmB,GAAY,CAAC,CAACjnB,YAAY,CAACC,OAAb,CAAqB,yFAAoByK,cAAzC,CAAvC;;AAEA,kBAAI,CAACuc,mBAAL,EAA0B;AACxBjnB,4BAAY,CAACK,OAAb,CAAqB,yFAAoBqK,cAAzC,EAAyD,OAAzD;AACD;AACF;AACF;;QA3BkC,0F;;;;;;cAAxBqc,e;AAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAfA,e;AAAe,8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,6B;AAAA,4D;AAAA,kBCf5B,wrB;AAsBA,4w2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;cDPaA,e;AAAe;gBAL3B,uDAK2B;iBALjB;AACThvC,oBAAQ,EAAE,YADD;AAETC,uBAAW,EAAE,yBAFJ;AAGTC,qBAAS,EAAE,CAAC,yBAAD;AAHF,W;AAKiB,U;;;;;;;;;;;AACwBid,iBAAO,EAAE,CAAF;kBAAxD,uDAAwD;mBAA9C,Y,EAAc;AAAE,wBAAQ;AAAV,a;AAAgC,WAAE;;;;;;;;;;;;;;;;;;;AEhB7D;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UASagyB,e;AANb;AAAA;;AAO4B,eAAAxyB,IAAA,GAAiC,IAAI,0DAAJ,EAAjC;AASV,eAAA3X,QAAA,GAAW,KAAX;AAUjB;;;;eARC,aAA0B8H,KAA1B,EAA4C;AAC1C,iBAAKsiC,gBAAL,GAAwBtiC,KAAK,KAAK,6DAAe+U,OAAjD;AACA,iBAAKwtB,gBAAL,GAAwBviC,KAAK,KAAK,6DAAesF,OAAjD;AACD;;;iBAEM,SAAAk9B,UAAU,CAAC3yB,IAAD,EAAiB;AAChC,iBAAKA,IAAL,CAAU5W,IAAV,CAAe4W,IAAf;AACD;;;;;;;;cAnBUwyB,e;AAAe,gB;AAAA;;;;;cAAfA,e;AAAe,8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCT5B,onC;AAkBA,+8G;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;;cDTaA,e;AAAe;gBAN3B,uDAM2B;iBANjB;AACTnvC,oBAAQ,EAAE,YADD;AAETC,uBAAW,EAAE,yBAFJ;AAGTC,qBAAS,EAAE,CAAC,yBAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMiB,U;;AACAyY,cAAI,EAAE,CAAF;kBAA7B;AAA6B,WAAE,C;AAEKyyB,0BAAgB,EAAE,CAAF;kBAApD,yDAAoD;mBAAxC,e;AAAwC,WAAE,C;AAClBC,0BAAgB,EAAE,CAAF;kBAApD,yDAAoD;mBAAxC,e;AAAwC,WAAE,C;AACjBE,0BAAgB,EAAE,CAAF;kBAArD,yDAAqD;mBAAzC,gB;AAAyC,WAAE,C;AAExC3yB,kBAAQ,EAAE,CAAF;kBAAvB;AAAuB,WAAE,C;AACV9M,YAAE,EAAE,CAAF;kBAAjB;AAAiB,WAAE,C;AACJC,cAAI,EAAE,CAAF;kBAAnB;AAAmB,WAAE,C;AACN/K,kBAAQ;kBAAvB;AAAuB,Y;AAEJ8H,eAAK;kBAAxB;AAAwB;;;;;;;;;;;;;;;;;;;AErB3B;AAAA;;;AAAA;AAAA;AAAA;;AAAO,eAAS0iC,cAAT,CAAwBjkC,IAAxB,EAAkC;AACrC,YAAMkkC,QAAQ,GAAa,IAAIC,QAAJ,EAA3B;AACAD,gBAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBpkC,IAAxB;AACA,eAAOkkC,QAAP;AACH;;;;;;;;;;;;;;;;;ACJD;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,UAAMG,MAAM,GAAW,iDAAYx1B,OAAZ,GAAsB,4DAAtB,GAAuC,4DAA9D;;UAMay1B,gB;;;;;;;;cAAAA,gB;AAAgB,gB;AAAA;;;;;;cAAhBA,gB;AAAgB,+E;AAAA,kBAFjB,4DAEiB;;;;;;cAAhBA,gB;AAAgB,kBAHlB,CAAC,6DAAa5T,OAAb,CAAqB2T,MAArB,EAA6B;AAAEE,gCAAsB,EAAE,QAA1B;AAAoCC,2BAAiB,EAAE,SAAvD;AAAkEC,yBAAe,EAAE;AAAnF,SAA7B,CAAD,CAGkB,EAFjB,4DAEiB;;;;;;;cAAhBH,gB;AAAgB;gBAJ5B,sDAI4B;iBAJnB;AACRzqB,mBAAO,EAAE,CAAC,6DAAa6W,OAAb,CAAqB2T,MAArB,EAA6B;AAAEE,oCAAsB,EAAE,QAA1B;AAAoCC,+BAAiB,EAAE,SAAvD;AAAkEC,6BAAe,EAAE;AAAnF,aAA7B,CAAD,CADD;AAER7qB,mBAAO,EAAE,CAAC,4DAAD;AAFD,W;AAImB;;;;;;;;;;;;;;;;;;ACZ7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAaa8qB,uB;AAYX,yCACmB7vC,MADnB,EAEkB8vC,qBAFlB,EAGkB1vC,UAHlB,EAIkBD,OAJlB,EAIyC;AAAA;;AAAA;;AAEvC;AALiB,mBAAAH,MAAA,GAAAA,MAAA;AACD,mBAAA8vC,qBAAA,GAAAA,qBAAA;AACA,mBAAA1vC,UAAA,GAAAA,UAAA;AACA,mBAAAD,OAAA,GAAAA,OAAA;AAfF,mBAAA4vC,SAAA,GAAoB,SAAK/vC,MAAL,CAAYsL,GAAhC;AAET,mBAAA0kC,WAAA,GAAe,IAAf;AACA,mBAAAC,QAAA,GAAW,IAAX;AAEA,mBAAAC,YAAA,GAAoB;AACzBvjC,gBAAI,EAAE,KADmB;AAEzBwjC,iBAAK,EAAE,KAFkB;AAGzBzwC,mBAAO,EAAE;AAHgB,WAApB;AAUkC;AAGxC;;;;;;iBAED,SAAA1B,QAAQ;AAAA;;AACN,iBAAKgC,MAAL,CAAYoC,MAAZ,CAAmB7D,IAAnB,CACE,8DAAO,UAACuD,KAAD;AAAA,qBAAkBA,KAAK,YAAY,+DAAnC;AAAA,aAAP,CADF,EAEE,iEAAU,KAAKrD,YAAf,CAFF,EAGEC,SAHF,CAGY,YAAM;AAChB,sBAAI,CAACwxC,YAAL,GAAoB;AAClBvjC,oBAAI,EAAE,KADY;AAElBwjC,qBAAK,EAAE,KAFW;AAGlBzwC,uBAAO,EAAE;AAHS,eAApB;AAKD,aATD;AAUD;;;iBAEM,SAAA0wC,MAAM,CAACC,IAAD,EAAkC;AAC7C,mBAAOl7B,MAAM,CAACm7B,MAAP,CAAcD,IAAd,EAAoB9lB,OAApB,CAA4B,IAA5B,MAAsC,CAAC,CAA9C;AACD;;;iBAEM,SAAAgmB,kBAAkB,CAACnxC,IAAD,EAAa;AACpC,gBAAMtB,MAAM,qBAAa,KAAKoyC,YAAlB,CAAZ;;AACA,4CAAmB/6B,MAAM,CAACC,IAAP,CAAYtX,MAAZ,CAAnB,kCAAwC;AAAnC,kBAAMuyC,IAAI,mBAAV;AACHvyC,oBAAM,CAACuyC,IAAD,CAAN,GAAeA,IAAI,KAAKjxC,IAAT,GAAgB,CAACtB,MAAM,CAACuyC,IAAD,CAAvB,GAAgC,KAA/C;AACD;;AACD,iBAAKH,YAAL,GAAoBpyC,MAApB;AACD;;;iBAEM,SAAA0yC,iBAAiB;AACtB,gBAAM1yC,MAAM,qBAAa,KAAKoyC,YAAlB,CAAZ;;AACA,8CAAmB/6B,MAAM,CAACC,IAAP,CAAYtX,MAAZ,CAAnB,qCAAwC;AAAnC,kBAAMuyC,IAAI,qBAAV;AACHvyC,oBAAM,CAACuyC,IAAD,CAAN,GAAe,KAAf;AACD;;AACD,iBAAKH,YAAL,GAAoBpyC,MAApB;AACD;;;iBAEM,SAAAub,SAAS;AACdzX,oBAAQ,CAACwM,IAAT,CAAciL,SAAd,GAA0BzX,QAAQ,CAAC0X,eAAT,CAAyBD,SAAzB,GAAqC,CAA/D;AACD;;QAxD0C,0F;;;;;;cAAhCw2B,uB;AAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAvBA,uB;AAAuB,uC;AAAA,6B;AAAA,4D;AAAA,kBCbpC,u0M;AAuHA,09zC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;cD1GaA,uB;AAAuB;gBALnC,uDAKmC;iBALzB;AACTjwC,oBAAQ,EAAE,qBADD;AAETC,uBAAW,EAAE,kCAFJ;AAGTC,qBAAS,EAAE,CAAC,kCAAD;AAHF,W;AAKyB,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEbpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAWA,UAAMoI,mBAAmB,GAAG,WAA5B;;UAKauoC,gB;AACX,kCAA6BroC,UAA7B,EAAsEsoC,WAAtE,EAA6G;AAAA;;AAAhF,eAAAtoC,UAAA,GAAAA,UAAA;AAAyC,eAAAsoC,WAAA,GAAAA,WAAA;AAAyC;;;;iBAExG,SAAAnsC,IAAI,GAAgC;AAAA,gBAA/B+D,IAA+B,uEAAhB,CAAgB;AAAA,gBAAbqoC,GAAa;AACzC,mBAAO,KAAKvoC,UAAL,CAAgB7D,IAAhB,CAAmD2D,mBAAnD,EAAwE,CAACyoC,GAAzE,EAA8E;AAAEroC,kBAAI,EAAJA,IAAF;AAAQqoC,iBAAG,EAAHA;AAAR,aAA9E,CAAP;AACD;;;iBAEM,SAAAnoC,UAAU,CAAC3L,EAAD,EAAW;AAC1B,mBAAO,KAAKuL,UAAL,CAAgB7D,IAAhB,WAAwC2D,mBAAxC,cAAiErL,EAAjE,EAAP;AACD;;;iBAEM,SAAAwuB,UAAU,CAACxuB,EAAD,EAAW;AAC1B,mBAAO,KAAKuL,UAAL,CAAgBhE,KAAhB,WAAiC8D,mBAAjC,cAA0DrL,EAA1D,WAAP;AACD;;;iBAEM,SAAAqG,OAAO;AACZ,mBAAO,KAAKkF,UAAL,CAAgBhE,KAAhB,CAAsC8D,mBAAtC,CAAP;AACD,W,CAED;;;;iBAEO,SAAAuxB,YAAY,CAAC58B,EAAD,EAAa0C,KAAb,EAAwB;AACzC,mBAAO,KAAK6I,UAAL,CAAgBW,IAAhB,WAA+Cb,mBAA/C,cAAwErL,EAAxE,aAAqF,gGAAe0C,KAAf,CAArF,CAAP;AACD;;;iBAEM,SAAAoJ,MAAM,CAAC9L,EAAD,EAAa+L,KAAb,EAAkC;AAC7C,mBAAO,KAAKR,UAAL,CAAgBO,MAAhB,WAA0CT,mBAA1C,cAAmErL,EAAnE,GAA0E+L,KAA1E,CAAP;AACD;;;iBAEM,SAAAK,OAAO,CAACpM,EAAD,EAAW;AACvB,mBAAO,KAAKuL,UAAL,CAAgBa,OAAhB,WAAmCf,mBAAnC,cAA4DrL,EAA5D,EAAP;AACD;;;iBAEM,SAAAwM,QAAQ,CAACxM,EAAD,EAAW;AACxB,mBAAO,KAAKuL,UAAL,CAAgBhE,KAAhB,WAAiC8D,mBAAjC,cAA0DrL,EAA1D,cAAP;AACD;;;iBAEM,SAAA0M,SAAS,CAAC1M,EAAD,EAAW;AACzB,mBAAO,KAAKuL,UAAL,CAAgBa,OAAhB,WAAmCf,mBAAnC,cAA4DrL,EAA5D,cAAP;AACD,W,CAED;;;;iBAEO,SAAAQ,SAAS,CAACC,OAAD,EAAwB;AACtC,iBAAKozC,WAAL,CAAiBvzC,KAAjB,CAAuBG,OAAO,CAACT,EAA/B;AACA,iBAAK6zC,WAAL,CAAiB3zC,MAAjB;AACA,mBAAO,gDAAG,IAAH,CAAP;AACD;;;;;;;;cA/CU0zC,gB;AAAgB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAhBA,gB;AAAgB,oBAFf;;;;;;;cAEDA,gB;AAAgB;gBAH5B,wDAG4B;iBAHjB;AACVlzC,sBAAU,EAAE;AADF,W;AAGiB,U;;;;;;;;;;;;;;;;;;;;;;;;;AChB7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAWaqzC,wB;AACX,0CAA6BC,sBAA7B,EAA8FlxC,KAA9F,EAA6HL,IAA7H,EAAyI;AAAA;;AAAA;;AACvI;AAD2B,mBAAAuxC,sBAAA,GAAAA,sBAAA;AAAiE,mBAAAlxC,KAAA,GAAAA,KAAA;AAA+B,mBAAAL,IAAA,GAAAA,IAAA;AAAY;AAExI;;;;;;iBAED,SAAAtB,QAAQ;AAAA;;AACN,iBAAK6yC,sBAAL,CAA4BC,SAA5B,CAAsCvyC,IAAtC,CACE,8DAAO,UAACwyC,QAAD;AAAA,qBAAyB,CAAC,CAACA,QAA3B;AAAA,aAAP,CADF,EAEE,2DAAI,UAACA,QAAD;AAAA,qBAAyB,QAAI,CAACC,OAAL,CAAaD,QAAb,CAAzB;AAAA,aAAJ,CAFF,EAGE,iEAAU,KAAKtyC,YAAf,CAHF,EAIEC,SAJF;AAKD;;;iBAEO,SAAAsyC,OAAO,CAAChnC,IAAD,EAAgB;AAAA;;AAC7B,iBAAKrK,KAAL,CAAWsxC,QAAX,CAAoBjnC,IAAI,CAACrK,KAAzB;AACAqK,gBAAI,CAACyQ,IAAL,CAAUnJ,OAAV,CAAkB,UAAC+uB,GAAD,EAAyB;AACzC,sBAAI,CAAC/gC,IAAL,CAAU4xC,SAAV,CAAoB7Q,GAApB;AACD,aAFD;AAGD;;QAlB2C,0F;;;;;;cAAjCuQ,wB;AAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAxBA,wB;AAAwB,yC;AAAA,6B;AAAA,4D;AAAA,kBAFzB,E;AAAE;;;;;;;cAEDA,wB;AAAwB;gBAJpC,uDAIoC;iBAJ1B;AACThxC,oBAAQ,EAAE,uBADD;AAET0Q,oBAAQ,EAAE;AAFD,W;AAI0B,U;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgB9B,UAAM6gC,sBAAsB,GAAG,IAAI,sDAAJ,CAAgC,WAAhC,CAA/B;;UAOMC,cAAc;AACzB,gCACmB/2B,aADnB,EAEmByO,YAFnB,EAGmBuoB,gBAHnB,EAImBn6B,cAJnB,EAKmBzN,aALnB,EAMmByQ,WANnB,EAOmBvc,WAPnB,EAO2C;AAAA;;AANxB,eAAA0c,aAAA,GAAAA,aAAA;AACA,eAAAyO,YAAA,GAAAA,YAAA;AACA,eAAAuoB,gBAAA,GAAAA,gBAAA;AACA,eAAAn6B,cAAA,GAAAA,cAAA;AACA,eAAAzN,aAAA,GAAAA,aAAA;AACA,eAAAyQ,WAAA,GAAAA,WAAA;AACA,eAAAvc,WAAA,GAAAA,WAAA;AACf;;AATqB;AAAA;AAAA,iBAYlB,SAAA2zC,eAAe,CAACC,GAAD,EAAqCzY,MAArC,EAA0D;AAC9E,gBAAM7iB,KAAK,GAAGs7B,GAAG,CAACC,QAAJ,EAAd;AACA,gBAAMC,QAAQ,GAAG,MAAH,OAAG,CAAH,EAAG,EAAKx7B,KAAL,CAAjB;AACAw7B,oBAAQ,CAAC3Y,MAAM,CAACzO,QAAR,CAAR,IAA6ByO,MAAM,CAAC1O,SAApC;AACAmnB,eAAG,CAACG,QAAJ,CAAaD,QAAb;AACD;AAjBwB;AAAA;AAAA,iBAoBlB,SAAAE,cAAc,CAACJ,GAAD,EAAqCzY,MAArC,EAA2D;AAC9E,oBAAQA,MAAM,CAACzO,QAAf;AACE,mBAAK,oFAAmBunB,MAAxB;AACE,uBAAO,KAAKv3B,aAAL,CAAmB9V,IAAnB,CAAwB,CAAxB,EAA2B;AAAE1D,qBAAG,EAAE;AAAP,iBAA3B,EAA0CtC,IAA1C,CAA+C,2DAAI,UAAC8M,QAAD,EAAyC;AACjG,sBAAM4K,KAAK,GAAGs7B,GAAG,CAACC,QAAJ,EAAd;AACAD,qBAAG,CAACG,QAAJ,CAAa,MAAD,OAAC,CAAD,kBACPz7B,KADO,CAAC,EACH;AACRnH,0BAAM,EAAEzD,QAAQ,CAACxM;AADT,mBADG,CAAb;AAID,iBANqD,CAA/C,CAAP;;AAOF,mBAAK,oFAAmBgzC,OAAxB;AACE,uBAAO,KAAK/oB,YAAL,CAAkBvkB,IAAlB,CAAuB,CAAvB,EAA0B;AAAE1D,qBAAG,EAAE,IAAP;AAAayiC,wBAAM,EAAE,2EAAWwO;AAAhC,iBAA1B,EAAiEvzC,IAAjE,CAAsE,2DAAI,UAAC8M,QAAD,EAAwC;AACvH,sBAAM4K,KAAK,GAAGs7B,GAAG,CAACC,QAAJ,EAAd;AACAD,qBAAG,CAACG,QAAJ,CAAa,MAAD,OAAC,CAAD,kBACPz7B,KADO,CAAC,EACH;AACRlH,2BAAO,EAAE1D,QAAQ,CAACxM;AADV,mBADG,CAAb;AAID,iBAN4E,CAAtE,CAAP;;AAOF,mBAAK,oFAAmBkzC,SAAxB;AACE,uBAAO,KAAKV,gBAAL,CAAsB9sC,IAAtB,CAA2B,CAA3B,EAA8B;AAAE1D,qBAAG,EAAE;AAAP,iBAA9B,EAA6CtC,IAA7C,CAAkD,2DAAI,UAAC8M,QAAD,EAA2C;AACtG,sBAAM4K,KAAK,GAAGs7B,GAAG,CAACC,QAAJ,EAAd;AACAD,qBAAG,CAACG,QAAJ,CAAa,MAAD,OAAC,CAAD,kBACPz7B,KADO,CAAC,EACH;AACRjH,6BAAS,EAAE3D,QAAQ,CAACxM;AADZ,mBADG,CAAb;AAID,iBANwD,CAAlD,CAAP;;AAOF,mBAAK,oFAAmBq5B,QAAxB;AACE,uBAAO,2DAAc,CACnB,KAAKv6B,WAAL,CAAiB4K,MAAjB,CAAwB;AAAE6jC,0BAAQ,EAAE,IAAZ;AAAkB4F,4BAAU,EAAE,KAAK96B,cAAL,CAAoBxO;AAAlD,iBAAxB,CADmB,EAEnB,KAAKe,aAAL,CAAmBhB,cAAnB,CAAkC,KAAKyO,cAAL,CAAoBxO,MAAtD,EAA8D,CAA9D,CAFmB,EAGnB,KAAKwR,WAAL,CAAiBzR,cAAjB,CAAgC,KAAKyO,cAAL,CAAoBxO,MAApD,EAA4D,CAA5D,CAHmB,CAAd,EAIJnK,IAJI,CAKL,2DAAI;AAAA;AAAA,sBAAE0zC,QAAF;AAAA,sBAAY7vC,MAAZ;AAAA,sBAAoB8vC,IAApB;;AAAA,yBACFD,QAAQ,GAAG7vC,MAAM,CAACvD,KAAlB,GAA0BqzC,IAAI,CAACrzC,KAD7B;AAAA,iBAAJ,CALK,EAOL,2DAAI,UAACgT,KAAD,EAAmB;AACrB,sBAAMoE,KAAK,GAAGs7B,GAAG,CAACC,QAAJ,EAAd;AACAD,qBAAG,CAACG,QAAJ,CAAa,MAAD,OAAC,CAAD,kBACPz7B,KADO,CAAC,EACH;AACRhH,4BAAQ,EAAE4C;AADF,mBADG,CAAb;AAID,iBAND,CAPK,CAAP;;AAeF,mBAAK,oFAAmBsgC,KAAxB;AACE,uBAAO,KAAKrpB,YAAL,CAAkBtgB,UAAlB,CAA6B,KAAK0O,cAAL,CAAoBxO,MAAjD,EAAyDnK,IAAzD,CACL,2DAAI,UAAC4H,IAAD;AAAA,yBAAyBA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,GAAI,MAAJ,GAAAA,IAAI,CAAEwL,SAA/B;AAAA,iBAAJ,CADK,EAEL,2DAAI,UAACE,KAAD,EAAmB;AACrB,sBAAMoE,KAAK,GAAGs7B,GAAG,CAACC,QAAJ,EAAd;AACAD,qBAAG,CAACG,QAAJ,CAAa,MAAD,OAAC,CAAD,kBACPz7B,KADO,CAAC,EACH;AACR/G,yBAAK,EAAE2C;AADC,mBADG,CAAb;AAID,iBAND,CAFK,CAAP;;AAUF,mBAAK,oFAAmBugC,MAAxB;AACE,uBAAO,KAAKz0C,WAAL,CAAiB4K,MAAjB,CAAwB;AAAEsqB,wBAAM,EAAE,KAAK3b,cAAL,CAAoBxO,MAA9B;AAAsCuqB,uBAAK,EAAE,CAAC,iGAAqBvoB,KAAtB;AAA7C,iBAAxB,EAAqGnM,IAArG,CACL,2DAAI,UAACsT,KAAD,EAAmB;AACrB,sBAAMoE,KAAK,GAAGs7B,GAAG,CAACC,QAAJ,EAAd;AACAD,qBAAG,CAACG,QAAJ,CAAa,MAAD,OAAC,CAAD,kBACPz7B,KADO,CAAC,EACH;AACR9G,0BAAM,EAAE0C;AADA,mBADG,CAAb;AAID,iBAND,CADK,CAAP;;AASF,mBAAK,oFAAmB2hB,QAAxB;AACE,uBAAO,KAAK1K,YAAL,CAAkB4a,aAAlB,CAAgC,KAAKxsB,cAAL,CAAoBxO,MAApD,EAA4DnK,IAA5D,CAAiE,2DAAI,UAAC8M,QAAD,EAAsB;AAChG,sBAAM4K,KAAK,GAAGs7B,GAAG,CAACC,QAAJ,EAAd;AACAD,qBAAG,CAACG,QAAJ,CAAa,MAAD,OAAC,CAAD,kBACPz7B,KADO,CAAC,EACH;AACR7G,4BAAQ,EAAE/D;AADF,mBADG,CAAb;AAID,iBANuE,CAAjE,CAAP;AA/DJ;AAuED;AA5FwB;AAAA,S;;;;;;cAAd+lC,c;AAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAdA;;AAYX,gEADC,2DAAO,6EAAP,CACD,G,wBAAA,E,iBAAA,E,IAAA;AAQA,gEADC,2DAAO,8EAAP,CACD,G,wBAAA,E,gBAAA,E,IAAA;AApBWA,oBAAc,6DAL1B,0DAAuB;AACtBhyC,YAAI,EAAE+xC,sBADgB;AAEtBkB,gBAAQ,EAAE;AAFY,OAAvB,CAK0B,GAAdjB,cAAc,CAAd;;;;;;cAAAA,c;AAAc;gBAD1B;AAC0B,U;;;;;;;;;;;;;;;;;;;AAYlBE,yBAAe,I;AAQfK,wBAAc;;;;;;;;;;;;;;;;;;;ACtDvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAWaW,sB;AAKX,wCAA6BC,qBAA7B,EAA4FvyC,MAA5F,EAA4G;AAAA;;AAAA;;AAA/E,eAAAuyC,qBAAA,GAAAA,qBAAA;AAA+D,eAAAvyC,MAAA,GAAAA,MAAA;AAF5E,eAAA8wC,SAAA,GAAsC,IAAI,kDAAJ,CAA6B,CAA7B,CAAtC;AAGd,eAAKyB,qBAAL,CAA2BphC,WAA3B,GAAyCzS,SAAzC,CAAmD,UAAC8zC,OAAD,EAAqC;AACtF,oBAAI,WAAJ,GAAe;AACb7yC,mBAAK,EAAE6yC,OAAO,CAAC7yC,KADF;AAEb8a,kBAAI,EAAE,CACJ;AAAE4P,wBAAQ,EAAE,UAAZ;AAAwBtrB,uBAAO,EAAEyzC,OAAO,CAAC7yC;AAAzC,eADI,EAEJ;AAAEP,oBAAI,EAAE,aAAR;AAAuBL,uBAAO,EAAEyzC,OAAO,CAACC;AAAxC,eAFI,EAGJ;AAAEpoB,wBAAQ,EAAE,gBAAZ;AAA8BtrB,uBAAO,EAAEyzC,OAAO,CAACC;AAA/C,eAHI,EAIJ;AAAEpoB,wBAAQ,EAAE,UAAZ;AAAwBtrB,uBAAO,EAAEyzC,OAAO,CAACjzC;AAAzC,eAJI,EAKJ;AAAE8qB,wBAAQ,EAAE,QAAZ;AAAsBtrB,uBAAO,EAAEyzC,OAAO,CAACE;AAAvC,eALI,EAMJ;AAAEroB,wBAAQ,EAAE,SAAZ;AAAuBtrB,uBAAO,EAAE;AAAhC,eANI,EAOJ;AAAEsrB,wBAAQ,EAAE,cAAZ;AAA4BtrB,uBAAO,EAAE;AAArC,eAPI,EAQJ;AAAEK,oBAAI,EAAE,cAAR;AAAwBL,uBAAO,EAAE;AAAjC,eARI,EASJ;AAAEK,oBAAI,EAAE,eAAR;AAAyBL,uBAAO,EAAEyzC,OAAO,CAAC7yC;AAA1C,eATI,EAUJ;AAAEP,oBAAI,EAAE,qBAAR;AAA+BL,uBAAO,EAAEyzC,OAAO,CAACC;AAAhD,eAVI,EAWJ;AAAErzC,oBAAI,EAAE,eAAR;AAAyBL,uBAAO,EAAEyzC,OAAO,CAACjzC;AAA1C,eAXI;AAFO,aAAf;;AAgBA,gBAAMozC,YAAY,GAAY,QAAI,CAAC3yC,MAAL,CAAYsL,GAAZ,CAAgBsR,QAAhB,CAAyB,QAAzB,KAAsC,QAAI,CAAC5c,MAAL,CAAYsL,GAAZ,CAAgBsR,QAAhB,CAAyB,QAAzB,CAAtC,IACzB,QAAI,CAAC5c,MAAL,CAAYsL,GAAZ,CAAgBsR,QAAhB,CAAyB,WAAzB,CADyB,IACgB,QAAI,CAAC5c,MAAL,CAAYsL,GAAZ,CAAgBsR,QAAhB,CAAyB,QAAzB,CADhB,IAEzB,QAAI,CAAC5c,MAAL,CAAYsL,GAAZ,CAAgBsR,QAAhB,CAAyB,UAAzB,CAFyB,IAEe,QAAI,CAAC5c,MAAL,CAAYsL,GAAZ,CAAgBsR,QAAhB,CAAyB,UAAzB,CAF7C;;AAGA,gBAAI,CAAC+1B,YAAL,EAAmB;AACjB,sBAAI,CAAC7B,SAAL,CAAe9zC,IAAf,CAAoB,QAAI,WAAxB;AACD;AACF,WAvBD;AAwBD;;;;iBAEM,SAAA41C,YAAY;AACjB,iBAAK9B,SAAL,CAAe9zC,IAAf,CAAoB,eAApB;AACD;;;;;;;;cAlCUs1C,sB;AAAsB;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAtBA,sB;AAAsB,oBAFrB;;;;;;;cAEDA,sB;AAAsB;gBAHlC,wDAGkC;iBAHvB;AACV/0C,sBAAU,EAAE;AADF,W;AAGuB,U;;;;;;;;;;;;;;;;;;;;;;;;;ACXnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUas1C,U;AACX,4BACqBzqC,UADrB,EAEmBkD,GAFnB,EAGqBjD,KAHrB,EAGiC;AAAA;;AAFZ,eAAAD,UAAA,GAAAA,UAAA;AACF,eAAAkD,GAAA,GAAAA,GAAA;AACE,eAAAjD,KAAA,GAAAA,KAAA;AACjB;;;;iBAEM,SAAAc,aAAa,CAAYtM,EAAZ,EAAwBi8B,MAAxB,EAAsDiS,IAAtD,EAAsE38B,IAAtE,EAAgF;AACrG,mBAAO28B,IAAI,GACP,KAAK3iC,UAAL,CAAgBa,OAAhB,WAAmC,KAAKqC,GAAxC,cAAiDzO,EAAjD,cAAyDi8B,MAAzD,EADO,GAEP,KAAK1wB,UAAL,CAAgBhE,KAAhB,WAA6B,KAAKkH,GAAlC,cAA2CzO,EAA3C,cAAmDi8B,MAAnD,GAA8D1qB,IAA9D,CAFJ;AAGD;;;iBAEM,SAAAhE,KAAK,CAACvN,EAAD,EAAakuC,IAAb,EAA2B;AACrC,mBAAO,KAAK5hC,aAAL,CAAmBtM,EAAnB,EAAuB,8EAAqBi2C,IAA5C,EAAkD/H,IAAlD,CAAP;AACD;;;iBAEM,SAAAzuB,SAAS,CAACzf,EAAD,EAAakuC,IAAb,EAA2B;AAAA;;AACzC,mBAAO,KAAK5hC,aAAL,CAAmBtM,EAAnB,EAAuB,8EAAqBk2C,QAA5C,EAAsDhI,IAAtD,EAA4DxsC,IAA5D,CACL,2DAAI;AAAA,qBAAM,QAAI,CAAC8J,KAAL,CAAW+vB,QAAX,CAAoB,IAAI,kGAAJ,CAAkB2S,IAAI,GAAG,CAAC,CAAJ,GAAQ,CAA9B,EAAiC,wGAAmB7S,QAApD,CAApB,CAAN;AAAA,aAAJ,CADK,CAAP;AAGD;;;iBAEM,SAAAhf,UAAU,CAACrc,EAAD,EAAakuC,IAAb,EAA2B;AAC1C,mBAAO,KAAK5hC,aAAL,CAAmBtM,EAAnB,EAAuB,8EAAqBm2C,SAA5C,EAAuDjI,IAAvD,CAAP;AACD;;;iBAEM,SAAAtuB,KAAK,CAAC5f,EAAD,EAAakuC,IAAb,EAA4BxuB,IAA5B,EAAmD;AAC7D,mBAAO,KAAKpT,aAAL,CAAmBtM,EAAnB,EAAuB,8EAAqBo2C,IAA5C,EAAkDlI,IAAlD,EAAwD;AAAE9tC,mBAAK,EAAEsf;AAAT,aAAxD,CAAP;AACD;AAED;;;;;;;iBAIO,SAAArS,SAAS,CAACrN,EAAD,EAAW;AACzB,mBAAO,KAAKsM,aAAL,CAAmCtM,EAAnC,EAAuC,8EAAqBq2C,QAA5D,CAAP;AACD;;;iBAEM,SAAA1pB,KAAK,CAAC3sB,EAAD,EAAW;AACrB,mBAAO,KAAKsM,aAAL,CAAmBtM,EAAnB,EAAuB,8EAAqBs2C,IAA5C,EAAkD50C,IAAlD,CACL,kEAAW,UAACgN,GAAD,EAAc;AACvB,kBAAIA,GAAG,CAAC0M,MAAJ,KAAe,GAAnB,EAAwB;AACtB,uBAAO,gDAAG,IAAH,CAAP;AACD;AACF,aAJD,CADK,CAAP;AAOD;;;;;;;;;;;;;;;;;;;ACzDH;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAQam7B,c,6BANb;AAAA;;AAQkB,aAAAC,IAAA,GAAO,KAAP;AACA,aAAAC,IAAA,GAAO,KAAP;AAET,aAAA12C,IAAA,GAAO,KAAP;AACR,O;;;;;;cANYw2C,c;AAAc,gB;AAAA;;;;;cAAdA,c;AAAc,6B;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA,4D;AAAA,kBCR3B,8uC;AAyBA,sy2N;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA,S;AAAA;;;;;;;cDjBaA,c;AAAc;gBAN1B,uDAM0B;iBANhB;AACTxzC,oBAAQ,EAAE,WADD;AAETC,uBAAW,EAAE,wBAFJ;AAGTC,qBAAS,EAAE,CAAC,wBAAD,CAHF;AAIT+D,2BAAe,EAAE,sEAAwBC;AAJhC,W;AAMgB,U;;AACTwH,aAAG,EAAE,CAAF;kBAAlB;AAAkB,WAAE,C;AACL+nC,cAAI;kBAAnB;AAAmB,Y;AACJC,cAAI;kBAAnB;AAAmB;;;;;;;;;;;;;;;;;;;AEXtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAYaC,c;;;;;;;;cAAAA,c;AAAc,gB;AAAA;;;;;;cAAdA,c;AAAc,uBAJV,sEAIU,EAJS,uGAIT,EAJmC,sEAInC,C;AAJoD,kBACnE,4DADmE,EACrD,kGADqD,C;AAC/B,kBACpC,sEADoC,EACjB,uGADiB,EACS,sEADT;;;;;;cAGnCA,c;AAAc,kBAHhB,CAAC,4DAAD,EAAe,kGAAf,CAGgB;;;;;;;cAAdA,c;AAAc;gBAL1B,sDAK0B;iBALjB;AACRzuB,wBAAY,EAAE,CAAC,sEAAD,EAAoB,uGAApB,EAA8C,sEAA9C,CADN;AAERE,mBAAO,EAAE,CAAC,4DAAD,EAAe,kGAAf,CAFD;AAGRD,mBAAO,EAAE,CAAC,sEAAD,EAAoB,uGAApB,EAA8C,sEAA9C;AAHD,W;AAKiB;;;;;;;;;;;;;;;;;;ACX3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAGO,eAASyuB,QAAT,CACLv9B,KADK,EAEL9J,GAFK,EAGLsnC,MAHK,EAILC,SAJK,EAIuB;AAE5B,YAAMj8B,CAAC,GAAQ,SAATA,CAAS,GAAM;AACnB,cAAIxB,KAAK,CAACrV,KAAV,EAAiB;AACfqV,iBAAK,CAACpV,GAAN,CAAU+B,WAAV;AACAqT,iBAAK,CAACrV,KAAN,GAAc,KAAd;AACA8yC,qBAAS;AACV,WAJD,MAIO;AACLz9B,iBAAK,CAACrV,KAAN,GAAc,IAAd;AACA+sB,sBAAU,CAAC,YAAM;AACfxhB,iBAAG,GAAGnK,aAAN,CAAoBqB,KAApB;AACA4S,mBAAK,CAACpV,GAAN,GAAY,uDAAUe,QAAV,EAAoB,MAApB,EAA4B;AACtCkK,uBAAO,EAAE;AAD6B,eAA5B,EAETvN,IAFS,CAEJk1C,MAFI,EAEI/0C,SAFJ,CAEc,UAACoE,CAAD,EAAmB;AAC3C,oBAAI,CAACqJ,GAAG,GAAGnK,aAAN,CAAoBC,QAApB,CAA6Ba,CAAC,CAAC6wC,aAA/B,CAAL,EAAoD;AAClD19B,uBAAK,CAACpV,GAAN,CAAU+B,WAAV;AACAqT,uBAAK,CAACrV,KAAN,GAAc,KAAd;AACA8yC,2BAAS;AACV;AACF,eARW,CAAZ;AASD,aAXS,EAWP,CAXO,CAAV;AAYD;AACF,SApBD;;AAqBA,eAAOj8B,CAAP;AACD;;;;;;;;;;;;;;;;;AChCD;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UA6Bam8B,U,6BACX,oBACmBjgC,SADnB,EAEmBkgC,qBAFnB,EAGmBrzC,eAHnB,EAGmD;AAAA;;AAFhC,aAAAmT,SAAA,GAAAA,SAAA;AACA,aAAAkgC,qBAAA,GAAAA,qBAAA;AACA,aAAArzC,eAAA,GAAAA,eAAA;AAEjB,aAAKqzC,qBAAL,CAA2B/1B,IAA3B;AACA,aAAKnK,SAAL,CAAemgC,QAAf,CAAwB,CAAC,IAAD,EAAO,IAAP,CAAxB;AACA,aAAKngC,SAAL,CAAeogC,cAAf,CAA8B,IAA9B;AACA,YAAMC,WAAW,GAAG,KAAKH,qBAAL,CAA2BI,iBAA3B,MAAkD,KAAKtgC,SAAL,CAAeugC,cAAf,EAAtE;AACA,aAAKvgC,SAAL,CAAec,GAAf,CAAmB,KAAKjU,eAAL,CAAqBS,SAArB,GAAkC+yC,WAAW,CAACj+B,KAAZ,CAAkB,OAAlB,IAA6Bi+B,WAA7B,GAA2C,IAA7E,GAAqF,IAAxG;AACD,O;;;;;;cAXUJ,U;AAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;;cAAVA,U;AAAU,kBAnBnB,qEAmBmB,EAnBH,mEAmBG,EAnBH,wEAmBG,C;AAnBH,kBAiBR,mEAjBQ;;;;;;cAmBPA,U;AAAU,kBApBZ,CACP,qEADO,EAEP,oEAAgB/X,OAAhB,CAAwB;AACtB9wB,gBAAM,EAAE;AACNlF,mBAAO,EAAE,mEADH;AAENi2B,sBAAU,EAAE,mGAFN;AAGNC,gBAAI,EAAE,CAAC,+DAAD;AAHA;AADc,SAAxB,CAFO,EASP,yEAAqBF,OAArB,CAA6B;AAC3BsY,sBAAY,EAAE;AACZtuC,mBAAO,EAAE,yEADG;AAEZi2B,sBAAU,EAAE,iGAFA;AAGZC,gBAAI,EAAE,CAAC,oEAAD,EAAmB,0EAAnB;AAHM,WADa;AAM3BqY,wBAAc,EAAE;AANW,SAA7B,CATO,CAoBY,EAFX,mEAEW;;;;;;;cAAVR,U;AAAU;gBArBtB,sDAqBsB;iBArBb;AACR5uB,mBAAO,EAAE,CACP,qEADO,EAEP,oEAAgB6W,OAAhB,CAAwB;AACtB9wB,oBAAM,EAAE;AACNlF,uBAAO,EAAE,mEADH;AAENi2B,0BAAU,EAAE,mGAFN;AAGNC,oBAAI,EAAE,CAAC,+DAAD;AAHA;AADc,aAAxB,CAFO,EASP,yEAAqBF,OAArB,CAA6B;AAC3BsY,0BAAY,EAAE;AACZtuC,uBAAO,EAAE,yEADG;AAEZi2B,0BAAU,EAAE,iGAFA;AAGZC,oBAAI,EAAE,CAAC,oEAAD,EAAmB,0EAAnB;AAHM,eADa;AAM3BqY,4BAAc,EAAE;AANW,aAA7B,CATO,CADD;AAmBRrvB,mBAAO,EAAE,CAAC,mEAAD;AAnBD,W;AAqBa,U;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BvB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAUasvB,sB;;;;;;;;cAAAA,sB;AAAsB,gB;AAAA;;;;;;cAAtBA,sB;AAAsB,uBAHlB,iEAGkB,EAHD,wEAGC,EAHmB,2DAGnB,EAHiC,sEAGjC,C;AAHkD,kBACzE,iEADyE,EACxD,wEADwD,EACpC,2DADoC,EACtB,sEADsB;;;;;;cAGxEA;;;;;;;cAAAA,sB;AAAsB;gBAJlC,sDAIkC;iBAJzB;AACRvvB,wBAAY,EAAE,CAAC,iEAAD,EAAkB,wEAAlB,EAAsC,2DAAtC,EAAoD,sEAApD,CADN;AAERC,mBAAO,EAAE,CAAC,iEAAD,EAAkB,wEAAlB,EAAsC,2DAAtC,EAAoD,sEAApD;AAFD,W;AAIyB;;;;;;;;;;;;;;;;;;ACVnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;UAgBauvB,iB;AAEX,mCACmBC,oBADnB,EAEmB/zC,eAFnB,EAGkBJ,UAHlB,EAG+C;AAAA;;AAAA;;AAE7C;AAJiB,mBAAAm0C,oBAAA,GAAAA,oBAAA;AACA,mBAAA/zC,eAAA,GAAAA,eAAA;AACD,mBAAAJ,UAAA,GAAAA,UAAA;AAQF,mBAAAo0C,OAAA,GAAU,KAAV;AAET,mBAAAC,EAAA,GAA6B;AAClC11C,mBAAO,EAAE,EADyB;AAElCisB,uBAAW,EAAE,CAFqB;AAGlClZ,sBAAU,EAAE,CAHsB;AAIlC4iC,0BAAc,EAAE;AAJkB,WAA7B;AAMA,mBAAAC,KAAA,GAAQ,CAAR;AACA,mBAAAC,YAAA,GAAe,KAAf;AAjBwC;AAG9C;;;;;;iBAgBD,SAAA52C,QAAQ;AACN,gBAAI,KAAKsrB,KAAL,IAAc,KAAK9oB,eAAL,CAAqBS,SAAvC,EAAkD;AAChD,mBAAK4zC,KAAL;AACD;AACF;;;iBAEiD,SAAA5kB,QAAQ;AACxD,gBAAI,CAAC,KAAK2kB,YAAN,IAAsB,KAAKH,EAAL,CAAQ11C,OAAR,CAAgB,CAAhB,CAAtB,IAA4C,KAAK+1C,MAArD,EAA6D;AAC3D,mBAAKC,QAAL;AACD;AACF;;;iBAEM,SAAAC,OAAO;AAAA;;AACZ,gBAAI,CAAC,KAAKP,EAAL,CAAQ11C,OAAR,KAAoB,EAApB,IAA0B,KAAK01C,EAAL,CAAQzpB,WAAR,GAAsB,CAAtB,IAA2B,KAAKypB,EAAL,CAAQ3iC,UAA9D,KAA6E,CAAC,KAAK2iC,EAAL,CAAQC,cAA1F,EAA0G;AACxG,mBAAKD,EAAL,CAAQC,cAAR,GAAyB,IAAzB;AACA,mBAAKH,oBAAL,CAA0BhwC,IAA1B,CAA+B,KAAKkwC,EAAL,CAAQzpB,WAAvC,EAAoD,KAAK1B,KAAzD,EACG/qB,IADH,CACQ,oFAAU,KAAKE,YAAf,CADR,EAEGC,SAFH,CAEa,UAACu2C,OAAD,EAA+C;AAAA;;AACxD,+CAAI,CAACR,EAAL,CAAQ11C,OAAR,EAAgBD,IAAhB,+CAAwBm2C,OAAO,CAACl2C,OAAhC;;AACA,wBAAI,CAAC01C,EAAL,CAAQ3iC,UAAR,GAAqBmjC,OAAO,CAACnjC,UAA7B;AACA,wBAAI,CAAC2iC,EAAL,CAAQzpB,WAAR;AACA,wBAAI,CAACypB,EAAL,CAAQC,cAAR,GAAyB,KAAzB;;AACA,oBAAI,QAAI,CAACD,EAAL,CAAQzpB,WAAR,GAAsB,CAAtB,IAA2B,QAAI,CAACypB,EAAL,CAAQ3iC,UAAvC,EAAmD;AACjD,0BAAI,CAAC+iC,KAAL;AACD,iBAFD,MAEO;AACL,sBAAI,QAAI,CAACJ,EAAL,CAAQ11C,OAAR,CAAgB,CAAhB,CAAJ,EAAwB;AACtB,wBAAI,CAAC8oB,YAAY,CAACC,OAAb,CAAqB,QAAQ,QAAI,CAACwB,KAAlC,CAAL,EAA+C;AAC7CzB,kCAAY,CAACK,OAAb,CAAqB,QAAQ,QAAI,CAACoB,KAAlC,EAAyC,GAAzC;AACA,8BAAI,CAACqrB,KAAL,GAAa,CAAb;AACD,qBAHD,MAGO;AACL,8BAAI,CAACA,KAAL,GAAavb,QAAQ,CAACvR,YAAY,CAACC,OAAb,CAAqB,QAAQ,QAAI,CAACwB,KAAlC,CAAD,EAA2C,EAA3C,CAAR,GAAyD,CAAtE;;AACA,0BAAI,QAAI,CAACqrB,KAAL,GAAa,CAAb,GAAiB,QAAI,CAACF,EAAL,CAAQ11C,OAAR,CAAgB+Z,MAArC,EAA6C;AAC3C,gCAAI,CAAC67B,KAAL;AACD,uBAFD,MAEO;AACL,gCAAI,CAACA,KAAL,GAAa,CAAb;AACD;;AACD9sB,kCAAY,CAACK,OAAb,CAAqB,QAAQ,QAAI,CAACoB,KAAlC,EAAyC,QAAI,CAACqrB,KAAL,GAAa,CAAb,GAAiB,EAA1D;AACD;AACF;AACF;;AACD,oBAAI,QAAI,CAACrrB,KAAL,KAAe,6FAAgB4rB,MAAnC,EAA2C;AACzCvnB,4BAAU,CAAC;AAAA,2BAAM,QAAI,CAACmnB,MAAL,GAAc,QAAI,CAACC,QAAL,EAAd,GAAgC,YAAM,CAAE,CAA9C;AAAA,mBAAD,CAAV;AACD;AACF,eA5BH;AA6BD;AACF;;;iBAEM,SAAAF,KAAK;AACV,iBAAKG,OAAL;AACD;;;iBAEM,SAAAD,QAAQ;AACb,gBAAMvoC,IAAI,GAAG,KAAKsoC,MAAL,CAAY9yC,aAAZ,CAA0ByK,qBAA1B,EAAb;AACA,gBAAM0oC,UAAU,GAAG58B,IAAI,CAAC68B,GAAL,CAASxzC,QAAQ,CAAC0X,eAAT,CAAyB+7B,YAAlC,EAAgDt5B,MAAM,CAAC+X,WAAvD,CAAnB;;AACA,gBAAI,EAAEtnB,IAAI,CAAC8oC,MAAL,GAAc,CAAd,IAAmB9oC,IAAI,CAACK,GAAL,GAAWsoC,UAAX,IAAyB,CAA9C,KAAoD,CAAC,KAAKP,YAA9D,EAA4E;AAC1E,mBAAKL,oBAAL,CAA0B/qB,KAA1B,CAAgC,KAAKirB,EAAL,CAAQ11C,OAAR,CAAgB,KAAK41C,KAArB,EAA4B93C,EAA5D,EAAgE0B,IAAhE,CAAqE,oFAAU,KAAKE,YAAf,CAArE,EAAmGC,SAAnG,CAA6G,YAAM,CAAG,CAAtH;AACA,mBAAKk2C,YAAL,GAAoB,IAApB;AACD;AACF;;;iBAEM,SAAAW,SAAS;AAAA;;AACd,iBAAKhB,oBAAL,CAA0BhrB,MAA1B,CAAiC,KAAKkrB,EAAL,CAAQ11C,OAAR,CAAgB,KAAK41C,KAArB,EAA4B93C,EAA7D,EAAiE0B,IAAjE,CAAsE,oFAAU,KAAKE,YAAf,CAAtE,EAAoGC,SAApG,CAA8G;AAAA,qBAC5Gqd,MAAM,CAACnf,IAAP,CAAY,QAAI,CAAC63C,EAAL,CAAQ11C,OAAR,CAAgB,QAAI,CAAC41C,KAArB,EAA4BrpC,GAAxC,EAA6C,QAA7C,CAD4G;AAAA,aAA9G;AAGD;;QAxFoC,0F;;;;;;cAA1BgpC,iB;AAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;;;;;cAAjBA,iB;AAAiB,iC;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA,S;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA,6B;AAAA,4D;AAAA,kBChB9B,+8B;AAuBA,6z5B;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;AAAA;AAAA,U;AAAA;AAAA;AAAA;;;;;;;cDPaA,iB;AAAiB;gBAL7B,uDAK6B;iBALnB;AACT10C,oBAAQ,EAAE,eADD;AAETC,uBAAW,EAAE,4BAFJ;AAGTC,qBAAS,EAAE,CAAC,4BAAD;AAHF,W;AAKmB,U;;;;;;;;;;;AAUmBg1C,gBAAM,EAAE,CAAF;kBAApD,uDAAoD;mBAA1C,Q,EAAU;AAAE,wBAAQ;AAAV,a;AAAgC,WAAE,C;AAEvCxrB,eAAK,EAAE,CAAF;kBAApB;AAAoB,WAAE,C;AACPkrB,iBAAO;kBAAtB;AAAsB,Y;AAiB2BvkB,kBAAQ;kBAAzD,0DAAyD;mBAA5C,e,EAAiB,CAAC,QAAD,C;AAA2B;;;;;;;;;;;;;;;;;;;AE9C5D;AAAA;;;AAAA;AAAA;AAAA;;AAAA,UAAYulB,gBAAZ;;AAAA,iBAAYA,gBAAZ,EAA4B;AACxB;AACH,OAFD,EAAYA,gBAAgB,KAAhBA,gBAAgB,MAA5B;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAOA,UAAI,sEAAYh8B,UAAhB,EAA4B;AAC1B;AACD;;AAED5X,cAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAClD,oFAAyB4zC,eAAzB,CAAyC,yDAAzC,WACO,UAAClqC,GAAD;AAAA,iBAAcmqC,OAAO,CAACrvC,KAAR,CAAckF,GAAd,CAAd;AAAA,SADP;AAED,OAHD;;;;;;;;;;;;;;ACXA,eAASoqC,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,eAAOC,OAAO,CAACC,OAAR,GAAkB/I,IAAlB,CAAuB,YAAW;AACxC,cAAIjqC,CAAC,GAAG,IAAI6I,KAAJ,CAAU,yBAAyBiqC,GAAzB,GAA+B,GAAzC,CAAR;AACA9yC,WAAC,CAACg+B,IAAF,GAAS,kBAAT;AACA,gBAAMh+B,CAAN;AACA,SAJM,CAAP;AAKA;;AACD6yC,8BAAwB,CAACvgC,IAAzB,GAAgC,YAAW;AAAE,eAAO,EAAP;AAAY,OAAzD;;AACAugC,8BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACA3I,YAAM,CAACjoB,OAAP,GAAiB4wB,wBAAjB;AACAA,8BAAwB,CAAC94C,EAAzB,GAA8B,MAA9B","file":"main-es5.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, of, Subject } from 'rxjs';\nimport { ICreatedObject } from '@api/schemas/object/created-object.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShowcaseEditBlockService {\n  private readonly open: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  private readonly id: BehaviorSubject<number> = new BehaviorSubject<number>(-1);\n\n  public readonly refresh$: Subject<never> = new Subject<never>();\n\n  constructor() {}\n\n  public toggle(): void {\n    this.open.next(!this.open.value);\n  }\n\n  public getValue(): BehaviorSubject<boolean> {\n    return this.open;\n  }\n\n  public setId(id: number): void {\n    this.id.next(id);\n  }\n\n  public getId$(): BehaviorSubject<number> {\n    return this.id;\n  }\n\n  public navigate$(created: ICreatedObject): Observable<boolean> {\n    this.setId(created.id);\n    this.toggle();\n    return of(true);\n  }\n}\n","export enum UserDropdownRouteEnum {\n    TOPICS = 'TOPICS',\n    AUTHORS = 'AUTHORS',\n    COMPANIES = 'COMPANIES',\n    PUBLICATIONS = 'PUBLICATIONS',\n    DRAFTS = 'DRAFTS',\n    COMMENTS = 'COMMENTS',\n    SETTINGS = 'SETTINGS',\n    PROMOTED = 'PROMOTED'\n}\n","import { Component, OnInit, Input, Output, EventEmitter, SimpleChanges, OnDestroy, OnChanges } from '@angular/core';\nimport { forkJoin, Subject } from 'rxjs';\nimport { debounceTime, takeUntil, distinctUntilChanged, switchMap } from 'rxjs/operators';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { IArticleViewBase } from '@api/schemas/article/article-view-base.interface';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { ITopicViewBase } from '@api/schemas/topic/topic-view-base.interface';\nimport { ISearchResult } from './search-result.interfave';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { FeedService } from '@api/routes/feed.service';\n\n@Component({\n  selector: 'app-search-box',\n  templateUrl: './search-box.component.html',\n  styleUrls: ['./search-box.component.scss']\n})\nexport class SearchBoxComponent extends AbstractComponent implements OnInit, OnDestroy, OnChanges {\n  @Input() public query: string;\n\n  // tslint:disable-next-line:no-output-native\n  @Output() public readonly close: EventEmitter<void> = new EventEmitter<void>();\n\n  private readonly search$: Subject<string> = new Subject<string>();\n\n  public result: ISearchResult[] = null;\n  public totalResults = 0;\n\n  constructor(\n    private readonly topicService: TopicsService,\n    private readonly feedService: FeedService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.subscribeToSearch();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.result = [];\n    this.totalResults = 0;\n    if (!changes.query.isFirstChange() && changes.query.currentValue) {\n      this.search$.next(changes.query.currentValue);\n    }\n  }\n\n  private subscribeToSearch(): void {\n    this.search$.pipe(\n      debounceTime(300),\n      distinctUntilChanged(),\n      switchMap((search: string) => forkJoin([this.feedService.search$(search), this.topicService.search$(search)])),\n      takeUntil(this.ngOnDestroy$),\n    ).subscribe(([articlesSearchResult, topicsSearchResult]: [IPageResponse<IArticleViewBase>, IPageResponse<ITopicViewBase>]) => {\n      this.totalResults = articlesSearchResult.total;\n      this.result = [];\n      this.result.push(\n        ...topicsSearchResult.content.map((topic: ITopicViewBase) => ({\n          text: topic.info.name,\n          routerLink: ['/topics', topic.meta.id],\n          image: topic.info.picture,\n          topic: true,\n        })).slice(0, 3),\n      );\n      this.result.push(\n        ...articlesSearchResult.content.map((article: IArticleViewBase) => ({\n          text: article.info.title,\n          routerLink: ['/news', article.meta.id],\n          topic: false,\n        })).slice(0, 5),\n      );\n    });\n  }\n}\n","<ul class=\"structural item-space-20 fade-1\">\n    <ng-container *ngIf=\"result\">\n        <li *ngFor=\"let item of result\" class=\"button-1\" style=\"display: flex; align-items: center;\">\n            <app-ui-icon *ngIf=\"item.topic\" style=\"margin-right: 10px;\" size=\"small\" [src]=\"item.image\" [textAlternative]=\"item.text\"></app-ui-icon>\n            <a [routerLink]=\"item.routerLink\" (click)=\"close.emit()\">{{ item.text }}</a>\n        </li>\n        <li *ngIf=\"result.length === 0\" class=\"button-1\">{{ 'COMMON.POSSIBLY_SOMEBODY_WORKING' | translate }}...</li>\n    </ng-container>\n    <li *ngIf=\"!result\" class=\"button-1\">{{ 'COMMON.SEARCH' | translate }}...</li>\n    <li *ngIf=\"totalResults > 5\" class=\"results v-center\">\n        <span class=\"button-1\" (click)=\"close.emit()\">\n            <a style=\"all: inherit\" [routerLink]=\"['/search']\" [queryParams]=\"{ 'q' : query }\" queryParamsHandling=\"merge\">{{ 'COMMON.CHECK_THE_RESULTS' | translate }}</a>\n        </span>\n        <span class=\"count align-right\">{{ totalResults }}</span>\n    </li>\n</ul>\n","import { Component, ElementRef, ViewChild, OnDestroy, OnInit } from '@angular/core';\nimport { forkJoin, fromEvent } from 'rxjs';\nimport { ArticlesService } from '@api/routes/articles.service';\nimport { SessionService } from '@app/services/session.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil, distinctUntilChanged, mergeMap, first } from 'rxjs/operators';\nimport { Router, NavigationEnd, Event as RouterEvent } from '@angular/router';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { IMenuState } from '@layout/shared/interfaces/menu-state.interface';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { toggleFn } from '@layout/shared/functions/toggle-fn.function';\nimport { NotificationsService } from '@api/routes/notifications.service';\nimport { NotificationUpdateService } from '@shared/services/notification-update.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { INotification } from '@api/schemas/notification/notification.interface';\nimport { ViewportScroller } from '@angular/common';\n\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss'],\n  styles: [\n    `:host {\n      display: block;\n      height: 100%;\n      width: 100%;\n    }`\n  ]\n})\nexport class HeaderComponent extends AbstractComponent implements OnInit, OnDestroy {\n  @ViewChild('query', { static: true }) private query: ElementRef;\n  @ViewChild('userMenu', { static: true }) private userMenu: ElementRef;\n  @ViewChild('searchBox', { static: true }) private searchBox: ElementRef;\n  @ViewChild('noteDropdown', { static: true }) private noteDropdown: ElementRef;\n\n  public searchBoxFocus = false;\n\n  // USER MENU\n  public userMenuState: IMenuState = { shown: false, sub: null };\n\n  // SEARCH MENU\n  public searchState: IMenuState = { shown: false, sub: null };\n  public search: string;\n\n  public noteState: IMenuState = { shown: false, sub: null };\n  public noteToggle: any = this.platformService.isBrowser\n    ? toggleFn(this.noteState, () => {\n        return this.noteDropdown;\n      }, takeUntil(this.ngOnDestroy$), () => {\n        this.notificationUpdateService.notifications$.pipe(\n          first(),\n          mergeMap((res: INotification[]) =>\n            forkJoin(res.filter((notify: INotification) => !notify.read).map(\n              (notify: INotification) => this.notificationsService.markRead$(notify.id)\n            )\n          )), takeUntil(this.ngOnDestroy$)\n        ).subscribe(() => this.notificationUpdateService.update());\n      })\n    : () => {};\n\n  constructor(\n    private readonly router: Router,\n    private readonly articleService: ArticlesService,\n    private readonly userDropdownService: UserDropdownService,\n    public readonly session: SessionService,\n    public readonly responsive: ResponsiveService,\n    public readonly notificationsService: NotificationsService,\n    public readonly userDropdown: UserDropdownService,\n    public readonly notificationUpdateService: NotificationUpdateService,\n    public readonly platformService: PlatformService,\n    public viewportScroller: ViewportScroller\n  ) {\n    super();\n    this.session.loggedIn$.pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.userDropdownService.setShowDropdown(false);\n    });\n  }\n\n  ngOnInit(): void {\n    if (this.platformService.isBrowser) {\n      document.addEventListener('click', (event: Event) => {\n        if (this.searchBoxFocus && !this.searchBox.nativeElement.contains(event.target)) {\n          this.searchBoxFocus = false;\n        }\n      });\n      this.subscribeToDropdownChanges();\n      this.router.events.pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: RouterEvent) => {\n        if (_ instanceof NavigationEnd) {\n          this.search = '';\n        }\n      });\n    }\n\n    this.session.user$.pipe(\n      distinctUntilChanged((a: IUserViewFull, b: IUserViewFull) => (!a && !b) || (a && b && a.meta.id === b.meta.id)),\n      takeUntil(this.ngOnDestroy$),\n    ).subscribe((_: IUserViewFull) => {\n      _ !== null ? this.notificationUpdateService.subOnNotifications(_.meta.id) : this.notificationUpdateService.disconnect();\n    });\n  }\n\n  private subscribeToDropdownChanges(): void {\n    this.userDropdownService\n      .getShowDropdown()\n      .pipe(takeUntil(this.ngOnDestroy$))\n      .subscribe((shown: boolean) => {\n        this.userMenuState = {\n          ...this.userMenuState,\n          shown,\n        };\n        if (!shown && this.userMenuState.sub) {\n          this.userMenuState.sub.unsubscribe();\n        } else if (shown) {\n          requestAnimationFrame(() => {\n            this.userMenuState.sub = fromEvent(document, 'click').pipe(takeUntil(this.ngOnDestroy$)).subscribe((e: Event) => {\n              if (!this.userMenu.nativeElement.contains(e.target)) {\n                this.userDropdownService.setShowDropdown(false);\n              }\n            });\n          });\n        }\n      });\n  }\n\n  public toggleUserMenu(): void {\n    this.userDropdownService.setShowDropdown(!this.userMenuState.shown);\n  }\n\n  public createDraftAndEdit(): void {\n    if (this.session.loggedIn$.value) {\n      this.articleService.create$().pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe((id: number) => this.router.navigate(['/news', id, 'edit']));\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public startSearch(): void {\n    if (!this.searchBoxFocus) {\n      this.searchBoxFocus = true;\n      requestAnimationFrame(() => {\n        this.query.nativeElement.focus();\n        this.query.nativeElement?.setSelectionRange(0, 999);\n      });\n    }\n  }\n\n  public scrollToTopAndNavigate(): void {\n    this.router.navigateByUrl('/all');\n    this.viewportScroller.scrollToPosition([0, 0]);\n  }\n}\n","<div class=\"v-center root\" [ngClass]=\"{ 'search-box-open': searchBoxFocus }\">\n    <a (click)=\"scrollToTopAndNavigate()\" class=\"link\"><img src=\"assets/diskurs-media.png\" alt=\"logo\" class=\"logo margin-right-44\" ></a>\n\n    <app-feed-nav></app-feed-nav>\n\n    <div #searchBox tabindex=\"-1\" class=\"search has-dropdown align-right v-center\" [ngClass]=\"{ 'focused': searchBoxFocus }\">\n        <input #query type=\"text\" [placeholder]=\"'COMMON.SEARCH' | translate\" name=\"query\" [(ngModel)]=\"search\" (click)=\"startSearch()\">\n        <a [routerLink]=\"['/search']\"><svg name=\"search\" class=\"align-right\"></svg></a>\n        <app-search-box *ngIf=\"platformService.isBrowser\" [query]=\"search\" [ngClass]=\"{ 'hidden': !searchBoxFocus }\" (close)=\"searchBoxFocus = false\"></app-search-box>\n    </div>\n\n    <div class=\"write button-1 c-primary v-center margin-right-20\" (click)=\"createDraftAndEdit()\">\n        <svg name=\"edit\" class=\"f-primary\"></svg>\n        <span class=\"align-right\">{{ 'COMMON.WRITE_US' | translate }}</span>\n    </div>\n\n    <div class=\"notifications margin-right-20\" >\n        <div *ngIf=\"session.loggedIn$ | async\">\n            <svg name=\"bell\" class=\"f-gray\" size=\"26\" (mousedown)=\"noteToggle()\"></svg>\n            <ng-container *ngIf=\"(notificationUpdateService.unreadNotifications$ | async) as unreadNotifications\">\n                <span *ngIf=\"unreadNotifications > 0\" class=\"count\">{{ unreadNotifications > 99 ? '99+' : unreadNotifications }}</span>\n            </ng-container>\n        </div>\n        <div *ngIf=\"!(session.loggedIn$ | async)\">\n            <svg name=\"bell\" class=\"f-gray\" size=\"26\" (click)=\"userDropdown.setShowDropdown(true)\"></svg>\n        </div>\n        <div #noteDropdown class=\"note-dropdown\" tabindex=\"-1\" [ngClass]=\"{hidden: !noteState.shown}\">\n            <span class=\"note-dropdown-text\">{{ 'COMMON.NOTIFICATIONS' | translate }}</span>\n            <div class=\"\"></div>\n            <ng-scrollbar [appearance]=\"'standard'\" class=\"margin-bottom-6\" thumbClass=\"blue-sb\">\n                <ul class=\"structural fade-2\">\n                    <li *ngFor=\"let item of (notificationUpdateService.notifications$ | async)\"  class=\"note-dropdown-elem\" (click)=\"noteToggle()\">\n                        <app-notification-element [data]=\"item\"></app-notification-element>\n                    </li>\n                </ul>\n            </ng-scrollbar>\n            \n            <a [routerLink]=\"['/user/me/notifications']\" (click)=\"noteToggle()\">\n                <div class=\"last-item-right v-center btn margin-right-7\" >\n                    <span class=\"subtitle-2 fade-2 btn margin-right-8\">{{ 'COMMON.ALL_NOTIFICATIONS' | translate }}</span>\n                    <svg name=\"chevron/right\" class=\"ui-icon btn \" size=\"25\"></svg>\n                </div>\n            </a>\n        </div>\n    </div>\n\n    <div class=\"user-control has-dropdown no-margin\">\n        <div class=\"v-center\" (click)=\"toggleUserMenu()\">\n            <div class=\"icon\">\n                <app-ui-icon *ngIf=\"session.loggedIn$ | async\" [src]=\"(session.user$ | async).info.picture\" [textAlternative]=\"(session.user$ | async).info | personName\"></app-ui-icon>\n                <div *ngIf=\"!(session.loggedIn$ | async)\" class=\"no-session\">\n                    <svg name=\"user-add\"></svg>\n                </div>\n            </div>\n            <svg name=\"dropdown\" size=\"12\" class=\"show-more\" style=\"margin-left: 2px;\"></svg>\n        </div>\n        <div #userMenu class=\"user-menu\" tabindex=\"-1\" [ngClass]=\"{ 'hidden': !userMenuState.shown, 'user-menu-dropdown-mark': session.loggedIn$.value, 'user-menu-form-mark': !session.loggedIn$.value }\">\n            <app-user-dropdown *ngIf=\"session.loggedIn$.value\" (toggle)=\"toggleUserMenu()\"></app-user-dropdown>\n            <app-login-form *ngIf=\"!session.loggedIn$.value\"></app-login-form>\n        </div>\n    </div>\n</div>\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\n\n@Component({\n  selector: 'app-contact-compact-list',\n  templateUrl: './contact-compact-list.component.html',\n  styleUrls: ['./contact-compact-list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ContactCompactListComponent {\n  @Input() contacts: IUserViewFull['contacts'];\n  @Input() size = 20;\n}\n","<ng-container [ngTemplateOutlet]=\"entry\" [ngTemplateOutletContext]=\"{ name: 'twitter' }\"></ng-container>\n<ng-container [ngTemplateOutlet]=\"entry\" [ngTemplateOutletContext]=\"{ name: 'vk' }\"></ng-container>\n<ng-container [ngTemplateOutlet]=\"entry\" [ngTemplateOutletContext]=\"{ name: 'telegram' }\"></ng-container>\n\n<ng-template #entry let-name=\"name\" let-iconName=\"iconName || 'social/' + name\">\n    <a *ngIf=\"contacts[name]\" [href]=\"contacts[name]\">\n        <svg [name]=\"iconName\" [size]=\"size\"></svg>\n    </a>\n</ng-template>\n","/* (ignored) */","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ApiService } from '@api/services/api.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RecoverPasswordService {\n  constructor(private readonly api: ApiService) {}\n\n  public init$(email: string): Observable<never> {\n    return this.api.post$('users/reset', { email }, true);\n  }\n\n  public check$(hash: string, email: string): Observable<never> {\n    return this.api.get$(`users/reset?hash=${hash}&email=${email}`, true);\n  }\n\n  public change$(hash: string, email: string, password: string): Observable<never> {\n    return this.api.post$('users/reset/change', { email, password, hash }, true);\n  }\n}\n","import { Component, ElementRef, EventEmitter, forwardRef, Input, Output, ViewChild, ChangeDetectionStrategy } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'app-ui-textarea',\n  templateUrl: './textarea.component.html',\n  styleUrls: ['./textarea.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TextareaComponent),\n      multi: true,\n    },\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TextareaComponent implements ControlValueAccessor {\n  @ViewChild('input', { static: true }) private input: ElementRef;\n\n  @Output() public readonly valueChange: EventEmitter<string> = new EventEmitter<string>();\n\n  @Input() public disabled = false;\n  @Input() public placeholder = 'Напишите что-нибудь...';\n  @Input() public focus = false;\n\n  @Input() public set value(value: string) {\n    this.innerValue = value;\n    this.input.nativeElement.innerText = value;\n  }\n\n  public get value(): string {\n    return this.innerValue;\n  }\n\n  private onTouchedCallback: () => void;\n  private onChangeCallback: (value: string) => void;\n\n  public innerValue = '';\n\n  constructor() { }\n\n  public registerOnChange(fn: (value: any) => void): void {\n    this.onChangeCallback = fn;\n  }\n\n  public registerOnTouched(fn: () => void): void {\n    this.onTouchedCallback = fn;\n  }\n\n  public setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  public writeValue(value: string): void {\n    if (value !== this.innerValue) {\n      this.innerValue = value;\n      this.input.nativeElement.innerText = value;\n    }\n  }\n\n  public touched(): void {\n    this.focus = true;\n    if (this.onTouchedCallback) {\n      this.onTouchedCallback();\n    }\n  }\n\n  public change(): void {\n    this.innerValue = this.input.nativeElement.innerText;\n\n    this.valueChange.emit(this.innerValue);\n    if (this.onChangeCallback) {\n      this.onChangeCallback(this.innerValue);\n    }\n  }\n\n  public normalize(): void {\n    this.focus = false;\n    this.input.nativeElement.innerText = this.innerValue;\n  }\n}\n","<div class=\"body-2\" [contentEditable]=\"!disabled\" #input (focus)=\"touched()\" (focusout)=\"normalize()\" (input)=\"change()\" [attr.placeholder]=\"placeholder\"></div>\n","import { Injectable } from '@angular/core';\nimport { CanActivate, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { SessionService } from '@app/services/session.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthGuard implements CanActivate {\n  constructor(\n    private readonly session: SessionService,\n  ) {}\n\n  canActivate(): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    return this.session.user$.pipe(\n      map((user: IUserViewFull) => user !== null)\n    );\n  }\n}\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'app-ui-label',\n  templateUrl: './label.component.html',\n  styleUrls: ['./label.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class UiLabelComponent {\n  @Input() public error = false;\n  @Input() public heading = false;\n  @Input() public normal = false;\n\n  constructor() {}\n}\n","<label class=\"ui-label caption\" [class.error]=\"error\" [class.heading]=\"heading\" [class.normal]=\"normal\">\n    <ng-content></ng-content>\n</label>\n","/* (ignored) */","import { Pipe, PipeTransform } from '@angular/core';\nimport { IUserViewBase } from '@api/schemas/user/user-view-base.interface';\n\n@Pipe({\n  name: 'personNameShort',\n})\nexport class PersonNameShortPipe implements PipeTransform {\n  transform(value: { firstName: string; lastName: string; company?: IUserViewBase['info']['company'] }): string {\n    let result: string;\n    if (value.company && value.company.isCompany && value.company.confirmed) {\n      result = value.company.name ? `${ value.company.name }` : '';\n    } else {\n      result = `${ value.firstName } ${ value.lastName[0] }.`;\n    }\n    return result;\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'unsafeUrl',\n})\nexport class UnsafeUrlPipe implements PipeTransform {\n  constructor(private readonly domSanitizer: DomSanitizer) {}\n\n  transform(value: string): any {\n    return this.domSanitizer.bypassSecurityTrustResourceUrl(value);\n  }\n}\n","import { Validators, ValidationErrors, FormGroup, FormControl, AbstractControl } from '@angular/forms';\n\nexport const LOGIN_FORM: any = {\n  loginForm: new FormGroup({\n    subject: new FormControl(''),\n    password: new FormControl(''),\n    remember: new FormControl(true),\n  }),\n\n  recoveryForm: new FormGroup({\n    email: new FormControl('', [Validators.email]),\n  }),\n\n  registerForm: new FormGroup(\n    {\n      name: new FormControl(\n        '',\n        (control: AbstractControl): ValidationErrors => control.value && !/^[a-я]{2,12} [a-я]{2,12}$/i.test(control.value)\n          ? { wrongFormat: true }\n          : null\n      ),\n      username: new FormControl(\n        '',\n        (control: AbstractControl): ValidationErrors => control.value && !/^((?!^id\\d))\\w{3,26}$/.test(control.value)\n          ? { noMatch: true }\n          : null\n      ),\n      email: new FormControl('', [Validators.email]),\n      password: new FormControl(''),\n      passwordRepeat: new FormControl(''),\n    },\n    {\n      validators: (group: FormGroup): ValidationErrors => group.controls.password.value !== group.controls.passwordRepeat.value\n        ? { mismatch: true }\n        : null\n    },\n  )\n};\n","import { Injectable } from '@angular/core';\nimport { BaseStatus } from '@api/classes/base-status/base-status.class';\nimport { ApiService } from '@api/services/api.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { IEventView } from '@api/schemas/event/event-view.interface';\nimport { IEventQuery } from '@api/schemas/event/event-query.interface';\nimport { IEventPatch } from '@api/schemas/event/patch.interface';\nimport { BaseStatusActionEnum } from '@api/classes/base-status/base-status-action.enum';\nimport { IEventViewFull } from '@api/schemas/event/event-view-full.interface';\nimport { Store } from '@ngxs/store';\n\nconst CONTROLLER_ENDPOINT = 'events';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class EventsService extends BaseStatus {\n  constructor(\n    protected readonly apiService: ApiService,\n    protected readonly store: Store\n  ) {\n    super(apiService, CONTROLLER_ENDPOINT, store);\n  }\n\n  public get$(page: number = 0, query: IEventQuery = {}): Observable<IPageResponse<IEventView>> {\n    return this.apiService.get$<IPageResponse<IEventView>>(CONTROLLER_ENDPOINT, true, { ...query, page });\n  }\n\n  public count$(query: Omit<IEventQuery, 'page'> = {}): Observable<{ count: number }> {\n    return this.apiService.get$<{ count: number }>(CONTROLLER_ENDPOINT, true, query);\n  }\n\n  public getSingle$(id: number): Observable<IEventViewFull> {\n    return this.apiService.get$<IEventViewFull>(`${ CONTROLLER_ENDPOINT }/${ id }`, true);\n  }\n\n  public getBookmarked$(userId: number, page: number): Observable<IPageResponse<IEventView>> {\n    return this.apiService.get$<IPageResponse<IEventView>>(`${ CONTROLLER_ENDPOINT }/${ userId }/bookmarks`, false, { page });\n  }\n\n  public create$(): Observable<number> {\n    return this.apiService.post$<{ id: number }>(CONTROLLER_ENDPOINT).pipe(map((_: { id: number }) => _.id));\n  }\n\n  public patch$(id: number, patch: IEventPatch): Observable<IEventViewFull> {\n    return this.apiService.patch$<IEventViewFull>(`${ CONTROLLER_ENDPOINT }/${ id }`, patch);\n  }\n\n  public setSource$(id: number, source: string): Observable<{ html: string }> {\n    return this.apiService.put$<{ html: string }>(`${ CONTROLLER_ENDPOINT }/${ id }/source`, { source });\n  }\n\n  public getSource$(id: number): Observable<{ source: string }> {\n    return this.apiService.get$<{ source: string }>(`${ CONTROLLER_ENDPOINT }/${ id }/source`);\n  }\n\n  public delete$(id: number): Observable<never> {\n    return this.apiService.delete$(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public submit$(id: number): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.SUBMIT);\n  }\n\n  public publish$(id: number): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.PUBLISH);\n  }\n\n  public withdraw$(id: number): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.PUBLISH, true);\n  }\n}\n","import { Component, EventEmitter, Input, Output, OnDestroy } from '@angular/core';\nimport { ShowcasesService } from '@api/routes/showcases.service';\nimport { IEventView } from '@api/schemas/event/event-view.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { switchMap, takeUntil } from 'rxjs/operators';\nimport { EventsService } from '@api/routes/events.service';\nimport { ICreatedObject } from '@api/schemas/object/created-object.interface';\nimport { PublicationStageEnum } from '@api/schemas/article/publication-stage.enum';\nimport { ReportEntityTypeEnum } from '@api/schemas/report/report-entity-type.enum';\n\n@Component({\n  selector: 'app-action-menu-event',\n  templateUrl: './action-menu-event.component.html',\n  styleUrls: ['./action-menu-event.component.scss'],\n})\nexport class ActionMenuEventComponent extends AbstractComponent implements OnDestroy {\n  @Input() public data: IEventView;\n  @Input() public own: boolean;\n\n  @Output() public readonly gone: EventEmitter<IEventView> = new EventEmitter<IEventView>();\n\n  public readonly publicationStageEnum: typeof PublicationStageEnum = PublicationStageEnum;\n  public readonly reportEntityTypeEnum: typeof ReportEntityTypeEnum = ReportEntityTypeEnum;\n\n  constructor(\n    private readonly eventsService: EventsService,\n    private readonly showcasesService: ShowcasesService\n  ) { super(); }\n\n  public delete(): void {\n    const d = this.data;\n    this.eventsService.delete$(d.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => this.gone.next(d));\n  }\n\n  public showcase(): void {\n    this.eventsService.showcase$(this.data.meta.id).pipe(\n      switchMap((_: ICreatedObject) => this.showcasesService.navigate$(_)),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe();\n  }\n\n  public hide(): void {\n    const d = this.data;\n    this.eventsService.hide$(d.meta.id, d.hidden).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      d.hidden = !d.hidden;\n      if (d.hidden) { this.gone.next(d); }\n    });\n  }\n\n  public publish(): void {\n    this.eventsService.publish$(this.data.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.data.info.publicationStage = PublicationStageEnum.PUBLISHED;\n    });\n  }\n\n  public withdraw(): void {\n    this.eventsService.withdraw$(this.data.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.data.info.publicationStage = PublicationStageEnum.DRAFT;\n    });\n  }\n}\n","<app-ui-dots-menu>\n    <app-ui-dots-menu-item *ngIf=\"!own\" icon=\"do-not-show\" text=\"{{ 'COMMON.REMOVE_FROM_NEWSFEED'  | translate}}\" (click)=\"hide()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *ngIf=\"!own\" icon=\"report\" text=\"{{ 'COMMON.TO_FILE_A_COMPLAINT'  | translate}}\" appReport\n                           [object]=\"{ type: reportEntityTypeEnum.EVENT, id: data.meta.id }\" (report)=\"gone.next(data); hide()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or own; and data.info.publicationStage !== publicationStageEnum.PUBLISHED\" icon=\"globe\"\n                           text=\"{{ 'COMMON.PUBLISH'  | translate}}\" (click)=\"publish()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or own; and data.info.publicationStage === publicationStageEnum.PUBLISHED\" icon=\"edit\"\n                           [text]=\"'COMMON.TO_DRAFTS' | translate\" (click)=\"withdraw()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or own\" icon=\"edit\" text=\"{{ 'COMMON.EDIT'  | translate}}\"\n                           [routerLink]=\"['/events', data.meta.id, 'edit']\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or own\" icon=\"report\" text=\"{{ 'COMMON.REMOVE'  | translate}}\" (click)=\"delete()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\" icon=\"star\" text=\"{{ 'COMMON.PLACE_AT_DISPLAY_WINDOW'  | translate}}\" (click)=\"showcase()\"></app-ui-dots-menu-item>\n</app-ui-dots-menu>\n","import { Injectable } from '@angular/core';\nimport { UploadService } from '@api/routes/upload.service';\nimport { Subject, from, merge, Observable } from 'rxjs';\nimport { switchMap, map, catchError, first } from 'rxjs/operators';\nimport { IUploadImageResponse } from '@api/schemas/image/upload-image-response.interface';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WysiwygEditorService {\n  constructor(private readonly uploadService: UploadService) { }\n\n  public createCkUploadAdapter(loader: any): {} {\n    const cancelled$: Subject<any> = new Subject<any>();\n    return {\n      upload: () => {\n        const file$: Observable<File> = from(loader.file as Promise<File>);\n        return merge(cancelled$, file$)\n          .pipe(\n            switchMap((file: File) => {\n              return this.uploadService.uploadImage$(file);\n            }),\n            map((response: IUploadImageResponse) => ({ default: response.url })),\n            catchError((err: Error) => {\n              throw err.message || 'Error';\n            }),\n            first(),\n          )\n          .toPromise();\n      },\n      abort: () => cancelled$.error(new Error('Cancelled')),\n    };\n  }\n}\n","import { Component, EmbeddedViewRef, OnInit, TemplateRef, ViewChild, ViewContainerRef, OnDestroy } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { PlatformService } from '@shared/services/platform.service';\n\n@Component({\n  selector: 'app-more-menu-wrapper',\n  templateUrl: './more-menu-wrapper.component.html',\n  styleUrls: ['./more-menu-wrapper.component.scss'],\n})\nexport class MoreMenuWrapperComponent extends AbstractComponent implements OnInit, OnDestroy {\n  @ViewChild('ref', { read: ViewContainerRef, static: true }) public containerRef: ViewContainerRef;\n\n  private current: EmbeddedViewRef<any>;\n\n  public shown = false;\n\n  constructor(public readonly viewRef: ViewContainerRef, public readonly platformService: PlatformService) { super(); }\n\n  ngOnInit(): void {\n    if (this.platformService.isBrowser) {\n      fromEvent(document, 'click', { capture: true })\n        .pipe(\n          filter(() => this.shown),\n          takeUntil(this.ngOnDestroy$)\n        ).subscribe((e: FocusEvent) => {\n        if (!this.viewRef.element.nativeElement.contains(e.target)) {\n          this.close();\n          e.stopPropagation();\n        }\n      });\n    }\n  }\n\n  public close(): void {\n    this.shown = false;\n    if (this.current != null) {\n      this.current.destroy();\n      this.current = null;\n    }\n  }\n\n  public open(ref: TemplateRef<any>, event: MouseEvent): void {\n    this.close();\n    this.current = this.containerRef.createEmbeddedView(ref);\n    this.current.detectChanges();\n    this.shown = true;\n\n    const el = this.viewRef.element.nativeElement;\n    const rect = (event.target as HTMLElement).getBoundingClientRect();\n    el.style.left = `${rect.left + rect.width}px`;\n    el.style.top = `${rect.top + rect.height - 16}px`;\n  }\n}\n","<div [class.hidden]=\"!shown\">\n    <div class=\"dropdown\" style=\"z-index: 5;\" tabindex=\"-1\">\n        <div class=\"structural fade-2\">\n            <div #ref></div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { LoginService } from '@app/services/login.service';\nimport { takeUntil, switchMap } from 'rxjs/operators';\nimport { AuthService } from '@api/routes/auth.service';\nimport { WRONG_SUBJECT_ERROR, WRONG_PASSWORD_ERROR } from '@api/constants/errors.const';\nimport { IAuthError } from '@api/interfaces/auth-error.interface';\nimport { FormBuilder } from '@angular/forms';\nimport { SocialLoginService } from '@layout/shared/services/social-login/social-login.service';\nimport { LoginSocialConnectService } from '@layout/shared/services/login-social-connect.service';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login-social-connect',\n  templateUrl: './login-social-connect.component.html',\n  styleUrls: ['./login-social-connect.component.scss']\n})\nexport class LoginSocialConnectComponent extends AbstractComponent implements OnInit, OnDestroy {\n  public readonly loginForm = this.fb.group({\n    subject: this.fb.control(''),\n    password: this.fb.control(''),\n    remember: this.fb.control(''),\n  });\n\n  public shown = false;\n  public showConnect = false;\n\n  constructor(\n    private readonly socialLoginService: SocialLoginService,\n    private readonly loginSocialConnectService: LoginSocialConnectService,\n    private readonly authService: AuthService,\n    private readonly loginService: LoginService,\n    private readonly fb: FormBuilder,\n    private readonly router: Router\n  ) { super(); }\n\n  ngOnInit(): void {\n    this.loginSocialConnectService.component = this;\n  }\n\n  public cancel(event: MouseEvent): void {\n    if (event.target === event.currentTarget) {\n      this.shown = false;\n    }\n  }\n\n  public onSubmitLogin(): void {\n    const value = this.loginForm.value;\n    this.authService\n      .login$(value.subject, value.password)\n      .pipe(\n        switchMap((tokens: IApiTokens) => this.loginService.login$(tokens)),\n        switchMap(() => this.loginSocialConnectService.connect$()),\n        takeUntil(this.ngOnDestroy$)\n      )\n      .subscribe(\n        () => {\n          this.shown = false;\n          this.router.navigate(['/all']);\n        },\n        (error: IAuthError) => {\n          switch (error.cause) {\n            case WRONG_SUBJECT_ERROR:\n              this.loginForm.controls.subject.setErrors({ wrongSubject: true });\n              break;\n            case WRONG_PASSWORD_ERROR:\n              this.loginForm.controls.password.setErrors({ wrongPassword: true });\n              break;\n            default:\n              this.loginForm.setErrors({ backend: true });\n              break;\n          }\n        },\n      );\n  }\n\n  public connectGoogle(): void {\n    this.socialLoginService\n      .getGoogle$()\n      .pipe(\n        switchMap((body: any) => this.loginSocialConnectService.login$('google', body)),\n        switchMap(() => this.loginSocialConnectService.connect$()),\n        takeUntil(this.ngOnDestroy$)\n      )\n      .subscribe(() => { this.shown = false; this.router.navigate(['/all']); });\n  }\n\n  public connectFacebook(): void {\n    this.socialLoginService\n      .getFacebook$()\n      .pipe(\n        switchMap((body: any) => this.loginSocialConnectService.login$('facebook', body)),\n        switchMap(() => this.loginSocialConnectService.connect$()),\n        takeUntil(this.ngOnDestroy$)\n      )\n      .subscribe(() => { this.shown = false; this.router.navigate(['/all']); });\n  }\n\n  public connectVk(): void {\n    this.socialLoginService\n      .getVk$()\n      .pipe(\n        switchMap((body: any) => this.loginSocialConnectService.login$('vk', body)),\n        switchMap(() => this.loginSocialConnectService.connect$()),\n        takeUntil(this.ngOnDestroy$)\n      )\n      .subscribe(() => { this.shown = false; this.router.navigate(['/all']); });\n  }\n\n  public connectTg(): void {\n    this.socialLoginService\n      .getTg$()\n      .pipe(\n        switchMap((body: any) => this.loginSocialConnectService.login$('tg', body)),\n        switchMap(() => this.loginSocialConnectService.connect$()),\n        takeUntil(this.ngOnDestroy$)\n      )\n      .subscribe(() => { this.shown = false; this.router.navigate(['/all']); });\n  }\n\n  public register(): void {\n    this.loginSocialConnectService.register$().pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: IUserView) => {\n      this.shown = false;\n      this.router.navigate(['/all']);\n    });\n  }\n}\n","<div *ngIf=\"shown\" class=\"root\" (click)=\"cancel($event)\">\n    <div class=\"card\">\n        <ng-container *ngIf=\"showConnect\" [ngTemplateOutlet]=\"connect\"></ng-container>\n        <ng-container *ngIf=\"!showConnect\" [ngTemplateOutlet]=\"choose\"></ng-container>\n    </div>\n</div>\n\n<ng-template #choose>\n    <h3 class=\"c-primary margin-bottom-30 text-center\">Вы первый раз на сайте?</h3>\n    <button class=\"css-block button-1 c-primary margin-bottom-20\" (click)=\"register()\">{{ 'COMMON.CREATE_AN_ACCOUNT' | translate }}</button>\n    <button class=\"css-block button-1 c-primary\" (click)=\"showConnect = true\">Привязать существующий</button>\n</ng-template>\n\n<ng-template #connect>\n    <h3 class=\"c-primary margin-bottom-30 text-center\">Привязать аккаунт</h3>\n    <h5 class=\"fade-1 margin-bottom-20\">\n        После того как вы привяжете аккаунт, вы сможете входить в него через эту социальную сеть.\n    </h5>\n    <h6 class=\"fade-2 margin-bottom-10\">Войдите в существующий аккаунт</h6>\n    <ng-container [ngTemplateOutlet]=\"login\"></ng-container>\n</ng-template>\n\n<ng-template #login>\n    <ng-container [ngTemplateOutlet]=\"fastLogin\"></ng-container>\n    <form [formGroup]=\"loginForm\" (submit)=\"onSubmitLogin()\">\n        <div class=\"input-group\" [ngClass]=\"{ 'error': loginForm.controls['subject'].invalid }\">\n            <label class=\"caption\">\n                {{ loginForm.controls['subject'].errors?.wrongSubject ? 'Неверная почта или имя пользователя' : 'COMMON.EMAIL_OR_NAME' | translate }}\n            </label>\n            <div class=\"v-center\">\n                <input type=\"text\" formControlName=\"subject\" minlength=\"3\">\n                <svg name=\"mail\" class=\"f-gray\"></svg>\n            </div>\n        </div>\n        <div class=\"input-group\" [ngClass]=\"{ 'error': loginForm.controls['password'].invalid }\">\n            <label class=\"caption\">\n                {{ loginForm.controls['password'].errors?.wrongPassword ? 'Неверный пароль' : 'COMMON.PASSWORD' | translate }}\n            </label>\n            <div class=\"v-center\">\n                <input type=\"password\" formControlName=\"password\" minlength=\"8\" maxlength=\"128\">\n                <svg name=\"lock\" class=\"f-gray\"></svg>\n            </div>\n        </div>\n        <div class=\"remember-me-container body-3\">\n            <div>\n                <label class=\"control control-checkbox\">\n                  {{ 'COMMON.REMEMBER_ME' | translate }}\n                    <input id=\"input-login-remember-me\" type=\"checkbox\" checked=\"checked\" formControlName=\"remember\">\n                    <div class=\"control_indicator\"></div>\n                </label>\n            </div>\n            <div class=\"not-allowed\">\n                <span>{{ 'COMMON.FORGET_YOUR_PASSWORD' | translate }}</span>\n            </div>\n        </div>\n        <div class=\"input-submit\">\n            <button id=\"input-login-submit\" type=\"submit\" class=\"button-1\" [disabled]=\"!loginForm.valid || loginForm.pristine\">\n                {{ 'COMMON.LOGIN' | translate }}\n            </button>\n        </div>\n    </form>\n    <div class=\"privacy\">\n        <span class=\"caption c-caption\">Авторизуясь, вы соглашаетесь с <a href=\"/terms\">правилами пользования сайтом</a> и даете согласие на обработку персональных данных.</span>\n    </div>\n</ng-template>\n\n<ng-template #fastLogin>\n    <div class=\"caption center-lines\">\n        {{ 'COMMON.FAST_LOGIN' | translate }}\n    </div>\n    <div class=\"social-login-buttons button-2\">\n        <div class=\"sl-vk\" (click)=\"connectVk()\">\n            <svg name=\"social/simple/vk\"></svg>\n            <span>{{'COMMON.LOGIN_VIA' | translate }} VKontakte</span>\n        </div>\n        <div class=\"sl-tg\" (click)=\"connectTg()\">\n            <svg name=\"social/simple/tg\"></svg>\n            <span>{{ 'COMMON.LOGIN_VIA' | translate }} Telegram</span>\n        </div>\n        <div class=\"register c-primary button-1\" (click)=\"register()\">\n            <span>Новый аккаунт</span>\n        </div>\n    </div>\n</ng-template>\n","import { IUserStatsState } from '../interfaces/user-stats-state.interface';\n\nexport const USER_STATS_STATE: IUserStatsState = {\n    topics: null,\n    authors: null,\n    companies: null,\n    promoted: null,\n    posts: null,\n    drafts: null,\n    comments: null\n};\n","import { ICommentViewArticle } from '@api/schemas/comment/comment-view-article.interface';\n\nexport function orderByScore(a: ICommentViewArticle, b: ICommentViewArticle): number {\n    const as: number = a.meta.deletedAt ? -Infinity : a.votes.up - a.votes.down;\n    const bs: number = b.meta.deletedAt ? -Infinity : b.votes.up - b.votes.down;\n    if (as > bs) { return -1; }\n    if (bs > as) { return 1; }\n    return 0;\n}\n","export const ROLES = {\n    USER: 'ROLE_USER',\n    SALES: 'ROLE_SALES',\n    CHIEF_EDITOR: 'ROLE_CHIEF_EDITOR',\n    SUPERUSER: 'ROLE_SUPERUSER',\n\n    EDITOR$: ['ROLE_CHIEF_EDITOR', 'ROLE_SUPERUSER'],\n    PRIV_USER$: ['ROLE_PRIVILEGED_USER', 'ROLE_CHIEF_EDITOR', 'ROLE_SUPERUSER']\n};\n","import { Subject } from 'rxjs';\nimport { Component, OnDestroy } from '@angular/core';\n\n@Component({\n  template: ''\n})\nexport abstract class AbstractComponent implements OnDestroy {\n  protected readonly ngOnDestroy$: Subject<void> = new Subject<void>();\n\n  ngOnDestroy(): void {\n    this.ngOnDestroy$.next();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/services/api.service';\nimport { IActivityView } from '@api/schemas/dashboard/activity-view.interface';\nimport { Observable } from 'rxjs';\nimport { IEventsJobsControl } from '@api/schemas/dashboard/events-jobs-control.interface';\nimport { IRatingData } from '@api/schemas/dashboard/ratings-data.interface';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { IUserWithRoleShort } from '@api/schemas/dashboard/user-with-role-short.interface';\nimport { map } from 'rxjs/operators';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { ITagDashboardView } from '@api/schemas/dashboard/tag-dashboard-view.interface';\nimport { ITagsStatistic } from '@api/schemas/dashboard/tags-statistics.interface';\nimport { IUploadImageResponse } from '@api/schemas/image/upload-image-response.interface';\nimport { fileToFormData } from '@api/functions/file-to-formdata.function';\nimport { IPreviewManagementUpdate } from '@api/schemas/dashboard/preview-management-update.interface';\nimport { IPreviewManagementView } from '@api/schemas/dashboard/preview-management-view.interface';\n\nconst CONTROLLER_ENDPOINT = 'administration';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdministrationService {\n  constructor(private readonly api: ApiService) { }\n\n  public getActivity$(before?: number, after?: number): Observable<IActivityView> {\n    return this.api.get$<IActivityView>(`${ CONTROLLER_ENDPOINT }/users/stats${ before ? '?before=' + before + (after ? '&after=' + after : '') : after ? '?after=' + after : '' }`);\n  }\n\n  public getEventsJobs$(): Observable<IEventsJobsControl> {\n    return this.api.get$<IEventsJobsControl>(`${ CONTROLLER_ENDPOINT }/events`, true);\n  }\n\n  public postEventsJobs$(body: IEventsJobsControl): Observable<never> {\n    return this.api.post$(`${ CONTROLLER_ENDPOINT }/events`, body);\n  }\n\n  public getRatings$(): Observable<IRatingData> {\n    return this.api.get$<IRatingData>(`${ CONTROLLER_ENDPOINT }/ranking`);\n  }\n\n  public postRatings$(body: IRatingData): Observable<never> {\n    return this.api.post$(`${ CONTROLLER_ENDPOINT }/ranking`, body);\n  }\n\n  public getTags$(page: number = 0, query?: string): Observable<IPageResponse<ITagDashboardView>> {\n    return this.api.get$<IPageResponse<ITagDashboardView>>(`${ CONTROLLER_ENDPOINT }/tags?page=${ page }${ query ? '&' + query : '' }`);\n  }\n\n  public getStats$(before?: number, after?: number): Observable<ITagsStatistic> {\n    return this.api.get$<ITagsStatistic>(`${ CONTROLLER_ENDPOINT }/tags/stats${ before ? '?before=' + before + (after ? '&after=' + after : '') : after ? '?after=' + after : '' }`);\n  }\n\n  public putPreviewCover$(file: File): Observable<IUploadImageResponse> {\n    return this.api.put$<IUploadImageResponse>(`${ CONTROLLER_ENDPOINT }/preview/url/default/cover`, fileToFormData(file));\n  }\n\n  public putPreviewContent$(body: IPreviewManagementUpdate): Observable<IPreviewManagementView> {\n    return this.api.put$<IPreviewManagementView>(`${ CONTROLLER_ENDPOINT }/preview/url/default/content`, body);\n  }\n\n  public getPreview$(): Observable<IPreviewManagementView> {\n    return this.api.get$<IPreviewManagementView>(`${ CONTROLLER_ENDPOINT }/preview/get/url/default`, true);\n  }\n\n  public getUsersByRoleWithQuery$(page: number, role: string, query?: string): Observable<IPageResponse<IUserWithRoleShort>> {\n    return this.api.get$<IPageResponse<IUserWithRoleShort>>(`${ CONTROLLER_ENDPOINT }/users?role=${ role }&page=${ page }${ query ? '&' + query : '' }`).pipe(\n      map((res: IPageResponse<IUserView> | any) => {\n        const content: IUserWithRoleShort[] = [];\n        res.content.forEach((element: any) => {\n          content.push({\n            id: element.meta.id,\n            roles: element.roles,\n            name: element.info.company.isCompany ? element.info.company.name : element.info.firstName + ' ' + element.info.lastName,\n            icon: element.info.picture,\n            rating: element.rating,\n            publicationCount: element.postCount,\n            subscribers: element.subscribers.count,\n          });\n        });\n\n        return {\n          page: res.page,\n          total: res.total,\n          totalPages: res.totalPages,\n          content,\n        };\n      }),\n    );\n  }\n}\n","interface INotificationType {\n    icon: string;\n    name: string;\n}\nconst ALERT: INotificationType = {\n    icon: 'bell',\n    name: 'COMMON.NOTIFICATION',\n};\nconst COMMENT: INotificationType = {\n    icon: 'messages',\n    name: 'COMMON.COMMENTS__',\n};\nconst MESSAGE: INotificationType = {\n    icon: 'comment',\n    name: 'COMMON.MESSAGE',\n};\nconst POST: INotificationType = {\n    icon: 'edit',\n    name: 'COMMON.PUBLICATION',\n};\n\nexport const TYPE_MAP: { [type: string]: { type: INotificationType; message: string; custom?: boolean } } = {\n    new_subscriber: { type: ALERT, message: 'COMMON.NEW_SUBSCRIBER' },\n    content_report: { type: ALERT, message: 'COMMON.A_COMPLIANT_FROM_USER', custom: true },\n    bookmark_comment: { type: COMMENT, message: 'COMMON.NEW_COMMENT_FROM_BOOKMARK' },\n    post_comment: { type: COMMENT, message: 'COMMON.NEW_COMMENT_PUBLICATION' },\n    comment_mention: { type: COMMENT, message: 'COMMON.NEW_MEANING' },\n    comment_reply: { type: COMMENT, message: 'COMMON.NEW_REPLY_COMMENT' },\n    watched_comment_reply: { type: COMMENT, message: 'COMMON.NEW_REPLY_COMMENT_' },\n    post_submitted: {type: POST, message: 'COMMON.USER_SENT_MODERATION'},\n    mod_post_blocked: {\n        type: ALERT,\n        message: 'COMMON.POST_BLOCKED_ALERT'\n    },\n    post_reviewing: { type: POST, message: 'COMMON.PUBLICATION_MODERATING'},\n    post_drafted: { type: POST, message: 'COMMON.PUBLICATION_MODERATING_FAILED'},\n    account_banned: { type: MESSAGE, message: 'COMMON.YOUR_PROFILE_BANNED', custom: true },\n    account_unbanned: { type: MESSAGE, message: 'COMMON.HURRAY_FUNCTIONALITY', custom: true },\n    mod_post_unblocked: { type: POST, message: 'COMMON.PUBLICATION_UNBLOCKED' },\n    mod_post_published: { type: POST, message: 'COMMON.PUBLICATION_PUBLISHED_' },\n    mod_post_withdrawn: {\n        type: ALERT,\n        message: 'COMMON.PUBLICATION_DRAFTED_'\n    },\n    post_deleted: { type: POST, message: 'COMMON.THE_PUBLICATION_WAS_DELETED' },\n    mod_post_deleted: { type: ALERT, message: 'COMMON.PUBLICATION_DELETED_' },\n    editor_message: { type: POST, message: 'COMMON.EDITOR_MESSAGE' }\n};\n","export enum ApiMethodEnum {\n    POST = 'POST',\n    GET = 'GET',\n    PATCH = 'PATCH',\n    PUT = 'PUT',\n    DELETE = 'DELETE'\n}\n","import { Component, OnInit } from '@angular/core';\nimport { IArticleView } from '@api/schemas/article/article-view.interface';\nimport { FeedService } from '@api/routes/feed.service';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { Observable } from 'rxjs';\nimport { ExpandBoxTemplateEnum } from '@shared/ui/expand-box/expand-box-template.enum';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ViewportScroller } from '@angular/common';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-trending-sidebar',\n  templateUrl: './trending-sidebar.component.html',\n  styleUrls: ['./trending-sidebar.component.scss']\n})\nexport class TrendingSidebarComponent extends AbstractComponent implements OnInit {\n  public readonly expandBoxTemplateEnum: typeof ExpandBoxTemplateEnum = ExpandBoxTemplateEnum;\n\n  public news: IArticleView[] = [];\n  public discussed: IArticleView[] = [];\n  public todayReading: IArticleView[] = [];\n\n  constructor(\n    private readonly feedService: FeedService,\n    private readonly router: Router,\n    private readonly viewportScroller: ViewportScroller,\n    public readonly translate: TranslateService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    const news$: Observable<IPageResponse<IArticleView>> = this.feedService.news$().pipe(takeUntil(this.ngOnDestroy$));\n    const discussed$: Observable<IPageResponse<IArticleView>> = this.feedService.discussed$().pipe(takeUntil(this.ngOnDestroy$));\n    const viewed$: Observable<IPageResponse<IArticleView>> = this.feedService.viewed$().pipe(takeUntil(this.ngOnDestroy$));\n\n    this.getNews(news$, 'news');\n    this.getNews(discussed$, 'discussed');\n    this.getNews(viewed$, 'viewed');\n  }\n\n  private getNews(news$: Observable<IPageResponse<IArticleView>>, type: string): void {\n    news$.subscribe((r: IPageResponse<IArticleView>) => {\n      const res: IArticleView[] = r.content.map((item: IArticleView) => ({\n        ...item,\n        info: {\n          ...item.info,\n          title: item.info.title || (type === 'news' ? this.translate.instant('COMMON.NEWS_NAME') : this.translate.instant('COMMON.POST_NAME')),\n        },\n      }));\n      switch (type) {\n        case 'news':\n          this.news = res;\n          break;\n        case 'discussed':\n          this.discussed = res;\n          break;\n        case 'viewed':\n          this.todayReading = res;\n          break;\n      }\n    });\n  }\n\n  public changeLang(lang: string): void {\n    this.translate.use(lang).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      location.reload();\n    });\n  }\n\n  public scrollToTopAndNavigate(): void {\n    this.router.navigateByUrl('/all');\n    this.viewportScroller.scrollToPosition([0, 0]);\n  }\n}\n","<ul class=\"structural sidebar-list\">\n    <li class=\"side-list bg-grey\">\n        <app-ui-expand-box [templateType]=\"expandBoxTemplateEnum.NEWS\" [data]=\"news\">\n            <svg name=\"news\"></svg>\n            <span>{{ 'COMMON.NEWS'  | translate}}</span>\n        </app-ui-expand-box>\n    </li>\n    <li class=\"side-list\">\n        <app-ui-expand-box [templateType]=\"expandBoxTemplateEnum.DISCUSSION\" [data]=\"discussed\">\n            <svg name=\"comment\"></svg>\n            <span>{{ 'COMMON.THE_MOST_DISSCUSSED'  | translate}}</span>\n        </app-ui-expand-box>\n    </li>\n    <li class=\"side-list\">\n        <app-ui-expand-box [templateType]=\"expandBoxTemplateEnum.TODAY\" [data]=\"todayReading\">\n            <svg name=\"view\"></svg>\n            <span>{{ 'COMMON.THE_MOSTLY_VIEWED_TODAY'  | translate}}</span>\n        </app-ui-expand-box>\n    </li>\n    <li class=\"social-presence\">\n        <div class=\"subtitle-2 fade-2\">{{ 'COMMON.FOLLOW_THE_NEWS'  | translate}}</div>\n        <div class=\"icons\">\n            <a href=\"https://twitter.com/diskursmedia\" target=\"_blank\"><svg size=\"35\" name=\"social/twitter\"></svg></a>\n            <a href=\"https://vk.com/diskursmedia\" target=\"_blank\"><svg size=\"35\" name=\"social/vk\"></svg></a>\n            <a href=\"https://www.youtube.com/channel/UC0sVeZ5NVvdvbuQNwYBN6eA\" target=\"_blank\"><svg size=\"35\" name=\"social/yt\"></svg></a>\n            <a href=\"https://t.me/diskursmedia\" target=\"_blank\"><img src=\"assets/icons/uncorrect/telegram.png\" style =\"width: 35px; height: 35px;\" alt=\"\"></a>\n        </div>\n    </li>\n    <li>\n        <nav class=\"sidebar-footer-nav\">\n            <ul>\n                <li><a [routerLink]=\"['/news/10']\">{{ 'COMMON.ABOUT_THE_RECOURCE'  | translate}}</a></li>\n                <li><a [routerLink]=\"['/news/12']\">{{ 'COMMON.COMPANYS_BLOG'  | translate}}</a></li>\n                <li><a [routerLink]=\"['/company/Diskurs/info']\">{{ 'COMMON.EDITORIAL'  | translate}}</a></li>\n                <li><a [routerLink]=\"['/news/15']\">{{ 'COMMON.YOUR_SUGGESTIONS'  | translate}}</a></li>\n                <li><a [routerLink]=\"['/news/11']\">{{ 'COMMON.RULES' | translate }}</a></li>\n                <li>\n                    <span>{{ 'COMMON.LANGUAGE'  | translate}}</span>\n                    <div class=\"lang\">\n                        <div class=\"lang__active\">\n                            <div class=\"lang__flag\"><img [src]=\"translate.currentLang === 'ru' ? 'assets/icons/ru.svg' : 'assets/icons/en.svg'\" alt=\"Selected\"></div>\n                        </div>\n                        <div class=\"lang__hide\">\n                            <ul class=\"lang__list\">\n                                <li class=\"lang__item\" style=\"cursor: pointer;\" (click)=\"changeLang('ru')\">\n                                    <div class=\"lang__flag\"><img src=\"assets/icons/ru.svg\" alt=\"Ru\"></div>\n                                    <div class=\"lang__txt\" lang=\"ru\">Рус</div>\n                                </li>\n                                <li class=\"lang__item\" style=\"cursor: pointer;\" (click)=\"changeLang('en')\">\n                                    <div class=\"lang__flag\"><img src=\"assets/icons/en.svg\" alt=\"En\"></div>\n                                    <div class=\"lang__txt\" lang=\"ru\">En</div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </li>\n            </ul>\n        </nav>\n        <div class=\"sidebar-footer-copyright\">&copy; <a style=\"color: inherit;\" (click)=\"scrollToTopAndNavigate()\">2023 Diskurs.Media</a></div>\n    </li>\n</ul>\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserDropdownService {\n  private readonly showDropdown$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  public getShowDropdown(): Observable<boolean> {\n    return this.showDropdown$.asObservable();\n  }\n\n  public setShowDropdown(value: boolean): void {\n    if (this.showDropdown$.value !== value) {\n      this.showDropdown$.next(value);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HeaderStatsSyncService {\n  public readonly articlesCountSyncEvent$: ReplaySubject<never> = new ReplaySubject<never>(1);\n  /**\n   * @description - [item type, id, status]\n   */\n  public readonly subEvent$: ReplaySubject<['topic' | 'company', number, boolean]>\n    = new ReplaySubject<['topic' | 'company', number, boolean]>(1);\n\n  constructor() {\n    this.articlesCountSyncEvent$.next();\n  }\n}\n","import { AnyParamsType, ParamsType } from '@api/types/params.type';\nimport { HttpParams } from '@angular/common/http';\n\nexport function toAngularParams(input?: AnyParamsType): ParamsType {\n    let result: ParamsType;\n    if (!input || input instanceof HttpParams) {\n        result = input;\n    } else {\n        result = {};\n        Object.keys(input).forEach((key: string) => {\n            const value: any = input[key];\n            if (value !== undefined) {\n                if (Array.isArray(value)) {\n                    result[key] = value.map((it: any) => String(it));\n                } else {\n                    result[key] = String(value);\n                }\n            }\n        });\n    }\n    return result;\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'bigNumbers',\n})\nexport class BigNumbersPipe implements PipeTransform {\n  transform(value: number): any {\n    // tslint:disable-next-line:no-bitwise\n    return value > 999 ? (value > 999999 ? ((value / 1000000) >> 0) + ' M' : ((value / 1000) >> 0) + ' К') : value;\n  }\n}\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'app-ui-icon',\n  templateUrl: './icon.component.html',\n  styleUrls: ['./icon.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IconComponent {\n  @Input() public src?: string;\n  @Input() public textAlternative?: string;\n  @Input() public size: 'small' | 'medium' | 'large' | 'xlarge' = 'medium';\n\n  public get iconText(): string {\n    let result = '';\n    if (this.textAlternative) {\n      const words = this.textAlternative.match(/\\S+/g);\n      result = (words || []).reduce((state: string, item: string, index: number): string => index > 1 ? state : state + item[0], '');\n    }\n    return result;\n  }\n}\n","<div class=\"icon\" [ngClass]=\"{ 'small': size === 'small', 'medium': size === 'medium', 'large': size === 'large', 'xlarge': size === 'xlarge' }\">\n    <img *ngIf=\"src; else alt\" [src]=\"src\" [alt]=\"textAlternative\">\n    <ng-template #alt>\n        <span>{{ iconText }}</span>\n    </ng-template>\n</div>\n  ","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-ui-button',\n  templateUrl: './button.component.html',\n  styleUrls: ['./button.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class UiButtonComponent {\n  @Input() public secondary: boolean;\n  @Input() public type: string;\n  @Input() public disabled: boolean;\n\n  constructor() {}\n}\n","<button class=\"ui-button\"\n  type=\"{{ type }}\"\n  [ngClass]=\"{'ui-button--secondary': secondary, 'ui-button--disabled': disabled}\">\n  <ng-content></ng-content>\n</button>\n","export { SalesGuard } from './sales.guard';\nexport { SuperUserGuard } from './super-user.guard';\nexport { PersonalFeedGuard } from './personal-feed.guard';\nexport { RecoveryGuard } from './recovery.guard';\nexport { JobCreateGuard } from './jobs-create.guard';\nexport { EventCreateGuard } from './events-create.guard';\nexport { AuthGuard } from './auth.guard';\nexport { EditorGuard } from './editor.guard';\nexport { CompanyGuard } from './company.guard';\nexport { UserGuard } from './user.guard';\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { IReportObject } from './report-object.interface';\n\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ReportBlockService {\n  private readonly shown: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  private readonly reported: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  public object: IReportObject;\n\n  constructor() {}\n\n  public toggle(object?: IReportObject): void {\n    this.shown.next(!this.shown.value);\n    if (object) {\n      this.object = object;\n    }\n  }\n\n  public state$(): BehaviorSubject<boolean> {\n    return this.shown;\n  }\n\n  public reported$(): BehaviorSubject<boolean> {\n    return this.reported;\n  }\n\n  public report(): void {\n    this.reported.next(true);\n    this.reported.next(false);\n  }\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Observable, OperatorFunction, EMPTY, of, combineLatest } from 'rxjs';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ICompanyView } from '@api/schemas/company/company-view.interface';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { map, takeUntil, switchAll, switchMap, mergeMap, tap } from 'rxjs/operators';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { FeedService } from '@api/routes/feed.service';\nimport { SessionService } from '@app/services/session.service';\nimport { UsersService } from '@api/routes/users.service';\nimport { CompaniesService } from '@api/routes/companies.service';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { ITagView } from '@api/schemas/tags/tag-view.interface';\nimport { TagsService } from '@api/routes/tags.service';\nimport { TagOrderEnum } from '@api/schemas/tags/tag-order.enum';\nimport { IUnread } from '@api/schemas/feed/unread.interface';\nimport { UserOrderEnum } from '@api/schemas/user/user-order.enum';\nimport { TopicOrderEnum } from '@api/schemas/topic/topic-order.enum.interface';\nimport { IWithUnread } from './with-unread.interface';\nimport { ExpandBoxTemplateEnum } from '@shared/ui/expand-box/expand-box-template.enum';\nimport { UnreadFilterEnum } from '@api/schemas/feed/unread-filter.enum';\nimport { HeaderStatsSyncService } from '@layout/shared/services/header-stats-sync.service';\n\nconst MAX_ITEMS_COUNT = 15;\n\n@Component({\n  selector: 'app-navigation-sidebar',\n  templateUrl: './navigation-sidebar.component.html',\n  styleUrls: ['./navigation-sidebar.component.scss']\n})\nexport class NavigationSidebarComponent extends AbstractComponent implements OnDestroy, OnInit {\n  public readonly expandBoxTemplateEnum: typeof ExpandBoxTemplateEnum = ExpandBoxTemplateEnum;\n\n  public topics: ITopicView[] = [];\n  public tags$: Observable<ITagView[]>;\n  public companies: ICompanyView[] = [];\n  public authors$: Observable<(IUserView & IWithUnread)[]>;\n\n  constructor(\n    private readonly topicService: TopicsService,\n    private readonly companyService: CompaniesService,\n    private readonly userService: UsersService,\n    private readonly feedService: FeedService,\n    private readonly tagService: TagsService,\n    private readonly userDropdownService: UserDropdownService,\n    private readonly headerStatsSyncService: HeaderStatsSyncService,\n    public readonly sessionService: SessionService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.setData();\n  }\n\n  private setData(): void {\n    const feedService = this.feedService;\n    function unreadAuthorMap<T extends IUserView | ICompanyView>(loggedIn: boolean):\n      OperatorFunction<IPageResponse<T>, (T & IWithUnread)[]> {\n      return map((response: IPageResponse<T>) => {\n        return response.content.map((user: T) => ({\n          ...user,\n          unread$: loggedIn ? feedService.countUnread$(\n            UnreadFilterEnum.MY_AUTHOR, user.meta.id\n          ).pipe(map((x: IUnread) => x.count)) : EMPTY,\n        }));\n      });\n    }\n\n    this.authors$ = this.headerStatsSyncService.articlesCountSyncEvent$.pipe(\n      mergeMap(() => this.sessionService.loggedIn$),\n      map((loggedIn: boolean) =>\n        this.userService.get$(0, { sub: loggedIn || undefined, order: UserOrderEnum.LAST_POST_TIME })\n          .pipe(unreadAuthorMap(loggedIn))\n      ),\n      switchAll(),\n    );\n    this.tags$ = this.tagService.get$(0, { order: TagOrderEnum.RECENT_POSTS }).pipe(\n      map((response: IPageResponse<ITagView>) => response.content),\n    );\n\n    this.getCompanies();\n    this.getTopics();\n\n    this.headerStatsSyncService.subEvent$.pipe(takeUntil(this.ngOnDestroy$)).subscribe(\n      ([type, id, status]: ['topic' | 'company', number, boolean]) => {\n        if (type === 'company') {\n          const company: ICompanyView = this.companies.find((comp: ICompanyView) => comp.meta.id === id);\n          if (company) {\n            company.subscribers.you = status;\n          }\n        }\n        if (type === 'topic') {\n          const topic: ITopicView = this.topics.find((top: ITopicView) => top.meta.id === id);\n          if (topic) {\n            topic.subscribers.you = status;\n          }\n        }\n      }\n    );\n  }\n\n  private getRecentTopics$(loggedIn: boolean, count: number): Observable<ITopicView[]> {\n    const pages$ = combineLatest(\n      new Array(Math.ceil(count / 10))\n        .fill(0)\n        .map((_: number, page: number) =>\n          this.topicService.get$(page, { sub: loggedIn ? false : undefined, order: TopicOrderEnum.LAST_POST_TIME })));\n\n    return pages$.pipe(\n      map((topics: IPageResponse<ITopicView>[]) =>\n        topics.reduce((acc: ITopicView[], val: IPageResponse<ITopicView>) => acc.concat(val.content), []).slice(0, count)),\n    );\n  }\n\n  private getTopics(): void {\n    let loggedIn = false;\n    let subbedTopics = [];\n\n    this.sessionService.loggedIn$.pipe(\n      tap((data: boolean) => loggedIn = data),\n      switchMap(() => loggedIn\n        ? this.topicService.get$(0, { sub: true, order: TopicOrderEnum.LAST_POST_TIME })\n        : of({ content: [] } as IPageResponse<ITopicView>)),\n      map((page: IPageResponse<ITopicView>) => page.content),\n      tap((data: ITopicView[]) => subbedTopics = data),\n      switchMap((topics: ITopicView[]) => this.getRecentTopics$(loggedIn, MAX_ITEMS_COUNT - topics.length)),\n      map((topics: ITopicView[]) => subbedTopics.concat(topics))\n    ).subscribe((topics: ITopicView[]) => this.topics = topics);\n  }\n\n  private getRecentCompanies$(loggedIn: boolean, count: number): Observable<ICompanyView[]> {\n    const pages$ = combineLatest(\n      new Array(Math.ceil(count / 10))\n        .fill(0)\n        .map((_: number, page: number) =>\n          this.companyService.get$(page, { sub: loggedIn ? false : undefined, order: UserOrderEnum.LAST_POST_TIME })));\n\n    return pages$.pipe(\n      map((topics: IPageResponse<ICompanyView>[]) =>\n        topics.reduce((acc: ICompanyView[], val: IPageResponse<ICompanyView>) => acc.concat(...val.content), []).slice(0, count)),\n    );\n  }\n\n  private getCompanies(): void {\n    let loggedIn = false;\n    let subbedCompanies = [];\n\n    this.sessionService.loggedIn$.pipe(\n      tap((data: boolean) => loggedIn = data),\n      switchMap(() => loggedIn\n        ? this.companyService.get$(0, { sub: true, order: UserOrderEnum.LAST_POST_TIME })\n        : of({ content: [] } as IPageResponse<ICompanyView>)),\n      map((page: IPageResponse<ICompanyView>) => page.content),\n      tap((data: ICompanyView[]) => subbedCompanies = data),\n      switchMap((companies: ICompanyView[]) => this.getRecentCompanies$(loggedIn, MAX_ITEMS_COUNT - companies.length)),\n      map((companies: ICompanyView[]) => subbedCompanies.concat(companies))\n    ).subscribe((companies: ICompanyView[]) => this.companies = companies);\n  }\n\n  public handleSubscribe(item: ITopicView): void {\n    if (this.sessionService.loggedIn$.value) {\n      this.topicService.subscribe$(item.meta.id, item.subscribers.you).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        item.subscribers.you = !item.subscribers.you;\n        this.headerStatsSyncService.subEvent$.next(['topic', item.meta.id, item.subscribers.you]);\n      });\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public handleCompanySubscribe(item: ICompanyView): void {\n    if (this.sessionService.loggedIn$.value) {\n      this.companyService.subscribe$(item.meta.id, item.subscribers.you).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        item.subscribers.you = !item.subscribers.you;\n        this.headerStatsSyncService.subEvent$.next(['company', item.meta.id, item.subscribers.you]);\n      });\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public handleFeedConfiguration(): void {\n    if (!this.sessionService.loggedIn$.value) {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public scrollTop(): void {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n  }\n}\n","<ul class=\"structural sidebar-list\">\n    <li *ngIf=\"!(sessionService.loggedIn$ | async)\" [routerLink]=\"['/topics']\" (click)=\"handleFeedConfiguration()\">\n        <div class=\"v-center last-item-right\">\n            <span class=\"subtitle-2 fade-2\">{{ 'COMMON.SET_MY_NEWSFEED' | translate }}</span>\n            <svg name=\"cog\" class=\"active ui-icon\"></svg>\n        </div>\n    </li>\n  \n    <li>\n        <app-ui-expand-box [redirectToAll]=\"'/topics'\"\n                           [templateType]=\"expandBoxTemplateEnum.ITEMS\"\n                           [fallbackText]=\"'COMMON.MAIN_TOPICS_FALLBACK_TEXT' | translate\"\n                           [customCD]=\"true\"\n                           [data]=\"topics\" [routerLinkPrefix]=\"'/topics'\" (actionEvent)=\"handleSubscribe($event)\">\n            {{ 'COMMON.MAIN_TOPICS' | translate }}\n        </app-ui-expand-box>\n    </li>\n  \n    <li>\n        <app-ui-expand-box [redirectToAll]=\"'/tags'\"\n                           [templateType]=\"expandBoxTemplateEnum.LINKS\"\n                           [data]=\"tags$ | async\" [routerLinkPrefix]=\"'/tags'\">\n            {{ 'COMMON.POPULAR_TAGS' | translate }}\n        </app-ui-expand-box>\n    </li>\n  \n    <li>\n        <app-ui-expand-box [redirectToAll]=\"'/companies'\"\n                           [fallbackText]=\"'COMMON.DISPLAY_COMPANIES' | translate\"\n                           [customCD]=\"true\"\n                           [templateType]=\"expandBoxTemplateEnum.ITEMS\" [data]=\"companies\" [routerLinkPrefix]=\"'/company'\" (actionEvent)=\"handleCompanySubscribe($event)\">\n            {{ 'COMMON.MY_COMPANIES' | translate }}\n        </app-ui-expand-box>\n    </li>\n  \n    <li>\n        <app-ui-expand-box [fallbackText]=\"'COMMON.DISPLAY_AUTHORS' | translate\" [redirectToAll]=\"'/authors'\"\n                           [templateType]=\"expandBoxTemplateEnum.AUTHORS\" [data]=\"authors$ | async\">\n            {{ 'COMMON.MY_AUTHORS' | translate }}\n        </app-ui-expand-box>\n    </li>\n</ul>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  googleApiAuth2ClientId: '7043505838-1fk5uohi30od5uhd86ana7hfrd4uvi4h.apps.googleusercontent.com',\n  vkAppId: '51793698',\n  facebookAppId: '146219157313027',\n  apiUrl: 'https://diskurs.media/api/',\n  baseApiUrl: 'diskurs.media/api',\n  newsId: 15,\n  url: 'http://localhost:4200/',\n  tgBotId: 6452153119,\n  blocker: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, EventEmitter, Input, Output, OnDestroy } from '@angular/core';\nimport { ShowcasesService } from '@api/routes/showcases.service';\nimport { IJobView } from '@api/schemas/job/job-view.interface';\nimport { switchMap, takeUntil } from 'rxjs/operators';\nimport { JobsService } from '@api/routes/jobs.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { PublicationStageEnum } from '@api/schemas/article/publication-stage.enum';\nimport { ICreatedObject } from '@api/schemas/object/created-object.interface';\nimport { ReportEntityTypeEnum } from '@api/schemas/report/report-entity-type.enum';\n\n@Component({\n  selector: 'app-action-menu-job',\n  templateUrl: './action-menu-job.component.html',\n  styleUrls: ['./action-menu-job.component.scss'],\n})\nexport class ActionMenuJobComponent extends AbstractComponent implements OnDestroy {\n  @Input() public data: IJobView;\n  @Input() public own: boolean;\n\n  @Output() public readonly gone: EventEmitter<IJobView> = new EventEmitter<IJobView>();\n\n  public readonly publicationStageEnum: typeof PublicationStageEnum = PublicationStageEnum;\n  public readonly reportEntityTypeEnum: typeof ReportEntityTypeEnum = ReportEntityTypeEnum;\n\n  constructor(\n    private readonly jobsService: JobsService,\n    private readonly showcasesService: ShowcasesService\n  ) { super(); }\n\n  public delete(): void {\n    const d = this.data;\n    this.jobsService.delete$(d.meta.id).subscribe(() => this.gone.next(d));\n  }\n\n  public showcase(): void {\n    this.jobsService.showcase$(this.data.meta.id).pipe(\n      switchMap((obj: ICreatedObject) => this.showcasesService.navigate$(obj)),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe();\n  }\n\n  public hide(): void {\n    const d = this.data;\n    this.jobsService.hide$(d.meta.id, d.hidden).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      d.hidden = !d.hidden;\n      if (d.hidden) {\n        this.gone.next(d);\n      }\n    });\n  }\n\n  public publish(): void {\n    this.jobsService.publish$(this.data.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.data.info.publicationStage = PublicationStageEnum.PUBLISHED;\n    });\n  }\n\n  public withdraw(): void {\n    this.jobsService.withdraw$(this.data.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.data.info.publicationStage = PublicationStageEnum.DRAFT;\n    });\n  }\n}\n","<app-ui-dots-menu>\n    <app-ui-dots-menu-item *ngIf=\"!own\" icon=\"report\" text=\"{{ 'COMMON.TO_FILE_A_COMPLAINT' | translate }}\" appReport\n                           [object]=\"{ type: reportEntityTypeEnum.JOB, id: data.meta.id }\" (report)=\"hide()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *ngIf=\"!own\" icon=\"do-not-show\" text=\"{{ 'COMMON.REMOVE_FROM_NEWSFEED' | translate }}\" (click)=\"hide()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or own; and data.info.publicationStage !== publicationStageEnum.PUBLISHED\" icon=\"globe\" text=\"{{ 'COMMON.PUBLISH'  | translate}}\" (click)=\"publish()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or own; and data.info.publicationStage === publicationStageEnum.PUBLISHED\" icon=\"edit\" [text]=\"'COMMON.TO_DRAFTS' | translate\" (click)=\"withdraw()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or own\" icon=\"edit\" text=\"{{ 'COMMON.EDIT'  | translate}}\"\n                           [routerLink]=\"['/jobs', data.meta.id, 'edit']\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or own\" icon=\"report\" text=\"{{ 'COMMON.REMOVE'  | translate}}\" (click)=\"delete()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\" icon=\"star\" [text]=\"'COMMON.PLACE_AT_DISPLAY_WINDOW' | translate\" (click)=\"showcase()\"></app-ui-dots-menu-item>\n</app-ui-dots-menu>\n","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ITagView } from '@api/schemas/tags/tag-view.interface';\nimport { ExpandBoxTemplateEnum } from '@shared/ui/expand-box/expand-box-template.enum';\nimport { Router } from '@angular/router';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { SessionService } from '@app/services/session.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { TagsService } from '@api/routes/tags.service';\nimport { takeUntil, filter } from 'rxjs/operators';\nimport { ArticlesService } from '@api/routes/articles.service';\nimport { ISidebarWrapperParams } from '@layout/sidebar-wrapper/sidebar-wrapper-params.interface';\nimport { ViewportScroller } from '@angular/common';\nimport { ReportEntityTypeEnum } from '@api/schemas/report/report-entity-type.enum';\n\n@Component({\n  selector: 'app-article-info-sidebar',\n  templateUrl: './article-info-sidebar.component.html',\n  styleUrls: ['./article-info-sidebar.component.scss']\n})\nexport class ArticleInfoSidebarComponent extends AbstractComponent implements OnInit, OnDestroy {\n  @Input() public data$: BehaviorSubject<ISidebarWrapperParams>;\n\n  private readonly loggedIn$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n  public readonly reportEntityTypeEnum: typeof ReportEntityTypeEnum = ReportEntityTypeEnum;\n\n  public topics: ITopicView[] = [];\n  public canVote: boolean;\n  public tags: ITagView[] = [];\n\n  public share = false;\n\n  public linkBody = '';\n  public linkVk: string;\n  public linkFb: string;\n  public linkTw: string;\n  public linkIn: string;\n  public linkTg: string;\n\n  public attrsTemplate: ExpandBoxTemplateEnum = ExpandBoxTemplateEnum.ITEMS;\n  public tagsTemplate: ExpandBoxTemplateEnum = ExpandBoxTemplateEnum.LINKS;\n\n  constructor(\n    private readonly router: Router,\n    private readonly topicsService: TopicsService,\n    private readonly sessionService: SessionService,\n    private readonly tagsService: TagsService,\n    private readonly userDropdownService: UserDropdownService,\n    private readonly articlesService: ArticlesService,\n    private viewport: ViewportScroller,\n  ) { super(); }\n\n  ngOnInit(): void {\n    this.data$.pipe(filter((params: ISidebarWrapperParams) => !!params.article), takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.getData();\n    });\n    this.getData();\n    this.linksInit();\n    this.subscribeToLoggedIn();\n  }\n\n  private linksInit(): void {\n    this.linkBody = 'https://ru.yachtsmanjournal.com' + this.router.url;\n    this.linkVk = 'https://vk.com/share.php?url=' + this.linkBody;\n    this.linkFb = 'https://www.facebook.com/sharer/sharer.php?u=' + this.linkBody;\n    this.linkTw = 'https://twitter.com/intent/tweet?url=' + this.linkBody;\n    this.linkIn = 'https://vk.com/share.php?url=' + this.linkBody;\n    this.linkTg = 'tg://msg_url?url=' + this.linkBody;\n  }\n\n  private subscribeToLoggedIn(): void {\n    this.sessionService.loggedIn$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((loggedIn: boolean) => {\n      this.loggedIn$.next(loggedIn);\n    });\n  }\n\n  private getData(): void {\n    const data = this.data$.getValue().articleData;\n    this.topicsService.getMultiple$(data.topics || []).pipe(takeUntil(this.ngOnDestroy$)).subscribe((list: ITopicView[]) => {\n      this.topics = list;\n    });\n    this.tagsService.getMultiple$(data.tags || []).pipe(takeUntil(this.ngOnDestroy$)).subscribe((list: ITagView[]) => {\n      this.tags = list;\n    });\n  }\n\n  public handleSubscribe(item: ITopicView): void {\n    if (this.loggedIn$.value) {\n      const topics: ITopicView[] = this.topics.map((topic: ITopicView) => {\n        if (topic.meta.id === item.meta.id) {\n          return {\n            ...topic,\n            subscribers: {\n              ...topic.subscribers,\n              you: !item.subscribers.you,\n            },\n          };\n        }\n        return topic;\n      });\n\n      this.topics = [...topics];\n\n      if (item.hidden) {\n        this.topicsService.hide$(item.meta.id, true).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n      }\n      this.topicsService.subscribe$(item.meta.id, item.subscribers.you).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public toggleShare(): void {\n    this.share = !this.share;\n  }\n\n  public goTo(url: string): void {\n    window.open(url, '_blank');\n  }\n\n  public emitUnpublish(): void {\n    const data = this.data$.getValue().articleData;\n    this.articlesService.publish$(data.meta.id, true).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n  }\n\n  public emitHide(): void {\n    const data = this.data$.getValue().articleData;\n    if (this.loggedIn$.value) {\n      if (this.sessionService.loggedIn$.value) {\n        data.hidden\n          ? this.articlesService.hide$(data.meta.id, true).pipe(takeUntil(this.ngOnDestroy$)).subscribe()\n          : this.articlesService.hide$(data.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n      } else {\n        this.userDropdownService.setShowDropdown(true);\n      }\n      this.data$.next({ ...this.data$.getValue(), articleData: { ...data, hidden: !data.hidden}});\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public scrollToComments(): void {\n    window.requestAnimationFrame(() => {\n      // this.route.firstChild.firstChild.params.pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: any) => {\n      //   if (_.slug) {\n      //     this.router.navigate(['/news', _.id, _.slug], { fragment: 'comments-block' });\n      //   } else {\n      //     this.router.navigate(['/news', _.id], { fragment: 'comments-block' });\n      //   }\n      // });\n      this.viewport.scrollToAnchor('comments-block');\n    });\n  }\n\n  public emitToggleBookmark(): void {\n    const data = this.data$.getValue().articleData;\n    if (this.sessionService.loggedIn$.value) {\n      if (data.bookmarks.you) {\n        this.articlesService.bookmark$(data.meta.id, true)\n          .pipe(takeUntil(this.ngOnDestroy$))\n          .subscribe(() => {\n            --data.bookmarks.count;\n          });\n      } else {\n        this.articlesService.bookmark$(data.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n          data.bookmarks.count++;\n        });\n      }\n      data.bookmarks.you = !data.bookmarks.you;\n      this.data$.next({ ...this.data$.getValue(), articleData: { ...data }});\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public vote(vote: 'up' | 'down'): void {\n    const data = this.data$.getValue().articleData;\n    const castVote: any = vote === 'up' ? 1 : -1;\n    if (data.votes.you === castVote) {\n      this.articlesService.vote$(data.meta.id, true).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        castVote > 0 ? data.votes.up -= castVote : data.votes.down += castVote;\n        data.votes.you = 0;\n        this.data$.next({ ...this.data$.getValue(), articleData: { ...data }});\n      });\n    } else {\n      this.articlesService.vote$(data.meta.id, false, castVote).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        data.votes.you > 0 ? data.votes.up -= data.votes.you : data.votes.down += data.votes.you;\n        castVote > 0 ? data.votes.up += castVote : data.votes.down -= castVote;\n        data.votes.you = castVote;\n        this.data$.next({ ...this.data$.getValue(), articleData: { ...data }});\n      });\n    }\n  }\n}\n","<ng-container *appLet=\"(data$ | async).articleData as data\">\n    <div class=\"short\">\n        <div class=\"v-center rating\">\n            <span class=\"subtitle-1 fade-2\">{{ 'COMMON.ARTICLE_RATING' | translate }}</span>\n            <app-voting class=\"align-right\"\n                        [up]=\"data.votes.up\"\n                        [down]=\"data.votes.down\"\n                        [castVote]=\"data.votes ? data.votes.you : 0\"\n                        [style]=\"'article'\"\n                        (vote)=\"vote($event)\"\n            ></app-voting>\n        </div>\n        <div class=\"stats\">\n            <div class=\"v-center\">\n                <svg name=\"bookmark\" class=\"f-gray clickable\" size=\"20\" [class.f-primary]=\"data.bookmarks.you\" (click)=\"emitToggleBookmark()\"></svg>\n                <span class=\"subtitle-2 fade-1\">{{ 'COMMON.IN_FAVORITES' | translate }}</span>\n                <span class=\"c-primary subtitle-1\">{{ data.bookmarks.count }}</span>\n            </div>\n            <div class=\"v-center\" (click)=\"scrollToComments()\">\n                <svg name=\"comment\" size=\"20\" class=\"f-gray clickable\"></svg>\n                <span class=\"subtitle-2 fade-1\" [ngClass]=\"{'blue': data.commentCount > 0}\">{{ 'COMMON.COMMENTS_' | translate }}</span>\n                <span class=\"c-primary subtitle-1\">{{ data.commentCount }}</span>\n            </div>\n            <div class=\"v-center\">\n                <svg name=\"view\" size=\"20\" class=\"f-gray\"></svg>\n                <span class=\"subtitle-2 fade-1\">{{ 'COMMON.VIEWS' | translate }}</span>\n                <span class=\"c-primary subtitle-1\">{{ data.views.count }}</span>\n            </div>\n        </div>\n        <a class=\"v-center clickable\" [routerLink]=\"data.author | accountUrl\">\n            <app-ui-icon class=\"margin-right-10\" [src]=\"data.author.info.picture\" [textAlternative]=\"data.author.info | personName\"></app-ui-icon>\n            <span class=\"subtitle-1 fade-1\" style=\"max-width: 150px;\">{{ data.author.info | personName }}</span>\n            <svg name=\"chevron/right\" class=\"f-gray align-right\"></svg>\n        </a>\n    </div>\n    <div class=\"themes\">\n        <app-ui-expand-box [customFooter]=\"true\" [fallbackText]=\"'COMMON.TOPICS_DISPLAY_FALLBACK' | translate\" [routerLinkPrefix]=\"'/topics'\" [templateType]=\"attrsTemplate\" [data]=\"topics\" (actionEvent)=\"handleSubscribe($event)\">\n            <span class=\"subtitle-1 fade-2\">{{ 'COMMON.PUBLICATION_TOPICS' | translate }}</span>\n            <a class=\"last-item-right v-center expand-footer\" [routerLink]=\"['/topics']\">\n                <span class=\"subtitle-2 fade-2\">{{ 'COMMON.ALL_TOPICS' | translate }}</span>\n                <svg name=\"chevron/right\" class=\"ui-icon\"></svg>\n            </a>\n        </app-ui-expand-box>\n    </div>\n\n    <div class=\"tags\">\n        <app-ui-expand-box [customFooter]=\"true\" [fallbackText]=\"'COMMON.PUBLICATION_TAGS_SHOWN_HERE' | translate\" [templateType]=\"tagsTemplate\" [data]=\"tags\">\n            <span class=\"subtitle-1 fade-2\">{{ 'COMMON.PUBLICATION_TAGS' | translate }}</span>\n            <a class=\"last-item-right v-center expand-footer\" [routerLink]=\"['/tags']\">\n                <span class=\"subtitle-2 fade-2\">{{ 'COMMON.SEARCH_BY_TAG' | translate }}</span>\n                <svg name=\"chevron/right\" class=\"ui-icon\"></svg>\n            </a>\n        </app-ui-expand-box>\n    </div>\n    <div class=\"actions\">\n        <ul class=\"structural\">\n            <li class=\"v-center clickable\">\n                <svg name=\"share\" class=\"f-gray margin-right-10\" size=\"20\" (click)=\"toggleShare()\"></svg>\n                <div *ngIf=\"share\" class=\"cont\">\n                    <span class=\"actions-con clickable\" (click)=\"goTo(linkTw)\">\n                        <svg name=\"social/twitter\" size=\"20\"></svg>\n                    </span>\n                    <span class=\"actions-con clickable\" (click)=\"goTo(linkVk)\">\n                        <svg name=\"social/vk\" size=\"20\"></svg>\n                    </span>\n                    <span class=\"actions-con clickable\" (click)=\"goTo(linkTg)\">\n                        <svg name=\"social/telegram\" size=\"20\"></svg>\n                    </span>\n                </div>\n                <span *ngIf=\"!share\" class=\"subtitle-2 fade-2\" (click)=\"toggleShare()\">{{'COMMON.REPOST' | translate}}</span>\n            </li>\n            <hr>\n            <li class=\"v-center btn clickable\" (click)=\"emitToggleBookmark()\">\n                <svg name=\"bookmark\" class=\"f-gray margin-right-10\" size=\"20\"></svg>\n                <span class=\"subtitle-2 fade-2\">\n                {{ data.bookmarks && data.bookmarks.you ? ('COMMON.REMOVE_FROM_BOOKMARKS' | translate) : ('COMMON.TO_BOOKMARKS' | translate) }}\n            </span>\n            </li>\n            <hr>\n            <li class=\"v-center clickable\" (click)=\"emitHide()\">\n                <svg name=\"do-not-show\" class=\"f-gray margin-right-10\" size=\"20\"></svg>\n                <span *ngIf=\"!data.hidden\" class=\"subtitle-2 fade-2\">{{ 'COMMON.REMOVE_FROM_NEWSFEED' | translate}}</span>\n                <span *ngIf=\"data.hidden\" class=\"subtitle-2 fade-2\">{{ 'COMMON.SHOW_IN_NEWSFEED\"' | translate }}</span>\n            </li>\n            <hr>\n            <li class=\"v-center clickable\" appReport [object]=\"{ type: reportEntityTypeEnum.ARTICLE, id: data.meta.id }\" (report)=\"!data.hidden && emitHide()\">\n                <svg name=\"report\" class=\"f-gray margin-right-10\" size=\"20\"></svg>\n                <span class=\"subtitle-2 fade-2\">{{ 'COMMON.TO_FILE_A_COMPLAINT' | translate }}</span>\n            </li>\n        </ul>\n    </div>\n    <div style=\"padding: 20px\">\n        <a class=\"return v-center clickable\" [routerLink]=\"['/']\">\n            <svg name=\"chevron/left\" class=\"f-gray margin-right-25\"></svg>\n            <span class=\"subtitle-2 fade-2\">{{ 'COMMON.GO_BACK' | translate }}</span>\n        </a>\n    </div>\n</ng-container>\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { map } from 'rxjs/operators';\nimport { SessionService } from '@app/services/session.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class UserGuard implements CanActivate {\n  constructor(private readonly router: Router, private readonly session: SessionService) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | Observable<any> {\n    const id: string = route.params['id'];\n\n    if (id === 'me') {\n      return this.session.user$\n        .pipe(\n          map((user: IUserViewFull) => {\n            let sub: string = state.url;\n            if (sub.includes('/user/me/')) {\n              sub = sub.replace('/user/me/', '');\n            } else if (sub.includes('/company/me/')) {\n              sub = sub.replace('/company/me/', '');\n            }\n            const url: any[] =\n              [user.info.company.isCompany ? '/company' : '/user', user.info.username ? user.info.username : user.meta.id, sub];\n            this.router.navigate(url);\n          }),\n        );\n    } else {\n      return true;\n    }\n  }\n}\n","import { Injectable, TemplateRef } from '@angular/core';\nimport { MoreMenuWrapperComponent } from './more-menu-wrapper/more-menu-wrapper.component';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MoreMenuService {\n  public wrapper: MoreMenuWrapperComponent;\n\n  constructor() {}\n\n  public close(): void {\n    this.wrapper.close();\n  }\n\n  public open(templateRef: TemplateRef<any>, event: MouseEvent): void {\n    this.wrapper.open(templateRef, event);\n  }\n}\n","import { Component, EventEmitter, Input, Output, OnDestroy } from '@angular/core';\nimport { switchMap, takeUntil } from 'rxjs/operators';\nimport { ITagView } from '@api/schemas/tags/tag-view.interface';\nimport { ShowcasesService } from '@api/routes/showcases.service';\nimport { TagsService } from '@api/routes/tags.service';\nimport { ICreatedObject } from '@api/schemas/object/created-object.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { ReportEntityTypeEnum } from '@api/schemas/report/report-entity-type.enum';\n\n@Component({\n  selector: 'app-action-menu-tag',\n  templateUrl: './action-menu-tag.component.html',\n  styleUrls: ['./action-menu-tag.component.scss'],\n})\nexport class ActionMenuTagComponent extends AbstractComponent implements OnDestroy {\n  @Input() public data: ITagView;\n\n  @Output() public readonly gone: EventEmitter<ITagView> = new EventEmitter<ITagView>();\n\n  public readonly reportEntityTypeEnum: typeof ReportEntityTypeEnum = ReportEntityTypeEnum;\n\n  constructor(\n    private readonly tagsService: TagsService,\n    private readonly showcasesService: ShowcasesService\n  ) {\n    super();\n  }\n\n  public showcase(): void {\n    this.tagsService.showcase$(this.data.meta.id).pipe(\n      switchMap((_: ICreatedObject) => this.showcasesService.navigate$(_)),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe();\n  }\n\n  public delete(): void {\n    const d = this.data;\n    this.tagsService.delete$(d.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => this.gone.next(d));\n  }\n}\n","<app-ui-dots-menu>\n    <app-ui-dots-menu-item appReport icon=\"report\" text=\"{{ 'COMMON.TO_FILE_A_COMPLAINT' | translate}}\" \n                           [object]=\"{ type: reportEntityTypeEnum.TAG, id: data.meta.id }\"\n                           (report)=\"gone.next(data)\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\" icon=\"star\" [text]=\"'COMMON.PLACE_AT_DISPLAY_WINDOW' | translate\" (click)=\"showcase()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\" icon=\"report\" text=\"{{ 'COMMON.REMOVE' | translate}}\" (click)=\"delete()\"></app-ui-dots-menu-item>\n</app-ui-dots-menu>\n","import { Injectable } from '@angular/core';\nimport { AuthService } from '@api/routes/auth.service';\nimport { Observable, of, from, BehaviorSubject, Subscriber } from 'rxjs';\nimport { environment } from '@env';\nimport { catchError, map, switchMap } from 'rxjs/operators';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { LoginSocialConnectService } from '../login-social-connect.service';\nimport { IVkLoginResponse } from './vk-login-response.interface';\nimport { IFacebookLoginResponse } from './facebook-login-response.interface';\nimport { Router } from '@angular/router';\nimport { Jwt } from '@app/classes/jwt.class';\n\ndeclare const VK: any;\ndeclare const FB: any;\ndeclare const gapi: any;\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocialLoginService {\n  private readonly onVkApiLoaded$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  private readonly onFbApiLoaded$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  private readonly onGoogleApiLoaded$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  constructor(\n    private readonly authService: AuthService,\n    private readonly loginSocialConnectService: LoginSocialConnectService,\n    private readonly platformService: PlatformService,\n    private readonly router: Router\n  ) {\n    if (this.platformService.isBrowser) {\n      this.initFacebookApi();\n      this.initGoogleApi();\n      this.initVkApi();\n      this.loadedSub();\n      window['openLoginWindow'] = () => {\n        this.loginSocialConnectService.doSocialLogin$('google', {});\n      };\n    }\n  }\n\n  private loadedSub(): void {\n    this.onGoogleApiLoaded$.subscribe((_: boolean) => {\n      if (_) {\n        gapi.load('auth2', () => {\n          gapi.auth2.init({\n            client_id: environment.googleApiAuth2ClientId,\n          });\n        });\n      }\n    });\n\n    this.onVkApiLoaded$.subscribe((_: boolean) => {\n      if (_) {\n        VK.init({\n          apiId: environment.vkAppId,\n        });\n      }\n    });\n  }\n\n  private injectScript(src: string): void {\n    const s = document.createElement('script');\n    s.type = 'text/javascript';\n    s.src = src;\n    s.async = true;\n    s.defer = true;\n    document.getElementsByTagName('head')[0].appendChild(s);\n  }\n\n  private initFacebookApi(): void {\n    (window as any).fbAsyncInit = () => {\n      FB.init({\n        appId: environment.facebookAppId,\n        autoLogAppEvents: true,\n        xfbml: true,\n        version: 'v4.0',\n      });\n      this.onFbApiLoaded$.next(true);\n    };\n    this.injectScript('https://connect.facebook.net/en_US/sdk.js');\n  }\n\n  private initGoogleApi(): void {\n    (window as any).initGoogleApi = () => {\n      this.onGoogleApiLoaded$.next(true);\n    };\n    this.injectScript('https://apis.google.com/js/platform.js?onload=initGoogleApi');\n  }\n\n  private initVkApi(): void {\n    (window as any).vkAsyncInit = () => {\n      this.onVkApiLoaded$.next(true);\n    };\n    const vkApiTransport = document.createElement('div');\n    vkApiTransport.style.position = 'fixed';\n    vkApiTransport.style.left = '-100000px';\n    document.getElementsByTagName('body')[0].appendChild(vkApiTransport);\n    this.injectScript('https://vk.com/js/api/openapi.js?162');\n  }\n\n  private tryLogin$(method: string, body: any): Observable<any> {\n    return this.authService.exists$(method, body).pipe(\n      switchMap((exists: boolean) => {\n        let result: Observable<any>;\n        if (exists) {\n          result = this.loginSocialConnectService.login$(method, body);\n        } else {\n          this.loginSocialConnectService.doSocialLogin$(method, body);\n          result = of(null);\n        }\n        return result;\n      }),\n      catchError((error: any) => {\n        throw error;\n      }),\n    );\n  }\n\n  public loginWithGoogle(): void {\n    this.getGoogle$()\n      .pipe(switchMap((body: any) => this.tryLogin$('google', body)))\n      .subscribe(() => this.router.navigate(['/all']));\n  }\n\n  public loginWithFacebook(): void {\n    this.getFacebook$()\n      .pipe(switchMap((body: any) => this.tryLogin$('facebook', body)))\n      .subscribe(() => this.router.navigate(['/all']));\n  }\n\n  public loginWithVk(): void {\n    this.getVk$()\n      .pipe(switchMap((body: any) => this.tryLogin$('vk', body)))\n      .subscribe(() => this.router.navigate(['/all']));\n  }\n\n  public goToTgAuthPage(): void {\n    const tgAuthPathname = 'https://oauth.telegram.org/auth';\n    const baseUrl = environment.url.replace(/\\/$/, '');\n    const tgAuthUrl = tgAuthPathname +\n      `?bot_id=${environment.tgBotId}&origin=${baseUrl}&return_to=${baseUrl}/all`;\n    window.location.href = tgAuthUrl;\n  }\n\n  public loginWithTg(): void {\n    this.getTg$()\n      .pipe(switchMap((body: any) => this.tryLogin$('tg', body)))\n      .subscribe(() => this.router.navigate(['/all']));\n  }\n\n  public getGoogle$(): Observable<any> {\n    gapi.auth2.getAuthInstance().disconnect();\n    return from(gapi.auth2.getAuthInstance().signOut()).pipe(\n      switchMap(() => from(gapi.auth2.getAuthInstance().signIn())),\n      map((_: gapi.auth2.GoogleUser) => {\n        return { idToken: _.getAuthResponse().id_token };\n      }),\n    );\n  }\n\n  public getVk$(): Observable<any> {\n    return new Observable<any>((subscriber: Subscriber<any>) => {\n      VK.Auth.login(async (response: IVkLoginResponse) => {\n        if (response.status === 'connected') {\n          const s = response.session;\n          subscriber.next({\n            expire: s.expire,\n            mid: s.mid,\n            secret: s.secret,\n            sid: s.sid,\n            sig: s.sig,\n          });\n          subscriber.complete();\n        } else {\n          subscriber.error(response.status);\n        }\n      });\n    });\n  }\n\n  public getFacebook$(): Observable<any> {\n    return new Observable<any>((subscriber: Subscriber<any>) => {\n      FB.login((response: IFacebookLoginResponse) => {\n        if (response.status === 'connected') {\n          subscriber.next({\n            signedRequest: response.authResponse.signedRequest,\n          });\n          subscriber.complete();\n        } else {\n          subscriber.error(response.status);\n        }\n      });\n    });\n  }\n\n  public getTg$(): Observable<Record<string, string | number>> {\n    const hash = decodeURIComponent(window.location.hash.split('#')[1]);\n    const tgAuthResult = hash.match(/tgAuthResult=([A-z0-9]+)/)[1];\n\n    return of(new Jwt(tgAuthResult, false).data);\n  }\n}\n","export const TOOLBAR: string[] = [\n  'heading',\n  'undo',\n  'redo',\n  '|',\n  'imageUpload',\n  'mediaEmbed',\n  'link',\n  'blockQuote',\n  '|',\n  'bold',\n  'italic',\n  'underline',\n  '|',\n  'numberedList',\n  'bulletedList',\n  'insertTable',\n  '|',\n  'alignment:left',\n  'alignment:center',\n  'alignment:right',\n];\n","import { Glb } from '@app/glb/glb';\n\nexport const VoteActionNames = Glb.makeEnum({\n    UP: 'up',\n    DOWN: 'down',\n});\n\nexport const VoteStyleNames = Glb.makeEnum({\n    ARTICLE: 'article',\n    COMMENT: 'comment'\n});\n\nexport type VoteAction = (typeof VoteActionNames)[keyof typeof VoteActionNames];\nexport type VoteStyle = (typeof VoteStyleNames)[keyof typeof VoteStyleNames];\n\nexport const VoteActionValuesNames = Glb.makeEnum({\n    POSITIVE: 1,\n    NEGATIVE: -1\n});\n\nexport type VoteActionValues = (typeof VoteActionValuesNames)[keyof typeof VoteActionValuesNames];\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'app-ui-dots-menu-item',\n  templateUrl: './dots-menu-item.component.html',\n  styleUrls: ['./dots-menu-item.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DotsMenuItemComponent {\n  @Input() public icon: string = null;\n  @Input() public text: string = null;\n\n  constructor() { }\n}\n","<div *ngIf=\"!(icon || text)\" class=\"button-1\">\n    <ng-content></ng-content>\n</div>\n<div class=\"v-center clickable\">\n    <svg *ngIf=\"icon\" class=\"icon-20 f-gray icon margin-right-10\" [name]=\"icon\" size=\"20\"></svg>\n    <span class=\"subtitle-2 fade-2\">{{ text }}</span>\n</div>\n","import {\n  Component,\n  ContentChild,\n  ElementRef,\n  ChangeDetectionStrategy,\n  AfterViewInit,\n  Renderer2, ContentChildren, QueryList,\n} from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-ui-form-control',\n  templateUrl: './form-control.component.html',\n  styleUrls: ['./form-control.component.scss', '../input/ui-input.style.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FormControlComponent extends AbstractComponent implements AfterViewInit {\n  @ContentChild('input', { static: true }) public inputRef: ElementRef;\n  @ContentChild('svg', { static: true }) public iconRef: ElementRef;\n\n  @ContentChild('formControlHeader', { static: true }) public formControlHeader: ElementRef;\n  @ContentChildren('formControlAction', { descendants: true }) public formControlAction: QueryList<any>;\n\n  constructor(private renderer: Renderer2) {\n    super();\n  }\n\n  // private setIconPosition(icon: HTMLElement): void {\n  //   const input: HTMLElement = this.elementRef.nativeElement.querySelector('input');\n  //\n  //   if (!input) {\n  //     throw new Error('Input is required when you use svg icons!');\n  //   }\n  //\n  //   const horizontalSpace: string = window.getComputedStyle(input).getPropertyValue('padding-right');\n  //\n  //   icon.style.position = 'absolute';\n  //   icon.style.right = horizontalSpace;\n  // }\n\n  private setHeaderBackGroundColor(color: string): void {\n    this.renderer.setStyle(this.formControlHeader.nativeElement, 'color', color);\n  }\n\n  private addFocusEvent(): void {\n    if (this.formControlHeader && this.formControlAction.first) {\n      const element = this.formControlAction.first.nativeElement\n        ? this.formControlAction.first.nativeElement\n        : (this.formControlAction as any).first.editorOut.elementRef.nativeElement;\n      fromEvent(element, 'focusin')\n        .pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe(() => this.setHeaderBackGroundColor('#00b7ff'));\n      fromEvent(element, 'focusout')\n        .pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe(() => this.setHeaderBackGroundColor(null));\n    }\n  }\n\n  ngAfterViewInit(): void {\n    // const icon: HTMLElement = this.elementRef.nativeElement.querySelector('svg');\n    this.formControlAction.changes.subscribe(() => this.addFocusEvent());\n    this.addFocusEvent();\n    // if (icon) {\n    //   this.setIconPosition(icon);\n    // }\n  }\n}\n","<div class=\"ui-form-control\">\n    <ng-content></ng-content>\n    \n    <div class=\"ui-input-wrapper\">\n        <ng-content select=\"input\"></ng-content>\n        <ng-content select=\"svg\"></ng-content>\n    </div>\n</div>\n","import { Directive, OnInit, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { SessionService } from '@app/services/session.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\n\n@Directive({\n  selector: '[appLoggedIn]',\n})\nexport class LoggedInDirective implements OnInit {\n  constructor(\n    private readonly sessionService: SessionService,\n    private readonly templateRef: TemplateRef<any>,\n    private readonly viewContainer: ViewContainerRef,\n  ) {}\n\n  ngOnInit(): void {\n    this.sessionService.user$.subscribe((user: IUserViewFull) => {\n      this.viewContainer.clear();\n      if (user) {\n        this.viewContainer.createEmbeddedView(this.templateRef);\n      }\n    });\n  }\n}\n","import { Directive, Input, OnChanges, TemplateRef, ViewContainerRef } from '@angular/core';\n\ninterface ILetContext<T> {\n    appLet: T;\n}\n\n@Directive({\n    selector: '[appLet]',\n})\nexport class LetDirective<T> implements OnChanges {\n    @Input() public appLet: T;\n\n    private context: ILetContext<T> = { appLet: null };\n\n    constructor(\n      private readonly vcr: ViewContainerRef,\n      private readonly templateRef: TemplateRef<ILetContext<T>>\n    ) {\n        this.vcr.createEmbeddedView(this.templateRef, this.context);\n    }\n\n    ngOnChanges(): void {\n        this.context.appLet = this.appLet;\n    }\n}\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'app-ui-checkbox',\n  templateUrl: './checkbox.component.html',\n  styleUrls: ['./checkbox.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CheckboxComponent {\n  @Input() public checked: boolean;\n  @Input() public disabled = false;\n\n  // tslint:disable-next-line:no-output-native\n  @Output() public readonly change: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  constructor() {}\n\n  public onChange(e: Event): void {\n    e.stopPropagation();\n    this.checked = !this.checked;\n    this.change.emit(this.checked);\n  }\n}\n","<label class=\"container\">\n    <ng-content></ng-content>\n    <input type=\"checkbox\" [checked]=\"checked\" [disabled]=\"disabled\" (change)=\"onChange($event)\">\n    <span class=\"checkmark\"></span>\n</label>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.scss']\n})\nexport class ToolbarComponent {\n  constructor() { }\n}\n","<div class=\"wrapper\">\n    <div class=\"column\">\n        <div class=\"direct-wrapper\">\n            <div class=\"toolbar v-center\">\n                <div class=\"content\">\n                    <ng-content></ng-content>\n                </div>\n            </div>\n        </div>\n        <ng-content select=\".inside\"></ng-content>\n    </div>\n</div>","import { Component, OnInit, Input, Output, EventEmitter, ChangeDetectionStrategy, OnDestroy, ChangeDetectorRef, DoCheck } from '@angular/core';\nimport { ExpandBoxTemplateEnum } from './expand-box-template.enum';\nimport { BehaviorSubject } from 'rxjs';\nimport { SessionService } from '@app/services/session.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-ui-expand-box',\n  templateUrl: './expand-box.component.html',\n  styleUrls: ['./expand-box.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ExpandBoxComponent extends AbstractComponent implements OnInit, OnDestroy, DoCheck {\n  @Input() public redirectToAll: string;\n  @Input() public templateType: ExpandBoxTemplateEnum;\n  @Input() public data: any[] = [];\n  @Input() public customFooter: boolean;\n  @Input() public routerLinkPrefix: string;\n  @Input() public fallbackText = 'Здесь будут компании, на которых вы подпишетесь';\n  @Input() public customCD = false;\n\n  @Output() public readonly actionEvent: EventEmitter<any> = new EventEmitter<any>();\n\n  public readonly loggedIn$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n  public readonly expandBoxTemplateEnum: typeof ExpandBoxTemplateEnum = ExpandBoxTemplateEnum;\n\n  public prevData: any[] = [];\n  public expand = false;\n\n  constructor(\n    protected readonly translateService: TranslateService,\n    private readonly sessionService: SessionService,\n    private readonly cdr: ChangeDetectorRef\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.subscribeToLoggedIn();\n  }\n\n  ngDoCheck(): void {\n    if (this.customCD) {\n      if (this.data?.length === this.prevData?.length && !!this.data) {\n        this.checkForChanges();\n      } else {\n        // Creating and assigning array with new instance of all objects of that array for proper comp\n        this.prevData = this.data ? JSON.parse(JSON.stringify(this.data)) : [];\n        this.cdr.markForCheck();\n      }\n    }\n  }\n\n  private checkForChanges(): void {\n    let i = 0;\n    for (const element of this.data) {\n      if (this.prevData[i].subscribers?.you !== element.subscribers?.you) {\n        this.prevData = this.data ? JSON.parse(JSON.stringify(this.data)) : [];\n        this.cdr.markForCheck();\n        return;\n      } else {\n        i++;\n      }\n    }\n  }\n\n  private subscribeToLoggedIn(): void {\n    this.sessionService.loggedIn$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((loggedIn: boolean) => {\n      this.loggedIn$.next(loggedIn);\n    });\n  }\n\n  public emitActionEvent(item: any): void {\n    this.actionEvent.emit(item);\n  }\n\n  public expandFunc(): void {\n    this.expand = !this.expand;\n  }\n}\n","<div class=\"searchable\">\n    <header class=\"subtitle-2 fade-2 margin-bottom-20 v-center\">\n        <a *ngIf=\"!expand\" class=\"v-center last-item-right\" [class.clickable]=\"redirectToAll\" [class.unclickable]=\"!redirectToAll\" [routerLink]=\"!expand && redirectToAll ? [redirectToAll] : null\">\n            <span><ng-container [ngTemplateOutlet]=\"content\"></ng-container></span>\n            <svg *ngIf=\"!expand && redirectToAll\" name=\"cog\" class=\"ui-icon mr-2\" size=\"16\"></svg>\n        </a>\n        <div *ngIf=\"expand\" class=\"v-center last-item-right\" [class.clickable]=\"redirectToAll\" [class.unclickable]=\"!redirectToAll\" (click)=\"expandFunc()\">\n            <span><ng-container [ngTemplateOutlet]=\"content\"></ng-container></span>\n            <svg *ngIf=\"expand\" name=\"chevron/up\" class=\"ui-icon margin-right-6\" (click)=\"expandFunc()\"></svg>\n        </div>\n    </header>\n\n    <div *ngIf=\"data == null || data.length; else fallback\" class=\"margin-bottom-20 no-last-margin\" [ngSwitch]=\"templateType\">\n        <ng-container *ngSwitchCase=\"expandBoxTemplateEnum.LINKS\" [ngTemplateOutlet]=\"links\"></ng-container>\n        <ng-container *ngSwitchCase=\"expandBoxTemplateEnum.ITEMS\" [ngTemplateOutlet]=\"items\"></ng-container>\n        <ng-container *ngSwitchCase=\"expandBoxTemplateEnum.NEWS\" [ngTemplateOutlet]=\"news\"></ng-container>\n        <ng-container *ngSwitchCase=\"expandBoxTemplateEnum.DISCUSSION\" [ngTemplateOutlet]=\"discussion\"></ng-container>\n        <ng-container *ngSwitchCase=\"expandBoxTemplateEnum.TODAY\" [ngTemplateOutlet]=\"today\"></ng-container>\n        <ng-container *ngSwitchCase=\"expandBoxTemplateEnum.AUTHORS\" [ngTemplateOutlet]=\"authors\"></ng-container>\n        <ng-container *ngSwitchCase=\"expandBoxTemplateEnum.META\" [ngTemplateOutlet]=\"meta\"></ng-container>\n    </div>\n\n    <ng-template #fallback>\n        <p class=\"caption fade-2\">{{ fallbackText }}</p>\n    </ng-template>\n\n    <ng-content select=\".expand-footer\"></ng-content>\n\n    <ng-container *ngIf=\"data != null\">\n        <div *ngIf=\"!expand && data.length > 5 && !customFooter && templateType !== expandBoxTemplateEnum.AUTHORS\" class=\"last-item-right v-center btn\" (click)=\"expandFunc()\">\n            <span class=\"subtitle-2 fade-2\">{{ 'COMMON.SEE_MORE' | translate }}</span>\n            <svg name=\"chevron/down\" class=\"ui-icon icon-24 margin-right-1\" size=\"24\"></svg>\n        </div>\n\n        <a *ngIf=\"templateType === expandBoxTemplateEnum.AUTHORS\" class=\"last-item-right v-center btn\" [routerLink]=\"['/authors']\">\n            <span class=\"subtitle-2 fade-2\">{{ 'COMMON.SEE_MORE' | translate }}</span>\n            <svg name=\"chevron/right\" class=\"ui-icon icon-24 margin-right-2\" size=\"24\"></svg>\n        </a>\n\n        <div *ngIf=\"expand && data.length > 5 && !customFooter\" class=\"last-item-right v-center\">\n            <a *ngIf=\"redirectToAll && templateType !== expandBoxTemplateEnum.LINKS\" class=\"last-item-right v-center btn\" [routerLink]=\"[redirectToAll]\">\n                <span class=\"subtitle-2 fade-2 btn margin-right-8\">{{ 'COMMON.SETTINGS' | translate }}</span>\n                <svg name=\"cog\" class=\"cog ui-icon ml-5 btn\"></svg>\n            </a>\n            <a *ngIf=\"redirectToAll && templateType == expandBoxTemplateEnum.LINKS\" class=\"last-item-right v-center btn\" [routerLink]=\"[redirectToAll]\">\n                <span class=\"subtitle-2 fade-2 btn margin-right-8\">{{ 'COMMON.SEARCH' | translate }}</span>\n                <svg name=\"search\" size=\"15\" class=\"f-icon ml-5 btn\"></svg>\n            </a>\n            <div class=\"last-item-right v-center btn margin-right-7\" (click)=\"expandFunc()\">\n                <span class=\"subtitle-2 fade-2 btn margin-right-8\">{{ 'COMMON.MINIMIZE' | translate }}</span>\n                <svg name=\"chevron/up\" class=\"ui-icon btn\" size=\"25\"></svg>\n            </div>\n        </div>\n    </ng-container>\n</div>\n\n<ng-template #links>\n    <ul class=\"structural item-space-10 tags is-10\">\n        <ng-container *ngIf=\"data != null; else loading\">\n            <li *ngFor=\"let item of data | slice:0:(expand ? data.length : 5)\">\n                <a [routerLink]=\"['/tags', item.meta.id]\" class=\"subtitle-2\"># {{ item.content }}</a>\n            </li>\n        </ng-container>\n        <ng-template #loading>\n            <li *ngFor=\"let i of [0,0,0]\" class=\"loading-preview-item\">\n                <section class=\"loading-text\"></section>\n            </li>\n        </ng-template>\n    </ul>\n</ng-template>\n\n<ng-template #meta>\n    <ul class=\"structural item-space-10 tags\">\n        <li>\n            <span class=\"caption fade-2\">{{ fallbackText }}</span>\n        </li>\n    </ul>\n</ng-template>\n\n<ng-template #items>\n    <ul class=\"structural item-space-20 is-20\">\n        <ng-container *ngIf=\"data != null; else loading\">\n            <li *ngFor=\"let item of data | slice:0:(expand ? data.length : 5)\">\n                <app-ui-subscribable-view-item\n                [showAdd]=\"!item.subscribers.you\"\n                [item]=\"item\"\n                [routerLink]=\"item.info.company ? (item | accountUrl) : [routerLinkPrefix, item.meta.id]\"\n                [disableAdd]=\"!(loggedIn$ | async)\"\n                (actionEvent)=\"emitActionEvent(item)\"\n                ></app-ui-subscribable-view-item>\n                \n            </li>\n        </ng-container>\n        <ng-template #loading>\n            <li *ngFor=\"let i of [0,0,0]\" class=\"loading-preview-item\">\n                <section class=\"loading-icon margin-right-10\"></section>\n                <section class=\"loading-text\"></section>\n            </li>\n        </ng-template>\n    </ul>\n</ng-template>\n\n<ng-template #news>\n    <ul class=\"structural item-list is-10\">\n        <li *ngFor=\"let item of data | slice:0:(expand ? data.length : 5)\" class=\"news-item\">\n            <a class=\"body-3\" [routerLink]=\"['/news', item.meta.id]\">{{ item.info.title }}</a>\n            <span class=\"caption fade-2\">{{ item.status.publishedAt | customDate:false:true }}</span>\n        </li>\n    </ul>\n</ng-template>\n\n<ng-template #discussion>\n    <ul class=\"structural item-list is-10\">\n        <li *ngFor=\"let item of data | slice:0:(expand ? data.length : 5)\" class=\"stats\">\n            <a class=\"body-3\" [routerLink]=\"['/news', item.meta.id]\">{{ item.info.title }}</a>\n            <div class=\"v-center\">\n                <svg name=\"comment\" class=\"ui-icon left-minus-2\" size=\"20\"></svg>\n                <span class=\"subtitle-2 fade-2\">{{ item.commentCount }}</span>\n            </div>\n        </li>\n    </ul>\n</ng-template>\n\n<ng-template #today>\n    <ul class=\"structural item-list is-10\">\n        <li *ngFor=\"let item of data | slice:0:(expand ? data.length : 5)\" class=\"stats\">\n            <a class=\"body-3\" [routerLink]=\"['/news', item.meta.id]\">{{ item.info.title }}</a>\n            <div class=\"v-center\">\n                <svg name=\"view\" size=\"20\" class=\"ui-icon left-minus-2\"></svg>\n                <span class=\"subtitle-2 fade-2\">{{ item.views.count }}</span>\n            </div>\n        </li>\n    </ul>\n</ng-template>\n\n<ng-template #authors>\n    <ul class=\"authors structural\">\n        <ng-container *ngIf=\"data != null; else loading\">\n            <li *ngFor=\"let item of data | slice:0:10\">\n                <a [routerLink]=\"item | accountUrl\"><app-ui-icon class=\"css-block img-icon-medium\" [src]=\"$any(item.info.picture)\" [textAlternative]=\"item.info | personName\" ></app-ui-icon></a>\n                <div *ngIf=\"item.unread$ | async; let unread\" class=\"note\"><span>{{ unread }}</span></div>\n            </li>\n        </ng-container>\n        <ng-template #loading>\n            <li *ngFor=\"let i of [0,0,0,0]\" class=\"loading-preview-item\">\n                <section class=\"loading-icon\"></section>\n            </li>\n        </ng-template>\n    </ul>\n</ng-template>\n\n<ng-template #content>\n    <ng-content></ng-content>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SvgComponent } from './svg/svg.component';\n\n\n\n@NgModule({\n  declarations: [SvgComponent],\n  exports: [SvgComponent],\n  imports: [\n    CommonModule\n  ]\n})\nexport class SvgModule { }\n","export enum ExpandBoxTemplateEnum {\n    LINKS = 'LINKS',\n    ITEMS = 'ITEMS',\n    NEWS = 'NEWS',\n    DISCUSSION = 'DISCUSSION',\n    TODAY = 'TODAY',\n    AUTHORS = 'AUTHORS',\n    META = 'META',\n}\n","import { Component, HostListener, Input, ChangeDetectionStrategy } from '@angular/core';\nimport { AbstractControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-ui-icon-input',\n  templateUrl: './icon-input.component.html',\n  styleUrls: ['./icon-input.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class IconInputComponent {\n  @Input() public type = 'text';\n  @Input() public placeholder: string;\n  @Input() public control: AbstractControl;\n  @Input() public icon: string;\n\n  public focus = false;\n\n  constructor() {}\n\n  @HostListener('focusin')\n  public focusin(): void {\n    this.focus = true;\n  }\n\n  @HostListener('focusout')\n  public focusout(): void {\n    this.focus = false;\n  }\n}\n","<div>\n    <input [formControl]=\"control\" [type]=\"type\" [placeholder]=\"placeholder\">\n    <svg [name]=\"icon\"></svg>\n</div>\n","export enum ReportEntityTypeEnum {\n    ARTICLE = 'ARTICLE',\n    COMPANY = 'COMPANY',\n    EVENT = 'EVENT',\n    JOB = 'JOB',\n    TAG = 'TAG',\n    TOPIC = 'TOPIC',\n    USER = 'USER',\n    COMMENT = 'COMMENT'\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { FeedSourceEnum } from '@shared/enums/feed-source.enum';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HomepageService {\n  public readonly feedSource$: BehaviorSubject<FeedSourceEnum> = new BehaviorSubject<FeedSourceEnum>(FeedSourceEnum.NONE);\n\n  constructor() { }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'trunk'\n})\nexport class TrunkPipe implements PipeTransform {\n  transform(value: string, length: number): string {\n    let finalString: string = value;\n    if (value?.length > length) {\n      finalString = value.slice(0, length) + '...';\n    }\n    return finalString;\n  }\n}\n","export enum UnreadFilterEnum {\n    NONE = 'NONE',\n    SUB = 'SUB',\n    MY_AUTHOR = 'MY_AUTHOR'\n}\n","import { IObject } from '@api/schemas/object/object.interface';\nimport { ReplaySubject, Subject, Observable, forkJoin } from 'rxjs';\nimport { ApiService } from '@api/services/api.service';\nimport { bufferTime, filter, tap, catchError, first, map, switchMap } from 'rxjs/operators';\nimport { orderObjects } from '@api/functions/order-object.function';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { ErrorMessageEnum } from '@shared/enums/error-message.enum';\n\nexport class CachedGetMany<T extends IObject> {\n  private readonly cache: Map<number, ReplaySubject<T>> = new Map<number, ReplaySubject<T>>();\n  private readonly fetch$: Subject<number> = new Subject<number>();\n\n  constructor(private readonly apiService: ApiService, private readonly url: string, private readonly platformService: PlatformService) {\n    this.fetch$.pipe(\n      this.platformService.isBrowser ? bufferTime(500) : map((_: number) => [_]),\n      filter((_: number[]) => _.length !== 0),\n      switchMap((_: number[]) => this.platformService.isBrowser ? this.getMany$(_) : this.get$(_)),\n    ).subscribe();\n  }\n\n  private getMany$(ids: number[]): Observable<T[]> {\n    return this.apiService.get$<T[]>(`${ this.url }/(${ ids.join(',') })`, true).pipe(\n      tap((array: T[]) => {\n        ids.forEach((id: number) => {\n          const value: T = array.find((it: T) => it.meta.id === +id);\n          value ? this.cache.get(id).next(value) : this.cache.get(id).error(new Error(ErrorMessageEnum.NOT_FOUND));\n        });\n      }),\n      catchError((error: any) => {\n        ids.forEach((id: number) => this.cache.get(id).error(error));\n        throw error;\n      }),\n    );\n  }\n\n  private createSubject$(id: number): ReplaySubject<T> {\n    let result: ReplaySubject<T>;\n    if (!this.cache.has(id)) {\n      result = new ReplaySubject<T>(1);\n      result.subscribe({\n        error: (err: any) => {\n          this.cache.delete(id);\n          throw err;\n        },\n      });\n      this.cache.set(id, result);\n      this.fetch$.next(id);\n    } else {\n      result = this.cache.get(id);\n    }\n    return result;\n  }\n\n  public get$(ids: number[]): Observable<T[]> {\n    const missing: number[] = ids.filter((id: number) => !this.cache.has(id));\n    missing.forEach((id: number) => this.createSubject$(id));\n    const cached: any[] = ids.map((id: number) => this.cache.get(id).pipe(first()));\n    return forkJoin(cached).pipe(map((array: T[]) => array.sort(orderObjects(ids))));\n  }\n}\n","export enum RegisterModeEnum {\n    LOGIN = 'LOGIN',\n    REGISTER = 'REGISTER',\n    RECOVER = 'RECOVER'\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, fromEvent } from 'rxjs';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\nimport { Jwt } from '@app/classes/jwt.class';\nimport { LocalStorageKeyEnum } from '@shared/enums/local-storage-key.enum';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TokenService {\n  // tslint:disable-next-line:variable-name\n  private readonly _claims: BehaviorSubject<{ [key: string]: any }> = new BehaviorSubject<{ [key: string]: any }>(null);\n  private readonly grants: BehaviorSubject<string[]> = new BehaviorSubject<string[]>([]);\n\n  private tokens: IApiTokens = { access: null, refresh: null };\n\n  public readonly tokens$ = new BehaviorSubject<IApiTokens>(null);\n\n  public get expired(): boolean {\n    return Date.now() / 1000 > this._claims.value.exp;\n  }\n\n  public get empty(): boolean {\n    return this.tokens.access === null;\n  }\n\n  public get access(): string {\n    return this.tokens.access;\n  }\n\n  public get refresh(): string {\n    return this.tokens.refresh;\n  }\n\n  public get claims(): BehaviorSubject<{ [key: string]: any }> {\n    return this._claims;\n  }\n\n  constructor(private readonly platformService: PlatformService, private readonly cookieService: CookieService) {\n    if (this.platformService.isBrowser) {\n      this.tokens$.subscribe((tokens: IApiTokens) => {\n        if (!!tokens) {\n          this.cookieService.set('access', tokens.access);\n          this.cookieService.set('refresh', tokens.refresh);\n        } else {\n          this.cookieService.delete('access');\n          this.cookieService.delete('refresh');\n        }\n      });\n      this.load();\n      fromEvent(window, 'storage').subscribe((e: StorageEvent) => {\n        if (e.key === 'token.refresh') {\n          this.load();\n        }\n      });\n    } else if (this.platformService.isServer) {\n      this.loadFromCookies();\n    }\n  }\n\n  private update(): void {\n    if (this.tokens.access && this.tokens.refresh) {\n      const accessJwt = new Jwt(this.tokens.access);\n      const claims = accessJwt.data;\n      this.claims.next(claims);\n      this.grants.next(claims.rol);\n      this.tokens$.next({ ...this.tokens });\n    } else {\n      this.claims.next(null);\n      this.grants.next(null);\n      this.tokens$.next(null);\n    }\n  }\n\n  private loadFromCookies(): void {\n    this.tokens.access = this.cookieService.check('access') ? this.cookieService.get('access') : null;\n    this.tokens.refresh = this.cookieService.check('refresh') ? this.cookieService.get('refresh') : null;\n    this.update();\n  }\n\n  public load(): void {\n    this.tokens.access = localStorage.getItem(LocalStorageKeyEnum.TOKEN_ACCESS);\n    this.tokens.refresh = localStorage.getItem(LocalStorageKeyEnum.TOKEN_REFRESH);\n    this.update();\n  }\n\n  public save(tokens: IApiTokens): void {\n    this.tokens = tokens;\n    const accessJwt = new Jwt(tokens.access);\n    this.claims.next(accessJwt.data);\n    this.grants.next(accessJwt.data.rol);\n    localStorage.setItem(LocalStorageKeyEnum.TOKEN_ACCESS, tokens.access);\n    localStorage.setItem(LocalStorageKeyEnum.TOKEN_REFRESH, tokens.refresh);\n    this.tokens$.next({ ...this.tokens });\n  }\n\n  public clear(): void {\n    this.tokens.access = null;\n    this.tokens.refresh = null;\n    this.claims.next(null);\n    this.grants.next(null);\n    this.tokens$.next(null);\n    if (this.platformService.isBrowser) {\n      localStorage.removeItem(LocalStorageKeyEnum.TOKEN_ACCESS);\n      localStorage.removeItem(LocalStorageKeyEnum.TOKEN_REFRESH);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { EventsService } from '@api/routes/events.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class EventCreateGuard implements CanActivate {\n  constructor(\n    private readonly eventsService: EventsService,\n    private readonly router: Router\n  ) {}\n\n  canActivate(): Observable<UrlTree> {\n    return this.eventsService.create$().pipe(map((id: number) => this.router.createUrlTree(['/events', id, 'edit'])));\n  }\n}\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\n\n@Component({\n  selector: 'app-ranges',\n  templateUrl: './ranges.component.html',\n  styleUrls: ['./ranges.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RangesComponent {\n  @Input() public ranges: IToggleItem[];\n  @Input() public activeRange: number;\n\n  @Output() public readonly toggleRange: EventEmitter<IToggleItem> = new EventEmitter<IToggleItem>();\n\n  public shown = false;\n\n  constructor() {}\n\n  public selectRange(range: IToggleItem): void {\n    this.activeRange = range.id === this.activeRange ? -1 : range.id;\n    this.toggleRange.emit(this.activeRange === -1 ? null : range);\n  }\n\n  public toggle(): void {\n    this.shown = !this.shown;\n  }\n}\n","<div class=\"ranges\">\n    <app-ui-dropdown-menu>\n        <div class=\"head\" style=\"margin-right: 16px;\">\n            <span class=\"button-1 fade-1 mr-8\">{{ 'COMMON.RANK' | translate }}</span>\n            <svg name=\"dropdown\" size=\"12\" class=\"dropdown-icon\"></svg>\n        </div>\n        <app-ui-dropdown-menu-item *ngFor=\"let range of ranges\">\n            <div class=\"button-1 ranges__item\"\n                [class.active]=\"range.id === activeRange\"\n                (click)=\"selectRange(range)\">\n                {{ range.text | translate }}\n            </div>\n        </app-ui-dropdown-menu-item>\n    </app-ui-dropdown-menu>\n</div>\n","import { Injectable } from '@angular/core';\nimport { UsersService } from '@api/routes/users.service';\nimport { Observable } from 'rxjs';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { switchMap } from 'rxjs/operators';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\nimport { LoginService } from '@app/services/login.service';\nimport { AuthHandlerService } from '@app/services/auth-handler.service';\nimport { LoginSocialConnectComponent } from '@layout/login-social-connect/login-social-connect.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginSocialConnectService {\n  private currentMethod: string;\n  private currentBody: any;\n\n  public component: LoginSocialConnectComponent;\n\n  constructor(\n    private readonly authHandlerService: AuthHandlerService,\n    private readonly usersService: UsersService,\n    private readonly loginService: LoginService\n  ) {}\n\n  public doSocialLogin$(method: string, body: any): void {\n    this.currentBody = body;\n    this.currentMethod = method;\n    this.component.shown = true;\n    this.component.showConnect = false;\n  }\n\n  public register$(): Observable<IUserView> {\n    return this.usersService.registerSocial$(this.currentMethod, this.currentBody)\n      .pipe(switchMap((token: IApiTokens) => this.loginService.login$(token)));\n  }\n\n  public login$(method?: string, body?: any): Observable<IUserView> {\n    return this.authHandlerService.loginSocial$(method, body);\n  }\n\n  public connect$(): Observable<any> {\n    return this.usersService.connectSocial$(this.currentMethod, this.currentBody);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ApiService } from '@api/services/api.service';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { BannerPlaceTypeEnum } from '@api/schemas/advertisement/banner-place-type.enum';\nimport { fileToFormData } from '@api/functions/file-to-formdata.function';\nimport { IBannerCreateView } from '@api/schemas/advertisement/banner-create-view.interface';\nimport { IBannerReturnView } from '@api/schemas/advertisement/banner-return-view.interface';\nimport { BannerPlaceEnum } from '@api/schemas/advertisement/banner-place.enum';\n\nconst CONTROLLER_ENDPOINT = 'advertisement';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AdvertisementService {\n  constructor(private readonly api: ApiService) {}\n\n  public get$(page: number = 0, place: BannerPlaceEnum): Observable<IPageResponse<IBannerReturnView>> {\n    return this.api.get$<IPageResponse<IBannerReturnView>>(`${ CONTROLLER_ENDPOINT }/active?page=${ page }&place=${ place }&order=ROTATION_DESC`, true);\n  }\n\n  public click$(id: number): Observable<never> {\n    return this.api.post$(`${ CONTROLLER_ENDPOINT }/click/${ id }`, null, true);\n  }\n\n  public view$(id: number): Observable<never> {\n    return this.api.post$(`${ CONTROLLER_ENDPOINT }/view/${ id }`, null, true);\n  }\n\n  public getAll$(page: number, placeType?: BannerPlaceTypeEnum,\n                 order?: string, query?: string): Observable<IPageResponse<IBannerReturnView>> {\n    return query\n      ? this.api.get$<IPageResponse<IBannerReturnView>>(`${ CONTROLLER_ENDPOINT }/all`,\n        false, { page, placeType, order: order ? order : 'ID_DESC', query })\n      : this.api.get$<IPageResponse<IBannerReturnView>>(`${ CONTROLLER_ENDPOINT }/all`,\n        false, { page, placeType, order: order ? order : 'ID_DESC' });\n  }\n\n  public updateImage$(id: number, image: File): Observable<{ url: string }> {\n    return this.api.put$<{ url: string }>(`${ CONTROLLER_ENDPOINT }/${ id }/picture`, fileToFormData(image));\n  }\n\n  public post$(body: IBannerCreateView): Observable<IBannerReturnView> {\n    return this.api.post$<IBannerReturnView>(CONTROLLER_ENDPOINT, body);\n  }\n\n  public put$(id: number, body: IBannerCreateView): Observable<never> {\n    return this.api.put$(`${ CONTROLLER_ENDPOINT }/${ id }`, body);\n  }\n\n  public getById$(id: number): Observable<IBannerReturnView> {\n    return this.api.get$<IBannerReturnView>(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public delete$(id: number): Observable<never> {\n    return this.api.delete$(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n}\n","import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlatformService {\n  public isBrowser: boolean;\n  public isServer: boolean;\n\n  constructor(@Inject(PLATFORM_ID) private readonly platformID: any) {\n    this.isBrowser = false;\n    this.isServer = false;\n\n    if (isPlatformBrowser(this.platformID)) {\n      this.isBrowser = true;\n    } else if (isPlatformServer(this.platformID)) {\n      this.isServer = true;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Observable } from 'rxjs';\nimport { ApiService } from '@api/services/api.service';\nimport { BaseStatus } from '@api/classes/base-status/base-status.class';\nimport { BaseStatusActionEnum } from '@api/classes/base-status/base-status-action.enum';\nimport { ICommentViewFeed } from '@api/schemas/comment/comment-view-feed.interface';\nimport { Store } from '@ngxs/store';\n\nconst CONTROLLER_ENDPOINT = 'comments';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CommentsService extends BaseStatus {\n  constructor(\n    private readonly api: ApiService,\n    protected readonly store: Store\n  ) {\n    super(api, CONTROLLER_ENDPOINT, store);\n  }\n\n  public delete$(id: number): Observable<never> {\n    return this.api.delete$(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public getSource$(id: number): Observable<{ source: string }> {\n    return this.api.get$<{ source: string }>(`${ CONTROLLER_ENDPOINT }/${ id }/source`);\n  }\n\n  public getById$(id: number): Observable<ICommentViewFeed> {\n    return this.api.get$<ICommentViewFeed>(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public setSource$(id: number, source: string): Observable<{ html: string }> {\n    return this.api.put$<{ html: string }>(`${ CONTROLLER_ENDPOINT }/${ id }/source`, { source });\n  }\n\n  public watch$(id: number, watch: boolean): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.WATCH, !watch);\n  }\n}\n","import { EUserStatsProperty } from '../enums/user-stats-property.enum';\n\nexport class AddToProperty {\n    static readonly type = '[User stats] Add to property';\n\n    constructor(public readonly addNumber: number, public readonly property: EUserStatsProperty) {}\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { SessionService } from '@app/services/session.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class EditorGuard implements CanActivate {\n  constructor(\n    private readonly session: SessionService,\n  ) {}\n\n  canActivate(): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    return this.session.user$.pipe(\n      map((user: IUserViewFull) => (user !== null ? user.roles.indexOf('ROLE_CHIEF_EDITOR') !== -1 : false))\n    );\n  }\n}\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'app-ui-card',\n  templateUrl: './card.component.html',\n  styleUrls: ['./card.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CardComponent {\n  @Input() public shadow = true;\n\n  constructor() {}\n}\n","<div class=\"card\" [class.shadow]=\"shadow\">\n    <ng-content></ng-content>\n</div>","import { ICommentViewArticle } from '@api/schemas/comment/comment-view-article.interface';\nimport { ISortMode } from './sort-mode.const';\nimport { orderByScore } from './order-by-score.function';\nimport { orderByTime } from './order-by-time.interface';\n\nexport const SortModes: ISortMode[] = [\n  {\n    name: 'COMMON.POPULAR_FIRST',\n    sort: (a: ICommentViewArticle, b: ICommentViewArticle) => {\n      return orderByScore(a, b) || orderByTime(a, b);\n    },\n  },\n  {\n    name: 'COMMON.BY_ORDER',\n    sort: (a: ICommentViewArticle, b: ICommentViewArticle) => {\n      return orderByTime(a, b) || orderByScore(a, b);\n    },\n  },\n];\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { PermissionService } from '@app/services/permission/permission.service';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { SessionService } from '@app/services/session.service';\nimport { IShowcaseView } from '@api/schemas/showcase/showcase-view.interface';\nimport { ShowcasesService } from '@api/routes/showcases.service';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/operators';\nimport { ShowcaseEditBlockService } from './showcase-edit-block.service';\n\n@Component({\n  selector: 'app-live-content',\n  templateUrl: './live-content.component.html',\n  styleUrls: ['./live-content.component.scss']\n})\nexport class LiveContentComponent extends AbstractComponent implements OnInit, OnDestroy {\n  public items: IShowcaseView[] = [];\n  public currentPage = -1;\n  public totalPages = 1;\n  public isLoading = false;\n\n  constructor(\n    private readonly showcaseService: ShowcasesService,\n    private readonly sessionService: SessionService,\n    private readonly showcaseEditBlockService: ShowcaseEditBlockService,\n    public readonly perms: PermissionService,\n    public readonly responsive: ResponsiveService,\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.fetchNextPage();\n    this.showcaseEditBlockService.refresh$.pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.items = [];\n      this.currentPage = -1;\n      this.fetchNextPage();\n    });\n  }\n\n  public fetchNextPage(): void {\n    if (!this.isLoading && this.currentPage < this.totalPages - 1) {\n      this.isLoading = true;\n      this.currentPage += 1;\n      this.showcaseService.get$(this.currentPage).pipe(takeUntil(this.ngOnDestroy$)).subscribe((response: IPageResponse<IShowcaseView>) => {\n        this.totalPages = response.totalPages;\n        this.items.push(...response.content);\n        this.isLoading = false;\n        this.items.sort((_: IShowcaseView, __: IShowcaseView) => (_.views.you ? 1 : -1) - (__.views.you ? 1 : -1));\n        if (this.currentPage < this.totalPages) {\n          this.fetchNextPage();\n        }\n      });\n    }\n  }\n\n  public open(item: IShowcaseView): void {\n    if (this.sessionService.loggedIn$.value) {\n      this.showcaseService.storeView$(item.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        item.views.you = true;\n      });\n    }\n    window.open(item.info.url, '_blank');\n  }\n\n  public withdraw(item: IShowcaseView): void {\n    this.showcaseService.withdraw$(item.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.items.splice(this.items.indexOf(item), 1);\n    });\n  }\n}\n","<div class=\"live\">\n    <div #liveScrollWrapper class=\"scroll\">\n        <div #liveScrollItems class=\"animated fadeInLeftBig items\" draggable=\"false\">\n            <a *ngFor=\"let item of items\" class=\"item clickable\" draggable=\"false\" (click)=\"open(item)\">\n                <main>\n                    <header class=\"last-item-right v-center\">\n                        {{ item.info.subtitle }}\n                        <div *ngIf=\"!item.views || !item.views.you\" class=\"circle\"></div>\n                    </header>\n                    <section>\n                        <h4 *ngIf=\"!(responsive.lt.large | async)\">\n                            {{ item.info.title || 'Название' }}\n                        </h4>\n                        <h4 *ngIf=\"responsive.lt.large | async\">\n                            {{ item.info.title || 'Название' }}\n                        </h4>\n                    </section>\n                    <footer class=\"v-center\">\n                        <div *ngIf=\"item.info.options\">\n                            <div *ngIf=\"item.info.options.viewCount\">\n                                <svg name=\"view\" class=\"f-white\" size=\"18\"></svg>\n                                <span class=\"caption\">{{ item.info.options.viewCount }}</span>\n                            </div>\n                            <div *ngIf=\"item.info.options.postCount\">\n                                <svg name=\"edit\" class=\"f-white\" size=\"18\"></svg>\n                                <span class=\"caption\">{{ item.info.options.postCount }}</span>\n                            </div>\n                            <div *ngIf=\"item.info.options.subCount\">\n                                <svg name=\"user\" class=\"f-white\" size=\"18\"></svg>\n                                <span class=\"caption\">{{ item.info.options.subCount }}</span>\n                            </div>\n                        </div>\n                        <app-more-menu *ngIf=\"perms.hasAnyRole$(perms.roles.EDITOR$) | async\" class=\"f-white align-right\" [svgColor]=\"'white'\" #menu>\n                            <app-ui-dots-menu-item class=\"button-1\" (click)=\"withdraw(item); menu.close()\">{{ 'COMMON.TAKE_OFF_THE' | translate }}\n                            </app-ui-dots-menu-item>\n                        </app-more-menu>\n                    </footer>\n                </main>\n                <div class=\"overlay\"></div>\n                <img class=\"background\" [src]=\"item.info.cover\"/>\n            </a>\n        </div>\n    </div>\n</div>\n","import { Component, Input } from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-ui-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.scss'],\n})\nexport class SearchComponent {\n  @Input() public control: FormControl;\n\n  constructor() {}\n}\n","<input type=\"text\" class=\"c-gray\" [formControl]=\"control\" [placeholder]=\"'COMMON.SEARCH' | translate\">\n<svg name=\"search\" class=\"icon f-gray\"></svg>\n","export enum BaseStatusActionEnum {\n    HIDE = 'hide',\n    BOOKMARK = 'bookmark',\n    SUBSCRIBE = 'subscribe',\n    WATCH = 'watch',\n    VIEW = 'view',\n    VOTE = 'vote',\n    SHOWCASE = 'showcase',\n    PIN = 'pin',\n    PUBLISH = 'publish',\n    PROMOTE = 'promote',\n    BLOCK = 'block',\n    SUBMIT = 'submit',\n    BAN = 'ban',\n    COMPANY = 'company'\n}\n","export const UNKNOWN_ERROR = 'UNKNOWN';\nexport const WRONG_SUBJECT_ERROR = 'WRONG_SUBJECT';\nexport const WRONG_PASSWORD_ERROR = 'WRONG_PASSWORD';\nexport const WRONG_CREDENTIALS_ERROR = 'WRONG_CREDENTIALS_ERROR';\n\nexport const USERNAME_TAKEN = 'USERNAME_TAKEN';\nexport const EMAIL_TAKEN = 'EMAIL_TAKEN';\n","import { Injectable } from '@angular/core';\nimport { CanActivate, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { SessionService } from '@app/services/session.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SuperUserGuard implements CanActivate {\n  constructor(\n    private readonly session: SessionService\n  ) {}\n\n  canActivate(): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n   return this.session.user$.pipe(\n     map((user: IUserViewFull) => (user !== null ? user.roles.indexOf('ROLE_SUPERUSER') !== -1 : false)));\n  }\n}\n","import { Component, Input, EventEmitter, Output, ViewChild, OnInit, ElementRef } from '@angular/core';\nimport { CKEditorComponent, CKEditor5, ChangeEvent } from '@ckeditor/ckeditor5-angular';\nimport { WysiwygEditorService } from './wysiwyg-editor.service';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { TOOLBAR } from './wysiwyg-editor.const';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-wysiwyg-editor',\n  templateUrl: './wysiwyg-editor.component.html',\n  styleUrls: ['./wysiwyg-editor.component.scss'],\n})\nexport class WysiwygEditorComponent implements OnInit {\n  @ViewChild('ckeditor') private editorOut: CKEditorComponent;\n\n  @Input() public id = 'toolbar-container';\n  @Input() public initialData: string;\n  @Input() public readOnly = false;\n\n  @Output() public readonly valueChange: EventEmitter<string> = new EventEmitter<string>();\n\n  public editor: CKEditor5.EditorConstructor;\n  public editorComponent: CKEditor5.Editor;\n  public config: CKEditor5.Config = null;\n  public ready = false;\n  public parsedString = '';\n\n  constructor(\n    private readonly wysiwygEditorService: WysiwygEditorService,\n    private readonly translateService: TranslateService,\n    public readonly platformService: PlatformService,\n    public el: ElementRef\n  ) {\n    if (this.platformService.isBrowser) {\n      const ClassicEditor = require('@ckeditor/ckeditor5-build-decoupled-document');\n      this.editor = ClassicEditor;\n      this.config = {\n        toolbar: TOOLBAR,\n        heading: {\n          options: [\n            { model: 'paragraph', title: this.translateService.instant('EDITOR.TEXT'), class: 'ck-heading_paragraph' },\n            { model: 'heading2', view: 'h2', title: 'h2', class: 'ck-heading_heading2' },\n            { model: 'heading3', view: 'h3', title: 'h3', class: 'ck-heading_heading3' }\n          ]\n        },\n        language:  this.translateService.currentLang,\n        link: { addTargetToExternalLinks: true },\n      };\n    }\n  }\n\n  ngOnInit(): void {\n    if (this.platformService.isBrowser && this.readOnly) {\n      const parser = require('html-to-text');\n      this.parsedString = parser.fromString(this.initialData, { ignoreHref: true });\n    }\n  }\n\n  public onChange({ editor }: ChangeEvent): void {\n    if (this.ready) {\n      this.valueChange.emit(editor.getData());\n    }\n  }\n\n  public onReady(editor: CKEditor5.Editor): void {\n    this.editorComponent = editor;\n    editor.setData(this.initialData || '');\n    const toolbarContainer: Node = document.querySelector(`#${this.id}`);\n    editor.plugins.get('FileRepository').createUploadAdapter = (loader: any) => this.wysiwygEditorService.createCkUploadAdapter(loader);\n    if (!this.readOnly) {\n      toolbarContainer.appendChild(editor.ui.view.toolbar.element);\n    }\n    setTimeout(() => (this.ready = true), 0);\n  }\n\n  public setValue(data: string): void {\n    this.editorComponent.setData(data);\n  }\n\n  public focus(): void {\n    this.editorOut.editorInstance.editing.view.focus();\n  }\n\n  public emit(eventName: string): void {\n    this.el.nativeElement.dispatchEvent(new Event(eventName, { bubbles: true }));\n  }\n}\n","<ckeditor #ckeditor\n          *ngIf=\"platformService.isBrowser\"\n          [class.readonly]=\"readOnly\"\n          [editor]=\"editor\"\n          [config]=\"config\"\n          [disabled]=\"readOnly\"\n          (change)=\"onChange($event)\"\n          (focusin)=\"emit('focusin')\"\n          (focusout)=\"emit('focusout')\"\n          (ready)=\"onReady($event)\">\n</ckeditor>\n<div [id]=\"id\"></div>\n\n<!-- representing data on server -->\n<div *ngIf=\"platformService.isServer\" [innerHTML]=\"initialData\"></div>\n","import { Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n  selector: '[appMoreMenu]',\n  exportAs: 'moreMenu',\n})\nexport class MoreMenuDirective {\n  constructor(public templateRef: TemplateRef<any>) {}\n}\n","import { IObject } from '@api/schemas/object/object.interface';\n\nexport function orderObjects<T extends IObject>(ids: number[]): (a: T, b: T) => number {\n  return (a: T, b: T) => {\n    const indexA = ids.indexOf(a.meta.id);\n    const indexB = ids.indexOf(b.meta.id);\n    let result = 0;\n    if (indexA < indexB) {\n      result = -1;\n    } else if (indexA > indexB) {\n      result = 1;\n    }\n    return result;\n  };\n}\n","import { Injectable } from '@angular/core';\nimport { environment } from '@env';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\nimport { Stomp, CompatClient, IMessage } from '@stomp/stompjs';\nimport { BehaviorSubject } from 'rxjs';\nimport { TokenService } from '@app/services/token.service';\nimport { HttpClient } from '@angular/common/http';\nimport { NotificationsService } from '@api/routes/notifications.service';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { INotification } from '@api/schemas/notification/notification.interface';\nimport { PlatformService } from './platform.service';\n\n\ninterface ISocketHeader {\n  Authorization: string;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class NotificationUpdateService {\n  private client: CompatClient = null;\n\n  public readonly unreadNotifications$: BehaviorSubject<number> = new BehaviorSubject<number>(0);\n  public readonly notifications$: BehaviorSubject<INotification[]> = new BehaviorSubject<INotification[]>([]);\n\n  public lastToken = '';\n\n  constructor(\n    private readonly token: TokenService,\n    private readonly http: HttpClient,\n    private readonly notificationsService: NotificationsService,\n    private readonly platformService: PlatformService\n  ) {\n    this.client = Stomp.client(`wss://${ environment.baseApiUrl }/ws`);\n  }\n\n  public subOnNotifications(userId: number): void {\n    this.update();\n    this.client.onWebSocketClose = () => {\n      setTimeout(() => {\n        this.connect(userId);\n      }, 1000);\n    };\n    this.connect(userId);\n  }\n\n  private connect(userId: number): void {\n    if (this.token.access && this.token.refresh && this.platformService.isBrowser) {\n      let header: ISocketHeader = { Authorization: `Bearer ${this.token.access}` };\n      this.lastToken = this.token.access;\n      this.client.connect(\n        header,\n        () => {\n          this.client.subscribe(\n            `/user/${ userId }/queue/reply`,\n            (_: IMessage) => {\n              this.notificationsService.unreadCount$().subscribe((count: number) => {\n                this.unreadNotifications$.next(count);\n              });\n              const temp: INotification[] = this.notifications$.value;\n              temp.unshift(JSON.parse(_.body));\n              this.notifications$.next(temp);\n            },\n            header as any,\n          );\n        },\n        () => {\n          this.http\n            .post(`${ environment.apiUrl }token/refresh`, {\n              refreshToken: this.token.refresh,\n            })\n            .subscribe({\n              error: () => {\n                this.token.clear();\n              },\n              next: (tokens: IApiTokens) => {\n                this.token.save(tokens);\n                header = { Authorization: `Bearer ${ this.token.access }` };\n                this.lastToken = this.token.access;\n                this.connect(userId);\n              },\n            });\n        },\n      );\n    }\n  }\n\n  public disconnect(): void {\n    this.client.disconnect(() => {}, { Authorization: `Bearer ${ this.lastToken }` });\n    this.clear();\n  }\n\n  public update(): void {\n    this.notificationsService.get$(0).subscribe((_: IPageResponse<INotification>) => {\n      this.notifications$.next(_.content);\n    });\n    this.updateCount();\n  }\n\n  public updateCount(): void {\n    this.notificationsService.unreadCount$().subscribe((_: number) => {\n      this.unreadNotifications$.next(_);\n    });\n  }\n\n  public add(items: INotification[]): void {\n    const temp: INotification[] = this.notifications$.value;\n    temp.push(...items);\n    this.notifications$.next(temp);\n  }\n\n  public clear(): void {\n    this.notifications$.next([]);\n    this.unreadNotifications$.next(0);\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { PageableContent } from '@shared/classes/pageable-conetnt.class';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/operators';\nimport { ScrollTrigger } from '@shared/classes/scroll-trigger.class';\nimport { PlatformService } from '@shared/services/platform.service';\n\n@Component({\n  selector: 'app-pagination',\n  template: '',\n})\nexport class PaginationComponent extends AbstractComponent implements OnInit {\n  @Input() public page = 0;\n  @Input() public enabled: boolean;\n  @Input() public maxPages: number;\n  @Input() public fireFirstPage = true;\n  @Input() public pageable: PageableContent<any> | null = null;\n\n  // tslint:disable:no-output-on-prefix\n  @Output() public readonly onPage: EventEmitter<number> = new EventEmitter<number>();\n  @Output() public readonly onPageAttempt: EventEmitter<void> = new EventEmitter<void>();\n  // tslint:enable:no-output-on-prefix\n\n  public scrollTrigger: ScrollTrigger;\n\n  constructor(private readonly platformService: PlatformService) {\n    super();\n  }\n\n  ngOnInit(): void {\n    if (this.platformService.isBrowser) {\n      setTimeout(() => {\n        if (this.fireFirstPage) {\n          if (this.pageable) {\n            this.pageable.fetch();\n          } else {\n            this.onPage.emit(this.page);\n          }\n        }\n        this.initInfiniteScroll();\n      });\n    }\n  }\n\n  private initInfiniteScroll(): void {\n    this.scrollTrigger = new ScrollTrigger();\n    this.scrollTrigger.scroll$.pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => this.onScroll());\n  }\n\n  private onScroll(): void {\n    if (this.pageable) {\n      if (this.pageable.page >= this.pageable.totalPages - 1) {\n        this.onPageAttempt.emit();\n      }\n      this.pageable.fetch();\n    } else if (this.enabled) {\n      if (this.page < this.maxPages) {\n        this.page++;\n        this.onPage.emit(this.page);\n      } else {\n        this.onPageAttempt.emit();\n      }\n    }\n  }\n}\n","const atobSafe = typeof atob === 'undefined' ? ((str: string) => Buffer.from(str, 'base64').toString('binary')) : atob;\n\nexport class Jwt {\n    // tslint:disable\n    private _header: any;\n    private _data: { [key: string]: any };\n    // tslint:enable\n\n    public get expired(): boolean {\n        return Date.now() / 1000 > this.data.exp;\n    }\n\n    public get header(): any {\n        return this._header;\n    }\n\n    public get data(): { [key: string]: any } {\n        return this._data;\n    }\n\n    constructor(data: string, withHeader: boolean = true) {\n        if (withHeader) {\n            const components = data.replace(/-/g, '+').replace(/_/, '/').split('.');\n            this._header = JSON.parse(decodeURIComponent(escape(atobSafe(components[0]))));\n            this._data = JSON.parse(decodeURIComponent(escape(atobSafe(components[1]))));\n        } else {\n            this._data = JSON.parse(decodeURIComponent(escape(atobSafe(data))));\n        }\n    }\n}\n","export class Glb {\n  public static makeEnum<T extends { [index: string]: U }, U extends string | number>(x: T): T {\n    return x;\n  }\n}\n","import { Directive, EventEmitter, HostListener, Input, Output } from '@angular/core';\nimport { SessionService } from '@app/services/session.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { ReportBlockService } from '@layout/report-block/report-block.service';\nimport { IReportObject } from '@layout/report-block/report-object.interface';\n\n\n@Directive({\n  selector: '[appReport]',\n})\nexport class ReportDirective {\n  @Input() public object: IReportObject;\n\n  @Output() readonly report: EventEmitter<void> = new EventEmitter<void>();\n\n  constructor(\n    private readonly reportBlockService: ReportBlockService,\n    private readonly sessionService: SessionService,\n    private readonly userDropdownService: UserDropdownService,\n  ) {}\n\n  @HostListener('click') public onClick(): void {\n    if (this.sessionService.loggedIn$.value) {\n      this.reportBlockService.toggle(this.object);\n      const sub: any = this.reportBlockService.reported$().subscribe((_: boolean) => {\n        if (_) {\n          this.report.next();\n          sub.unsubscribe();\n        }\n      });\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n}\n","export enum UserOrderEnum {\n    NAME = 'NAME',\n    LAST_POST_TIME = 'LAST_POST_TIME',\n    POST_COUNT = 'POST_COUNT',\n    SUB_COUNT = 'SUB_COUNT',\n    RATING = 'RATING',\n}\n","import { Component, Input, ViewChild } from '@angular/core';\nimport { MoreMenuDirective } from './more-menu.directive';\nimport { MoreMenuService } from './more-menu.service';\n\n@Component({\n  selector: 'app-more-menu',\n  templateUrl: './more-menu.component.html',\n  styleUrls: ['./more-menu.component.scss'],\n})\nexport class MoreMenuComponent {\n  @ViewChild('menu', { static: true }) public moreMenu: MoreMenuDirective;\n\n  @Input() public svgColor = '#92929D';\n\n  public state = { shown: false };\n\n  constructor(private readonly moreMenuService: MoreMenuService) {}\n\n  public close(): void {\n    this.moreMenuService.close();\n  }\n\n  public toggle(event: MouseEvent): void {\n    event.stopPropagation();\n    this.moreMenuService.open(this.moreMenu.templateRef, event);\n  }\n}\n","<div class=\"has-dropdown v-center\">\n    <svg name=\"more\" [attr.fill]=\"svgColor\" (click)=\"toggle($event)\"></svg>\n    <ng-template appMoreMenu #menu=moreMenu>\n        <ng-content></ng-content>\n    </ng-template>\n</div>\n","import { Component, OnDestroy, HostBinding, Input, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { BehaviorSubject, fromEvent } from 'rxjs';\nimport { IMenuState } from '@layout/shared/interfaces/menu-state.interface';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-ui-dots-menu',\n  templateUrl: './dots-menu.component.html',\n  styleUrls: ['./dots-menu.component.scss']\n})\nexport class DotsMenuComponent extends AbstractComponent implements OnDestroy, AfterViewInit {\n  @ViewChild('dropdown', { static: false }) private dropdown: ElementRef;\n\n  @HostBinding('class.has-dropdown') public hostClassHasDropdown = true;\n  @HostBinding('class.v-center') public hostClassVCenter = true;\n\n  @Input() public svgColor = '#92929D';\n\n  public readonly state: IMenuState = { shown: new BehaviorSubject<boolean>(false), sub: null };\n  public readonly shown: BehaviorSubject<boolean> = this.state.shown as BehaviorSubject<boolean>;\n\n  constructor(private readonly elementRef: ElementRef) {\n    super();\n  }\n\n  ngAfterViewInit(): void {\n    const menuItems: HTMLElement[] = Array.from(this.elementRef.nativeElement.querySelectorAll('app-ui-dots-menu-item'));\n    menuItems.forEach((item: HTMLElement) => item.addEventListener('click', this.toggle.bind(this)));\n  }\n\n  public toggle(event: MouseEvent): void {\n    event.stopPropagation();\n    if (this.state.shown instanceof BehaviorSubject) {\n      if (this.state.shown.value) {\n        this.state.sub.unsubscribe();\n        this.state.shown.next(false);\n      } else {\n        this.state.shown.next(true);\n        setTimeout(() => {\n          this.state.sub = fromEvent(document, 'click', {\n            capture: true,\n          }).pipe(takeUntil(this.ngOnDestroy$)).subscribe((e: FocusEvent) => {\n            if (!this.dropdown.nativeElement.contains(e.target)) {\n              requestAnimationFrame(() => {\n                this.state.sub.unsubscribe();\n                if (this.state.shown instanceof BehaviorSubject) {\n                  this.state.shown.next(false);\n                }\n              });\n            }\n          });\n        }, 0);\n      }\n    }\n  }\n}\n","<svg name=\"more\" [attr.fill]=\"svgColor\" (click)=\"toggle($event)\"></svg>\n<div class=\"dropdown\" tabindex=\"-1\" #dropdown *ngIf=\"shown | async\" style=\"z-index: 5;\">\n    <ul class=\"structural item-space-20\" (click)=\"toggle($event)\">\n        <ng-content></ng-content>\n    </ul>\n</div>\n","import { Component, Input, Output, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\nimport { IToggleItem } from '@shared/interfaces/toggle-item.interface';\n\n@Component({\n  selector: 'app-filters',\n  templateUrl: './filters.component.html',\n  styleUrls: ['./filters.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FiltersComponent {\n  @Input() public filters: IToggleItem[];\n  @Input() public activeFilter: number;\n\n  @Output() public readonly toggleFilter: EventEmitter<IToggleItem> = new EventEmitter<IToggleItem>();\n\n  constructor() {}\n\n  public selectFilter(filter: IToggleItem): void {\n    if (filter.id === this.activeFilter) {\n      this.activeFilter = -1;\n    } else {\n      this.activeFilter = filter.id;\n    }\n    this.toggleFilter.emit(this.activeFilter === -1 ? null : filter);\n  }\n}\n","<ul class=\"filters\">\n    <li *ngFor=\"let filter of filters\"\n        class=\"filters__item clickable\"\n        [class.active]=\"activeFilter === filter.id\"\n        (click)=\"selectFilter(filter)\">\n        {{ filter.text }}\n    </li>\n</ul>","import { Component, OnInit } from '@angular/core';\nimport { LocalStorageKeyEnum } from '@shared/enums/local-storage-key.enum';\nimport { PlatformService } from '@shared/services/platform.service';\n\n@Component({\n  selector: 'app-cookies-banner',\n  templateUrl: './cookies-banner.component.html',\n  styleUrls: ['./cookies-banner.component.scss']\n})\nexport class CookiesBannerComponent implements OnInit {\n  public show = true;\n\n  constructor(\n    private readonly platformService: PlatformService\n  ) {}\n\n  ngOnInit(): void {\n    if (this.platformService.isBrowser) {\n      if (localStorage.getItem(LocalStorageKeyEnum.COOKIES_BANNER) === 'true') {\n        this.show = false;\n      }\n    }\n  }\n\n  public btnClick(): void {\n    localStorage.setItem(LocalStorageKeyEnum.COOKIES_BANNER, 'true');\n    this.show = false;\n  }\n}\n","<div *ngIf=\"show\" class=\"cookies-container\">\n    <div class=\"wrapper\">\n        <p>Мы используем cookie-файлы для улучшения функциональности сайта и вашего взаимодействия с ним. Вы можете прочитать подробнее о <a target=\"_blank\" href=\"https://ru.wikipedia.org/wiki/Cookie\">cookie-файлах</a> и изменить настройки своего браузера.</p>\n        <button class=\"v-center button-1 button-padding\" (click)=\"btnClick()\"><span>ОК</span></button>\n    </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/services/api.service';\nimport { Observable } from 'rxjs';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { IArticleView } from '@api/schemas/article/article-view.interface';\nimport { map } from 'rxjs/operators';\nimport { environment } from '@env';\nimport { IFeedParams } from '@api/schemas/feed/feed-params.interface';\nimport { FeedOrderEnum } from '@api/schemas/feed/feed-order.enum';\nimport { IUnread } from '@api/schemas/feed/unread.interface';\nimport { PublicationStageEnum } from '@api/schemas/article/publication-stage.enum';\nimport { IArticleViewBase } from '@api/schemas/article/article-view-base.interface';\nimport { UnreadFilterEnum } from '@api/schemas/feed/unread-filter.enum';\n\nconst CONTROLLER_ENDPOINT = 'feed';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FeedService {\n  constructor(private readonly apiService: ApiService) {}\n\n  public feedRequest$(params: IFeedParams = {}): Observable<IPageResponse<IArticleView>> {\n    return this.apiService.get$<IPageResponse<IArticleView>>(CONTROLLER_ENDPOINT, true, params);\n  }\n\n  public search$(query: string, page: number = 0): Observable<IPageResponse<IArticleViewBase>> {\n    return this.apiService.get$<IPageResponse<IArticleViewBase>>(\n      `${ CONTROLLER_ENDPOINT }?page=${ page }&query=${ encodeURIComponent(query) }`, true);\n  }\n\n  public count$(params: IFeedParams = {}): Observable<number> {\n    return this.apiService.get$<{ count: number }>(`${ CONTROLLER_ENDPOINT }/count`,\n      true, params).pipe(map((_: { count: number }) => _.count));\n  }\n\n  public unread$(params: IFeedParams = {}): Observable<IUnread> {\n    return this.apiService.get$<IUnread>(`${ CONTROLLER_ENDPOINT }/count`, true, { ...params, seen: false });\n  }\n\n  public countUnread$(filter?: UnreadFilterEnum, author?: number): Observable<IUnread> {\n    return this.apiService.get$<IUnread>(`${ CONTROLLER_ENDPOINT }/count-unread${\n      filter ? ('?filter=' + filter + (author ? '&author=' + author : '')) : ''\n    }`, true);\n  }\n\n  public unreadHeader$(): Observable<IUnread> {\n    return this.apiService.get$<IUnread>(`${ CONTROLLER_ENDPOINT }/count?seen=false&sub=author,topic`, true);\n  }\n\n  public pinned$(author: number): Observable<IPageResponse<IArticleView>> {\n    return this.apiService.get$<IPageResponse<IArticleView>>(`${ CONTROLLER_ENDPOINT }?pinned=true&author=${ author }`, true);\n  }\n\n  public drafts$(page: number = 0): Observable<IPageResponse<IArticleView>> {\n    return this.feedRequest$({ page, stage: [PublicationStageEnum.DRAFT] });\n  }\n\n  public after$(order: FeedOrderEnum, page: number = 0, after?: Date): Observable<IPageResponse<IArticleView>> {\n    return this.feedRequest$({ page, after: after ? Math.floor(after.getTime() / 1000) : 0, order });\n  }\n\n  public news$(): Observable<IPageResponse<IArticleView>> {\n    return this.feedRequest$({ page: 0, topic: environment.newsId, order: FeedOrderEnum.TIME });\n  }\n\n  public viewed$(page: number = 0, after: Date = new Date()): Observable<IPageResponse<IArticleView>> {\n    return this.feedRequest$({ page, order: FeedOrderEnum.VIEWS, viewsAfter: after.getTime() - 1000 * 60 * 60 * 24 });\n  }\n\n  public discussed$(page: number = 0, after?: Date): Observable<IPageResponse<IArticleView>> {\n    return this.after$(FeedOrderEnum.COMMENTS, page, after);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '@env';\nimport { map } from 'rxjs/operators';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\n\nconst CONTROLLER_ENDPOINT = 'auth';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n  constructor(private readonly http: HttpClient) { }\n\n  public exists$(method: string, body: any): Observable<boolean> {\n    return this.http.post<{ exists: boolean }>(`${ environment.apiUrl + CONTROLLER_ENDPOINT }/check/${ method }`, body)\n      .pipe(map((_: { exists: boolean }) => _.exists));\n  }\n\n  public loginSocial$(method?: string, body?: any): Observable<IApiTokens> {\n    return this.http.post<IApiTokens>(`${ environment.apiUrl + CONTROLLER_ENDPOINT }/social/${ method }`, body);\n  }\n\n  public login$(subject: string, password: string): Observable<IApiTokens> {\n    return this.http.post<IApiTokens>(`${ environment.apiUrl + CONTROLLER_ENDPOINT }/classic`, { subject, password });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { PlatformService } from '@shared/services/platform.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ResponsiveService {\n  public readonly width$: BehaviorSubject<number> = new BehaviorSubject(this.platformService.isBrowser ? window.innerWidth : 1920);\n  public readonly height$: BehaviorSubject<number> = new BehaviorSubject(this.platformService.isBrowser ? window.innerHeight : 1080);\n\n  public readonly breakpoints: any = { xlarge: 1400, large: 1060, medium: 740, small: 375 };\n\n  public readonly lt: any = {\n    small: this.width$.pipe(map((_: number) => _ < this.breakpoints.small)),\n    medium: this.width$.pipe(map((_: number) => _ < this.breakpoints.medium)),\n    large: this.width$.pipe(map((_: number) => _ < this.breakpoints.large)),\n    xlarge: this.width$.pipe(map((_: number) => _ < this.breakpoints.xlarge)),\n  };\n\n  public readonly mt: any = {\n    small: this.width$.pipe(map((_: number) => _ > this.breakpoints.small)),\n  };\n\n  public medium: any = this.width$.pipe(map((_: number) => _ >= this.breakpoints.medium && _ < this.breakpoints.large));\n  public large: any = this.width$.pipe(map((_: number) => _ >= this.breakpoints.large && _ < this.breakpoints.xlarge));\n  public small: any = this.width$.pipe(map((_: number) => _ < this.breakpoints.medium));\n\n  constructor(\n    private readonly platformService: PlatformService\n  ) {\n    if (this.platformService.isBrowser) {\n      window.addEventListener('resize', this.onResize.bind(this));\n    }\n  }\n\n  public onResize(event: Event): void {\n    this.width$.next((event.target as Window).innerWidth);\n    this.height$.next((event.target as Window).innerHeight);\n  }\n}\n","import { Component } from '@angular/core';\nimport { SessionService } from '@app/services/session.service';\nimport { environment } from '@env';\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  public blocker = environment.blocker;\n\n  constructor(\n    public readonly sessionService: SessionService\n  ) { }\n}\n","<app-layout *ngIf=\"!blocker || (sessionService.user$ | async)?.roles.includes('ROLE_SUPERUSER'); else outlet\">\n    <ng-container [ngTemplateOutlet]=\"outlet\"></ng-container>\n</app-layout>\n\n<ng-template #outlet>\n    <router-outlet></router-outlet>\n</ng-template>\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { JobsService } from '@api/routes/jobs.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class JobCreateGuard implements CanActivate {\n  constructor(private readonly jobsService: JobsService, private readonly router: Router) {}\n\n  canActivate(): Observable<UrlTree> {\n    return this.jobsService.create$().pipe(map((id: number) => this.router.createUrlTree(['/jobs', id, 'edit'])));\n  }\n}\n","import { EUserStatsProperty } from '../enums/user-stats-property.enum';\n\nexport class UpdateProperty {\n    static readonly type = '[User stats] Update property';\n\n    constructor(public readonly property: EUserStatsProperty) {}\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HeaderComponent } from './header/header.component';\nimport { LoginFormComponent } from './header/login-form/login-form.component';\nimport { SearchBoxComponent } from './header/search-box/search-box.component';\nimport { UserDropdownComponent } from './header/user-dropdown/user-dropdown.component';\nimport { LoginSocialConnectComponent } from './login-social-connect/login-social-connect.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { LayoutComponent } from '@layout/layout.component';\nimport { DynamicMetaTagsComponent } from './dynamic-meta-tags/dynamic-meta-tags.component';\nimport { SidebarWrapperComponent } from './sidebar-wrapper/sidebar-wrapper.component';\nimport { FeedNavComponent } from './shared/components/feed-nav/feed-nav.component';\nimport { FeedNavItemComponent } from './shared/components/feed-nav/feed-nav-item/feed-nav-item.component';\nimport { ToolbarComponent } from './shared/components/toolbar/toolbar.component';\nimport { TrendingSidebarComponent } from './sidebar-wrapper/trending-sidebar/trending-sidebar.component';\nimport { NavigationSidebarComponent } from './sidebar-wrapper/navigation-sidebar/navigation-sidebar.component';\nimport { LiveContentComponent } from './sidebar-wrapper/live-content/live-content.component';\nimport { NgScrollbarModule } from 'ngx-scrollbar';\nimport { ArticleInfoSidebarComponent } from './sidebar-wrapper/article-info-sidebar/article-info-sidebar.component';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { ReportBlockComponent } from './report-block/report-block.component';\nimport { CookiesBannerComponent } from './cookies-banner/cookies-banner.component';\nimport { ShowcaseEditorComponent } from './showcase-editor/showcase-editor.component';\nimport { NotificationElementComponent } from './header/notification-element/notification-element.component';\nimport { CommonDirectivesModule } from '@shared/directives/directives.module';\nimport { MoreMenuModule } from '@shared/modules/more-menu/more-menu.module';\nimport { PersonNamePipe } from '@shared/pipes/person-name.pipe';\n\n\n@NgModule({\n  declarations: [\n    HeaderComponent,\n    LoginFormComponent,\n    SearchBoxComponent,\n    UserDropdownComponent,\n    LoginSocialConnectComponent,\n    FeedNavItemComponent,\n    LayoutComponent,\n    DynamicMetaTagsComponent,\n    SidebarWrapperComponent,\n    FeedNavComponent,\n    ToolbarComponent,\n    TrendingSidebarComponent,\n    NavigationSidebarComponent,\n    LiveContentComponent,\n    ArticleInfoSidebarComponent,\n    ReportBlockComponent,\n    CookiesBannerComponent,\n    ShowcaseEditorComponent,\n    NotificationElementComponent\n  ],\n  exports: [\n    HeaderComponent,\n    LoginSocialConnectComponent,\n    LoginFormComponent,\n    SearchBoxComponent,\n    UserDropdownComponent,\n    LayoutComponent,\n    SidebarWrapperComponent,\n    NotificationElementComponent\n  ],\n  imports: [\n    CommonModule,\n    TranslateModule.forChild(),\n    SharedComponentsModule,\n    SvgModule,\n    ReactiveFormsModule,\n    FormsModule,\n    RouterModule,\n    SharedPipesModule,\n    SharedUiModule,\n    NgScrollbarModule,\n    CommonDirectivesModule,\n    MoreMenuModule\n  ],\n  providers: [\n    PersonNamePipe\n  ]\n})\nexport class LayoutModule { }\n","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\n\nconst monthNamesEn = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nconst monthNamesRu = ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря'];\n\n@Injectable()\nexport class TimeFunctions {\n  constructor(private readonly translateService: TranslateService) { }\n\n  public timestampToStringRange(timestamp: number): string {\n    const date: Date = new Date(timestamp);\n    const monthNames = this.translateService?.currentLang === 'ru' ? monthNamesRu : monthNamesEn;\n    return `${ date.getDate() } ${ monthNames[date.getMonth()] } ${ this.timeToString(timestamp) }`;\n  }\n\n  public timestampToStringNews(timestamp: number): string {\n    const date: Date = new Date(timestamp);\n    const today: Date = new Date();\n    const monthNames = this.translateService?.currentLang === 'ru' ? monthNamesRu : monthNamesEn;\n    return today.getDate() - date.getDate() <= 2 && date.getMonth() === today.getMonth()\n      ? `${ date.getDate() } ${ monthNames[date.getMonth()] } ${ this.timeToString(timestamp) }`\n      : `${ date.getDate() } ${ monthNames[date.getMonth()] }`;\n  }\n\n  public timestampToString(timestamp: number): string {\n    const date: Date = new Date(timestamp);\n    const monthNames = this.translateService?.currentLang === 'ru' ? monthNamesRu : monthNamesEn;\n    return `${ date.getDate() } ${ monthNames[date.getMonth()] } ${ this.translateService?.currentLang === 'ru' ? 'в' : 'in' } ${ this.timeToString(timestamp) }`;\n  }\n\n  public timeToString(timestamp: number): string {\n    const date = new Date(timestamp);\n    return `${ (date\n      .getHours()\n      .toString() as any)\n      .padStart(2, '0') }:${ (date\n      .getMinutes()\n      .toString() as any)\n      .padStart(2, '0') }`;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { SessionService } from '@app/services/session.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CompanyGuard implements CanActivate {\n  constructor(\n    private readonly session: SessionService,\n  ) {}\n\n  canActivate(): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    return this.session.user$.pipe(\n      map((user: IUserViewFull) => (user !== null ? user.info.company.isCompany : false))\n    );\n  }\n}\n","export enum TagOrderEnum {\n    NAME = 'NAME',\n    VIEWS = 'VIEWS',\n    RECENT_VIEWS = 'RECENT_VIEWS',\n    RECENT_POSTS = 'RECENT_POSTS',\n    POST_COUNT = 'POST_COUNT',\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild, OnDestroy } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport linkifyHtml from 'linkifyjs/html';\nimport { BehaviorSubject } from 'rxjs';\nimport { skip, takeUntil } from 'rxjs/operators';\nimport { CommentsService } from '@api/routes/comments.service';\nimport { ICommentViewArticle } from '@api/schemas/comment/comment-view-article.interface';\nimport { ICommentViewFeed } from '@api/schemas/comment/comment-view-feed.interface';\nimport { IUserViewBase } from '@api/schemas/user/user-view-base.interface';\nimport { ICommentViewBase } from '@api/schemas/comment/comment-view-base.interface';\n\n@Component({\n  selector: 'app-comment',\n  templateUrl: './comment.component.html',\n  styleUrls: ['./comment.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CommentComponent extends AbstractComponent implements OnInit, OnDestroy {\n  @Input() public comment: ICommentViewFeed | ICommentViewArticle;\n  @Input() public author: IUserViewBase;\n  @Input() public parent: ICommentViewBase;\n  @Input() public parentAuthor: IUserViewBase;\n  @Input() public depth: number;\n  @Input() public context: number;\n  @Input() public extraStyle = false;\n  @Input() public ownID: number | null;\n  @Input() public isLogged: boolean;\n\n  @Output() public readonly reply: EventEmitter<never> = new EventEmitter<never>();\n  @Output() public readonly vote: EventEmitter<'up' | 'down'> = new EventEmitter<'up' | 'down'>();\n  @Output() public readonly gone: EventEmitter<void> = new EventEmitter<void>();\n  @Output() public readonly watchEmit: EventEmitter<ICommentViewArticle | ICommentViewFeed> =\n    new EventEmitter<ICommentViewArticle | ICommentViewFeed>();\n  @Output() public readonly deleteComment: EventEmitter<number> = new EventEmitter<number>();\n\n  @ViewChild('renderedContent', { static: true }) public renderedContent: ElementRef;\n\n  private isBellWatched = false;\n\n  public readonly editMode$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  public readonly editableContent: FormControl = new FormControl('');\n  public readonly processing$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n  public readonly error$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  public reported = false;\n\n  public get commentHtml(): string {\n    return linkifyHtml(this.comment.html);\n  }\n\n  public get isOwn(): boolean {\n    return this.ownID === this.comment.owner.meta.id;\n  }\n\n  public get isWatched(): boolean {\n    return this.isBellWatched;\n  }\n\n  constructor(\n    private readonly ref: ChangeDetectorRef,\n    public readonly responsive: ResponsiveService,\n    public readonly commentsService: CommentsService,\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.isBellWatched = this.comment.watch;\n  }\n\n  public iconSize(depth: number): string {\n    switch (depth) {\n      case 0:\n        return 'large';\n      case 1:\n        return 'medium';\n    }\n    return 'small';\n  }\n\n  public doCommentVote(comment: ICommentViewArticle | ICommentViewFeed, vote: 'up' | 'down'): void {\n    const castVote: any = vote === 'up' ? 1 : -1;\n    if (comment.votes.you === castVote) {\n      this.commentsService.vote$(comment.meta.id, true).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        if (castVote > 0) {\n          comment.votes.up -= castVote;\n        } else {\n          comment.votes.down += castVote;\n        }\n        comment.votes.you = 0;\n        this.ref.markForCheck();\n      });\n    } else {\n      this.commentsService.vote$(comment.meta.id, false, castVote).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        if (comment.votes.you > 0) {\n          comment.votes.up -= comment.votes.you;\n        } else {\n          comment.votes.down += comment.votes.you;\n        }\n        if (castVote > 0) {\n          comment.votes.up += castVote;\n        } else {\n          comment.votes.down -= castVote;\n        }\n        comment.votes.you = castVote;\n        this.ref.markForCheck();\n      });\n    }\n  }\n\n  public cancel(): void {\n    this.editMode$.next(false);\n  }\n\n\n  public edit(): void {\n    this.error$.next(false);\n    this.commentsService.getSource$(this.comment.meta.id).pipe(\n      takeUntil(this.ngOnDestroy$),\n      takeUntil(this.editMode$.pipe(skip(1)))\n    ).subscribe((_: { source: string }) => {\n      this.editMode$.next(true);\n      this.editableContent.setValue(_.source);\n    });\n  }\n\n  public submit(): void {\n    this.error$.next(false);\n    this.processing$.next(true);\n    this.commentsService.setSource$(this.comment.meta.id, this.editableContent.value).pipe(takeUntil(this.ngOnDestroy$)).subscribe(\n      (res: { html: string }) => {\n        this.comment.html = res.html;\n        this.ref.markForCheck();\n        this.editMode$.next(false);\n      },\n      () => {\n        this.error$.next(true);\n      },\n      () => {\n        this.processing$.next(false);\n      },\n    );\n  }\n\n  public watch(): void {\n    this.watchEmit.emit(this.comment);\n    this.isBellWatched = !this.isBellWatched;\n    this.ref.markForCheck();\n  }\n\n  public delete(id: number): void {\n    this.commentsService.delete$(id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.deleteComment.emit(id);\n    });\n  }\n}\n","<div class=\"comment\" [ngClass]=\"{'level-1': depth === 1, 'level-2': depth >= 2, 'padding-left-0': extraStyle}\">\n    <div class=\"margin-bottom-8\" [ngClass]=\"{'info': !extraStyle, 'info-extra': extraStyle}\">\n        <app-ui-icon class=\"clickable\" [src]=\"comment.owner.info.picture\"\n                     [textAlternative]=\"comment.owner.info | personName\" [size]=\"depth | call : iconSize\" [routerLink]=\"comment.owner | accountUrl\"></app-ui-icon>\n        <div class=\"meta\">\n            <div class=\"name-reply v-center margin-right-10 tool-wrap\">\n                <span class=\"subtitle-1 css-block margin-right-10 clickable\"><a [routerLink]=\"comment.owner | accountUrl\">{{ comment.owner.info | personName }}</a></span>\n                <div *ngIf=\"parent && parent.meta.id\" class=\"v-center\">\n                    <svg name=\"reply\" class=\"f-gray margin-right-10\"></svg>\n                    <span *ngIf=\"responsive.lt.medium | async; else fullName\" class=\"subtitle-1 fade-2 clickable\" >\n                        <a [routerLink]=\"parent.owner | accountUrl\">{{ parent.owner.info | personNameShort }}</a>\n                    </span>\n                    <ng-template #fullName>\n                        <a class=\"subtitle-1 fade-2 clickable\" [routerLink]=\"parent.owner | accountUrl\">{{ parent.owner.info | personName }}</a>\n                    </ng-template>\n                </div>\n                <span *ngIf=\"extraStyle\" class=\"timestamp caption fade-3 margin-left-10\">{{ comment.meta.createdAt | customDate }}</span>\n            </div>\n            <span *ngIf=\"!extraStyle\" class=\"timestamp caption fade-3 css-block\">{{ comment.meta.createdAt | customDate }}</span>\n        </div>\n    </div>\n    <ng-container *ngIf=\"!comment.meta.deletedAt; else deletedComment\">\n        <ng-container *ngIf=\"!(editMode$ | async); else editModeBlock\">\n            <div #renderedContent class=\"subtitle-2 margin-bottom-8 comment-text\" [innerHTML]=\"commentHtml\"></div>\n            <div class=\"v-center\">\n                <span class=\"subtitle-2 c-gray margin-right-10 btn\" (click)=\"reply.emit()\">{{'COMMON.ANSWER' | translate}}</span>\n                <div class=\"v-center\">\n                    <svg name=\"bell\" size=\"18\" class=\"f-gray margin-right-10 clickable\" [class.f-primary]=\"isWatched\"\n                        (click)=\"watch()\"></svg>\n                    <app-share [url]=\"['/news', context] | url: 'comment-' + comment.meta.id\" class=\"margin-right-10 right-direction\">\n                    </app-share>\n                    <app-action-menu-comment \n                        *appLoggedIn \n                        class=\"margin-right-10\"\n                        [data]=\"comment\"\n                        [own]=\"isOwn\" \n                        [context]=\"context\"\n                        (gone)=\"gone.emit()\" \n                        (edit)=\"edit()\" \n                        (report)=\"reported = true\" \n                        (deleteEmit)=\"delete($event)\">\n                    </app-action-menu-comment>\n                    <span *ngIf=\"reported\" class=\"caption c-caption\">Жалоба отправлена</span>\n                </div>\n                <div class=\"align-right\">\n                    <app-voting [up]=\"comment.votes.up\" [down]=\"comment.votes.down\" [castVote]=\"comment.votes.you\"\n                        [style]=\"'comment'\" [disabled]=\"isOwn\" (vote)=\"doCommentVote(comment, $event)\"></app-voting>\n                </div>\n            </div>\n        </ng-container>\n        <ng-template #editModeBlock>\n            <app-ui-textarea class=\"css-block margin-bottom-20\" [formControl]=\"editableContent\"\n                             [disabled]=\"processing$ | async\">\n            </app-ui-textarea>\n            <footer>\n                <button type=\"submit\" class=\"ui margin-right-10\" [class.error]=\"error$ | async\"\n                    [disabled]=\"processing$ | async\" (click)=\"submit()\">{{ 'COMMON.SAVE' | translate }}\n                </button>\n                <button class=\"ui cancel\" (click)=\"cancel()\"\n                    [disabled]=\"processing$ | async\">{{ 'COMMON.UNDO' | translate }}</button>\n            </footer>\n        </ng-template>\n    </ng-container>\n    <ng-template #deletedComment>\n        <p class=\"fade-2 subtitle-2\">Комментарий удалён</p>\n    </ng-template>\n</div>\n","import { Component } from '@angular/core';\nimport { NotificationsService } from '@api/routes/notifications.service';\nimport { ArticlesService } from '@api/routes/articles.service';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { TagsService } from '@api/routes/tags.service';\nimport { UsersService } from '@api/routes/users.service';\nimport { AbstractNotificationComponent } from '@shared/classes/abstract-notification-component/abstract-notification-component.class';\nimport { PersonNamePipe } from '@shared/pipes/person-name.pipe';\n\n\n@Component({\n  selector: 'app-notification-element',\n  templateUrl: './notification-element.component.html',\n  styleUrls: ['./notification-element.component.scss'],\n})\nexport class NotificationElementComponent extends AbstractNotificationComponent {\n  constructor(\n    protected readonly notificationsService: NotificationsService,\n    protected readonly articlesService: ArticlesService,\n    protected readonly topicsService: TopicsService,\n    protected readonly tagsService: TagsService,\n    protected readonly usersService: UsersService,\n    protected readonly personNamePipe: PersonNamePipe\n  ) {\n    super(notificationsService, articlesService, topicsService, tagsService, usersService, personNamePipe);\n  }\n}\n","<div class=\"type fade-2 flex-item\">\n    <svg class=\"f-gray margin-right-10\" size=\"18\"\n         [class.f-primary]=\"!item.read\" [name]=\"TYPE_MAP[item.type].type.icon\"></svg>\n    <span [class.c-primary]=\"!item.read\" class=\"caption margin-right-20 fade-4\">{{ TYPE_MAP[item.type].type.name | translate }}</span>\n    <span class=\"caption fade-3\" style=\"margin-left: auto; margin-right: 20px;\">{{ item.createdAt | customDate }}</span>\n</div>\n<p class=\"name button-1\" style=\"margin-bottom: 0 !important;\">\n    <ng-container [ngSwitch]=\"true\">\n        <a *ngSwitchCase=\"!TYPE_MAP[item.type].custom\" [routerLink]=\"url\" [fragment]=\"fragment\">{{ TYPE_MAP[item.type].message | translate }}</a>\n        <a *ngSwitchCase=\"item.type === 'content_report'\" [href]=\"body.url\">{{ TYPE_MAP[item.type].message | translate }}</a>\n        <span *ngSwitchCase=\"item.type === 'account_banned' || item.type === 'account_unbanned'\">{{ TYPE_MAP[item.type].message | translate }}</span>\n        <ng-container *ngSwitchDefault>{{ item.type }}</ng-container>\n    </ng-container>\n</p>\n<div style=\"margin-bottom: 10px;\">\n    <ng-container [ngSwitch]=\"bodyType\">\n        <ng-container *ngSwitchCase=\"notificationBodyType.USER_BODY\" [ngTemplateOutlet]=\"userBody\"></ng-container>\n        <ng-container *ngSwitchCase=\"notificationBodyType.COMMENT_BODY\" [ngTemplateOutlet]=\"commentBody\"></ng-container>\n        <ng-container *ngSwitchCase=\"notificationBodyType.SHORT_POST_BODY\" [ngTemplateOutlet]=\"shortPostBody\"></ng-container>\n        <ng-container *ngSwitchCase=\"notificationBodyType.POST_BODY\" [ngTemplateOutlet]=\"postBody\"></ng-container>\n        <ng-container *ngSwitchCase=\"notificationBodyType.REPORT\" [ngTemplateOutlet]=\"report\"></ng-container>\n        <ng-container *ngSwitchCase=\"notificationBodyType.ACCOUNT_BANNED\" [ngTemplateOutlet]=\"accountBanned\"></ng-container>\n        <ng-container *ngSwitchCase=\"notificationBodyType.ACCOUNT_UNBANNED\" [ngTemplateOutlet]=\"accountUnbanned\"></ng-container>\n        <ng-container *ngSwitchCase=\"notificationBodyType.WATCHED_COMMENT_REPLY\" [ngTemplateOutlet]=\"watchedCommentReply\"></ng-container>\n        <ng-container *ngSwitchCase=\"notificationBodyType.COMMENT_MENTION\" [ngTemplateOutlet]=\"commentMention\"></ng-container>\n        <ng-container *ngSwitchDefault>{{ item.body | json }}</ng-container>\n    </ng-container>\n</div>\n\n<!-- TEMPLATES -->\n<ng-template #commentMention>\n    <div class=\"subtitle-2\">\n        <a class=\"button-1\" [routerLink]=\"['/user', item.body.owner.id]\">{{ item.body.owner.info | personName }}</a>\n        <span class=\"subtitle-2\"> {{ 'COMMON.ANOTHER_USER_MENTIONED' | translate }} </span>\n        <a class=\"button-1\" [routerLink]=\"['/news', item.body.context.id]\" [fragment]=\"'comment-' + item.body.id\">{{ 'COMMON.COMMENTS' | translate }}</a>\n    </div>\n    <p class=\"caption fade-2\" style=\"margin-top: 0 !important;\"  [innerHTML]=\"item.body.html\"></p>\n</ng-template>\n\n<ng-template #watchedCommentReply>\n    <div class=\"subtitle-2\">\n        <a class=\"button-1\" [routerLink]=\"['/user', item.body.reply.owner.id]\">{{ item.body.reply.owner.info | personName }}</a>\n        <span class=\"fade-0\">{{ 'COMMON.REPLIED' | translate }}</span>\n        <a class=\"button-1\" [routerLink]=\"['/news', item.body.parent.context.id]\" [fragment]=\"'comment-' + item.body.parent.id\">{{ 'COMMON.COMMENTS' | translate }}</a>\n        <span class=\"fade-0\">{{ 'COMMON.TO_PUBLICATION' | translate }}</span>\n        <a class=\"button-1\" [routerLink]=\"['/news', item.body.parent.context.id]\" [fragment]=\"'comment-' + item.body.reply.id\">{{ item.body.parent.context.title }}</a>\n    </div>\n</ng-template>\n\n<ng-template #userBody>\n    <div class=\"v-center\">\n        <app-ui-icon class=\"margin-right-10\" [src]=\"body.info.picture\" [size]=\"'small'\"\n                     [textAlternative]=\"body.info | personName\"></app-ui-icon>\n        <span style=\"margin-bottom: 0 !important;\" class=\"subtitle-1\">{{ body.info | personName }}</span>\n    </div>\n</ng-template>\n\n<ng-template #commentBody>\n    <div class=\"subtitle-2\">\n        <a class=\"button-1\" [routerLink]=\"['/', 'user', body.owner.id]\">{{ body.owner.info | personName }}</a>\n        <span class=\"fade-0\"> {{ 'COMMON.MADE_A_COMMENT' | translate }} </span>\n        <a class=\"button-1\" [routerLink]=\"['/', 'news', body.context.id]\">{{ body.context.title }}</a>\n    </div>\n</ng-template>\n\n<ng-template #postBody>\n    <div class=\"subtitle-2\">\n        <a class=\"button-1\" [routerLink]=\"['/', 'user', body.owner.id]\">{{ body.owner.info | personName }}</a>\n        &ensp;<span class=\"fade-0\">&ensp;{{ 'COMMON.AWAITING_POSTING' | translate }} </span>\n        <a class=\"button-1\" [routerLink]=\"['/', 'news', body.id]\">{{ body.info.title || ('COMMON.UNTITLED_ARTICLE' | translate) }}</a>\n    </div>\n</ng-template>\n\n<ng-template #report>\n    <div class=\"subtitle-2\">\n        <p *ngIf=\"body.entity.name && body.entity.id\" style=\"margin-top: 0 !important; margin-bottom: 0 !important;\">\n            <span class=\"fade-0\">{{ 'COMMON.COMPLIANT_ABOUT' | translate }}</span>\n            <a class=\"button-1\" [href]=\"body.url\">{{ body.entity.name + ' '  + body.entity.idMeta }} </a>\n            <span *appRoleGuard=\"'EDITOR$'; and body.owner\" class=\"fade-0\">{{ 'COMMON.FROM_USER' | translate }} </span>\n            <a *appRoleGuard=\"'EDITOR$'; and body.owner\" class=\"button-1\" [routerLink]=\"['/user/', body.owner.id]\">{{ body.owner.info | personName }} </a>\n        </p>\n        <div *ngIf=\"body.message\">\n            <span class=\"subtitle-1\">{{ 'COMMON.FROM_USER' | translate }}</span>\n            <span>{{ body.message }}</span>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #shortPostBody>\n    <p class=\"subtitle-2\" style=\"margin-top: 0 !important;\" [routerLink]=\"['/news', body.id]\">{{ body.info.title }}</p>\n</ng-template>\n\n<ng-template #accountBanned>\n    <p style=\"margin-top: 0 !important;\" class=\"subtitle-2\">{{ 'COMMON.RECOVER_PRIVILLEGES' | translate }}</p>\n</ng-template>\n\n<ng-template #accountUnbanned>\n    <p style=\"margin-top: 0 !important;\" class=\"subtitle-2\">{{ 'COMMON.PRIVILLEGES_RECOVERED' | translate }}</p>\n</ng-template>\n","import { Component, OnInit, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { SessionService } from '@app/services/session.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { takeUntil, filter } from 'rxjs/operators';\nimport { PermissionService } from '@app/services/permission/permission.service';\nimport { UserDropdownRouteEnum } from './user-dropdown-route.enum';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { Observable } from 'rxjs';\nimport { environment } from '@env';\nimport { Select, Store } from '@ngxs/store';\nimport { USER_STATS_STATE_TOKEN } from '@app/store/user-stats/user-stats.state';\nimport { IUserStatsState } from '@app/store/user-stats/interfaces/user-stats-state.interface';\nimport { UpdateProperty } from '@app/store/user-stats/actions/update-property.action';\nimport { EUserStatsProperty } from '@app/store/user-stats/enums/user-stats-property.enum';\n\n\n@Component({\n  selector: 'app-user-dropdown',\n  templateUrl: './user-dropdown.component.html',\n  styleUrls: ['./user-dropdown.component.scss']\n})\nexport class UserDropdownComponent extends AbstractComponent implements OnInit, OnDestroy {\n  @Output() public readonly toggle: EventEmitter<void> = new EventEmitter<void>();\n\n  @Select(USER_STATS_STATE_TOKEN) public data$: Observable<IUserStatsState>;\n\n  public readonly userDropdownRouteEnum: typeof UserDropdownRouteEnum = UserDropdownRouteEnum;\n\n  public isCompany: boolean;\n  public currentRoute: UserDropdownRouteEnum;\n  public isAdmin = false;\n  public isEditor = false;\n  public id: string | number;\n\n  constructor(\n    private readonly router: Router,\n    private readonly permission: PermissionService,\n    private readonly store: Store,\n    public readonly session: SessionService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.getData();\n    this.setCurrentRoute();\n    this.setUser();\n  }\n\n  private setCurrentRoute(): void {\n    switch (this.router.url) {\n      case '/topics':\n      case '/authors':\n      case '/companies':\n      case '/publications':\n      case '/drafts':\n      case '/comments':\n      case '/settings':\n        this.currentRoute = UserDropdownRouteEnum[this.router.url.substring(1).toUpperCase()];\n        break;\n      case '/user/me/promoted':\n        this.currentRoute = UserDropdownRouteEnum.PROMOTED;\n        break;\n    }\n  }\n\n  private setUser(): void {\n    this.session.user$.pipe(filter((user: IUserViewFull) => !!user), takeUntil(this.ngOnDestroy$)).subscribe((user: IUserViewFull) => {\n      this.id = user.info.username ? user.info.username : user.meta.id;\n      this.isCompany = user && user.info.company && user.info.company.isCompany;\n    });\n\n    this.permission.hasAnyRole$('ROLE_SUPERUSER').pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: boolean) => {\n      this.isAdmin = _;\n    });\n\n    this.permission.hasAnyRole$('ROLE_CHIEF_EDITOR').pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: boolean) => {\n      this.isEditor = _;\n    });\n  }\n\n  private getData(): void {\n    Object.keys(EUserStatsProperty).forEach((key: string) => {\n      this.store.dispatch(new UpdateProperty(EUserStatsProperty[key]));\n    });\n  }\n\n  public logout(): void {\n    this.session.clear();\n    if (environment.blocker) {\n      this.router.navigate(['/blocker']);\n    }\n  }\n}\n","<ul class=\"structural\" *ngIf=\"(data$ | async) as data\">\n    <li class=\"caption fade-3\" style=\"padding-bottom: 0 !important; cursor: default;\">{{ 'COMMON.PROFILE' | translate }}</li>\n    <li class=\"profile-data\" (click)=\"toggle.emit()\">\n        <a style=\"all: inherit; cursor: pointer;\" [routerLink]=\"['/user/me/posts']\">\n            <div class=\"icon\">\n                <app-ui-icon *ngIf=\"session.loggedIn$ | async\" [src]=\"(session.user$ | async).info.picture\" [textAlternative]=\"(session.user$ | async).info | personName\" [size]=\"'small'\"></app-ui-icon>\n                <div *ngIf=\"!(session.loggedIn$ | async)\" class=\"no-session\">\n                    <svg name=\"user-add\"></svg>\n                </div>\n            </div>\n            <span class=\"subtitle-1 fade-0\" style=\"max-width: 125px\">{{ (session.user$ | async).info | personName }}</span>\n        </a>\n    </li>\n    <ng-template [ngTemplateOutlet]=\"defaultItem\" [ngTemplateOutletContext]=\"{ selected: currentRoute === userDropdownRouteEnum.TOPICS, text: 'COMMON.TOPICS', link: ['/topics'], data: data.topics, icon: 'hash' }\"></ng-template>\n    <ng-template [ngTemplateOutlet]=\"defaultItem\" [ngTemplateOutletContext]=\"{ selected: currentRoute === userDropdownRouteEnum.AUTHORS, text: 'COMMON.AUTHORS', link: ['/authors'], data: data.authors, icon: 'user' }\"></ng-template>\n    <ng-template [ngTemplateOutlet]=\"defaultItem\" [ngTemplateOutletContext]=\"{ selected: currentRoute === userDropdownRouteEnum.COMPANIES, text: 'COMMON.COMPANIES', link: ['/companies'], data: data.companies, icon: 'group' }\"></ng-template>\n    <ng-template [ngTemplateOutlet]=\"defaultItem\" [ngTemplateOutletContext]=\"{ selected: currentRoute === userDropdownRouteEnum.PROMOTED, text: 'COMMON.BOOKMARKS', link: ['/user', id, 'promoted'], data: data.promoted, icon: 'bookmark' }\"></ng-template>\n    <ng-template [ngTemplateOutlet]=\"defaultItem\" [ngTemplateOutletContext]=\"{ selected: currentRoute === userDropdownRouteEnum.PUBLICATIONS, text: 'COMMON.PUBLICATIONS_', link: ['/user', id, 'posts'], data: data.posts, icon: 'notes' }\"></ng-template>\n    <ng-template [ngTemplateOutlet]=\"defaultItem\" [ngTemplateOutletContext]=\"{ selected: currentRoute === userDropdownRouteEnum.DRAFTS, text: 'COMMON.DRAFTS', link: ['/user', id, 'drafts'], data: data.drafts, icon: 'edit' }\"></ng-template>\n    <ng-template [ngTemplateOutlet]=\"defaultItem\" [ngTemplateOutletContext]=\"{ selected: currentRoute === userDropdownRouteEnum.COMMENTS, text: 'COMMON.COMMENTS', link: ['/user', id, 'comments'], data: data.comments, icon: 'comment' }\"></ng-template>\n    <ng-template *ngIf=\"isCompany || isAdmin || isEditor\" [ngTemplateOutlet]=\"defaultItem\" [ngTemplateOutletContext]=\"{ selected: false, text: 'COMMON.EVENT', link: ['/events/create'], data: null, icon: 'btn-add-gray' }\"></ng-template> \n    <ng-template *ngIf=\"isCompany || isAdmin || isEditor\" [ngTemplateOutlet]=\"defaultItem\" [ngTemplateOutletContext]=\"{ selected: false, text: 'COMMON.VACANCIES', link: ['/jobs/create'], data: null, icon: 'btn-add-gray' }\"></ng-template>\n    <ng-template [ngTemplateOutlet]=\"defaultItem\" [ngTemplateOutletContext]=\"{ selected: currentRoute === userDropdownRouteEnum.SETTINGS, text: 'COMMON.SETTINGS', link: ['/user', id, 'edit'], data: null, icon: 'cog' }\"></ng-template>\n    <li *ngIf=\"(session.user$ | async).roles.includes('ROLE_SUPERUSER') || (session.user$ | async).roles.includes('ROLE_SALES')\" class=\"btn\" (click)=\"toggle.emit()\">\n        <a class=\"gui\" [routerLink]=\"['/dashboard']\" routerLinkActive=\"selected\">\n            <svg name=\"cog\" size=\"24\" class=\"icon-24 f-gray\"></svg>\n            <span class=\"subtitle-2 fade-0\"><a>GUI</a></span>\n        </a>  \n    </li>\n    <li class=\"btn logout\" style=\"padding-bottom: 0 !important;\" (click)=\"logout()\" (click)=\"toggle.emit()\">\n        <span class=\"subtitle-2 fade-3\">{{ 'COMMON.LOGOUT' | translate }}</span>\n        <svg name=\"logout\" size=\"24\" class=\"icon-24 f-gray align-right\"></svg>\n    </li>\n</ul>\n\n<ng-template #defaultItem let-selected=\"selected\" let-text=\"text\" let-link=\"link\" let-data=\"data\" let-icon=\"icon\">\n    \n    <li class=\"btn underline\" (click)=\"toggle.emit()\">\n        <a [routerLink]=\"link\" [ngClass]=\"{ 'selected': selected }\" routerLinkActive=\"selected\" class=\"items\">\n            <svg [name]=\"icon\" class=\"icon-24 f-gray\"></svg>\n            <span class=\"subtitle-2 fade-0\"><a>{{ text | translate }}</a></span>\n            <div *ngIf=\"data\" class=\"float-rigth\"><span class=\"caption dark-gray float-right\">{{ data }}</span></div>\n        </a>\n    </li>\n\n    \n</ng-template>\n","import { Component, Input, ViewChild, ElementRef, OnDestroy } from '@angular/core';\nimport { IFeedNavDropdown } from './feed-nav-dropdown.interface';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { IMenuState } from '@layout/shared/interfaces/menu-state.interface';\nimport { toggleFn } from '@layout/shared/functions/toggle-fn.function';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-feed-nav-item',\n  templateUrl: './feed-nav-item.component.html',\n  styleUrls: ['../../../../header/header.component.scss', './feed-nav-item.component.scss']\n})\nexport class FeedNavItemComponent extends AbstractComponent implements OnDestroy {\n  @ViewChild('dropdown') public dropdown: ElementRef;\n\n  @Input() public selected = false;\n  @Input() public link: string | string[] = '';\n  @Input() public dropdownConf: IFeedNavDropdown = { hasDropdown: false };\n  @Input() public count?: number;\n  @Input() public text = '';\n  @Input() public isSecondHeader = false;\n  @Input() public dropdownExtraClass = '';\n  @Input() public dropAction = false;\n\n  public state: IMenuState = { shown: false, sub: null };\n  public readonly toggle: any = this.platformService.isBrowser\n    ? toggleFn(this.state, () => this.dropdown, takeUntil(this.ngOnDestroy$)) : () => {};\n\n  @Input() public handleClick: CallableFunction = () => {};\n\n  constructor(\n    private readonly platformService: PlatformService,\n    private readonly router: Router\n  ) {\n    super();\n  }\n\n  public action(): void {\n    if (this.dropAction) {\n      this.toggle();\n    } else {\n      this.router.navigate(typeof this.link === 'string' ? [this.link] : this.link);\n    }\n  }\n}\n","<div class=\"personal-feed has-dropdown v-center margin-right-44\"\n    [ngClass]=\"{ 'selected': selected, 'responsive-hide-lt-large': !isSecondHeader }\"  [class.open]=\"state.shown\">\n    <a (mousedown)=\"action()\">\n        <span class=\"button-1 fade-1\">\n            {{ text | translate }}\n            <sup *ngIf=\"count\">{{ '+' + count }}</sup>\n        </span>\n    </a>\n    <ng-container *ngIf=\"dropdownConf.hasDropdown\">\n        <svg name=\"dropdown\" size=\"12\" class=\"dropdown-icon clickable\" (mousedown)=\"toggle()\"></svg>\n        <div #dropdown [class]=\"'personal-feed-dropdown ' + dropdownExtraClass\" tabindex=\"-1\" [ngClass]=\"{ 'hidden': !state.shown }\">\n            <ul class=\"structural fade-2\">\n                <li *ngFor=\"let item of dropdownConf.items\"\n                    class=\"button-1 underlined clickable popular-dropdown-hover\"\n                    (click)=\"handleClick();toggle()\">\n                    <a class=\"dropdown-link\"\n                       [routerLink]=\"item.link\"\n                       [routerLinkActive]=\"['selected']\"\n                       [queryParams]=\"item.query\"\n                       [queryParamsHandling]=\"'merge'\">\n                        {{ item.text  | translate }}</a>\n                </li>\n            </ul>\n        </div>\n    </ng-container>\n</div>\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'app-ui-dropdown-menu-item',\n  templateUrl: './dropdown-menu-item.component.html',\n  styleUrls: ['./dropdown-menu-item.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DropdownMenuItemComponent {\n  constructor() {}\n}\n","<div class=\"button-1 slctd\">\n    <ng-content></ng-content>\n</div>\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/services/api.service';\nimport { Observable } from 'rxjs';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { map } from 'rxjs/operators';\nimport { IUploadImageResponse } from '@api/schemas/image/upload-image-response.interface';\nimport { BaseStatus } from '@api/classes/base-status/base-status.class';\nimport { ITopicViewFull } from '@api/schemas/topic/topic-view-full.interface';\nimport { ITopicViewBase } from '@api/schemas/topic/topic-view-base.interface';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ITopicQuery } from '@api/schemas/topic/topic-query.interface';\nimport { CachedGetMany } from '@api/classes/cached-get-many.class';\nimport { fileToFormData } from '@api/functions/file-to-formdata.function';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { Store } from '@ngxs/store';\n\nconst CONTROLLER_ENDPOINT = 'topics';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TopicsService extends BaseStatus {\n  private readonly manyCache: CachedGetMany<ITopicViewFull> =\n    new CachedGetMany<ITopicViewFull>(this.apiService, CONTROLLER_ENDPOINT, this.platformService);\n\n  constructor(\n    protected readonly apiService: ApiService,\n    protected readonly store: Store,\n    private readonly platformService: PlatformService\n  ) {\n    super(apiService, CONTROLLER_ENDPOINT, store);\n  }\n\n  private uploadImage$(image: File, url: string): Observable<IUploadImageResponse> {\n    return this.apiService.put$<IUploadImageResponse>(url, fileToFormData(image));\n  }\n\n  public getOne$(id: number | string): Observable<ITopicViewFull> {\n    return this.apiService.get$<ITopicViewFull>(\n      `${ CONTROLLER_ENDPOINT }/${ !isNaN(parseInt(id as string, 10)) ? id : 'url/' + id }`, true);\n  }\n\n  public search$(query: string, page: number = 0): Observable<IPageResponse<ITopicViewBase>> {\n    return this.apiService.get$<IPageResponse<ITopicViewBase>>(`${ CONTROLLER_ENDPOINT }?page=${ page }&query=${ encodeURIComponent(query) }`, true);\n  }\n\n  public get$(page: number = 0, query: ITopicQuery = {}): Observable<IPageResponse<ITopicView>> {\n    return this.apiService.get$<IPageResponse<ITopicView>>(CONTROLLER_ENDPOINT, true, { ...query, page });\n  }\n\n  public getCount(): Observable<number> {\n    return this.apiService.get$<IPageResponse<ITopicView>>(`${ CONTROLLER_ENDPOINT }?page=0`, true)\n      .pipe(map((response: IPageResponse<ITopicView>) => response.total));\n  }\n\n  public create$(name: string): Observable<ITopicView> {\n    return this.apiService.post$<ITopicView>(CONTROLLER_ENDPOINT, { name });\n  }\n\n  public post$(body: { name: string; url: string }): Observable<number> {\n    return this.apiService.post$<{ id: number }>(CONTROLLER_ENDPOINT, body).pipe(map((_: { id: number }) => _.id));\n  }\n\n  public delete$(id: number): Observable<never> {\n    return this.apiService.delete$<never>(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public deleteAdvanced$(id: number, tags: string, topic: number): Observable<never> {\n    return this.apiService.delete$(\n      tags\n        ? `${ CONTROLLER_ENDPOINT }/${ id }/advanced?id=${ id }&tags=${ tags }&topic=${ topic }`\n        : `${ CONTROLLER_ENDPOINT }/${ id }/advanced?id=${ id }&topic=${ topic }`\n      );\n  }\n\n  public update$(id: number, update: any): Observable<never> {\n    return this.apiService.patch$<never>(`${ CONTROLLER_ENDPOINT }/${ id }`, update, false);\n  }\n\n  public updateAvatar$(id: number, file: File): Observable<IUploadImageResponse> {\n    return this.uploadImage$(file, `${ CONTROLLER_ENDPOINT }/${ id }/image`);\n  }\n\n  public updateCover$(id: number, file: File): Observable<IUploadImageResponse> {\n    return this.uploadImage$(file, `${ CONTROLLER_ENDPOINT }/${ id }/cover`);\n  }\n\n  public getMultiple$(ids: number[]): Observable<ITopicViewFull[]> {\n    return this.manyCache.get$(ids);\n  }\n}\n","import { Component, EventEmitter, Input, Output, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { switchMap, takeUntil } from 'rxjs/operators';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { UsersService } from '@api/routes/users.service';\nimport { ShowcasesService } from '@api/routes/showcases.service';\nimport { ICreatedObject } from '@api/schemas/object/created-object.interface';\nimport { ReportEntityTypeEnum } from '@api/schemas/report/report-entity-type.enum';\n\n@Component({\n  selector: 'app-action-menu-user',\n  templateUrl: './action-menu-user.component.html',\n  styleUrls: ['./action-menu-user.component.scss'],\n})\nexport class ActionMenuUserComponent extends AbstractComponent implements OnDestroy {\n  @Input() public set data(data: IUserView) {\n    this._data = data;\n  }\n\n  public get data(): IUserView {\n    return this._data;\n  }\n\n  @Output() public readonly gone: EventEmitter<IUserView> = new EventEmitter<IUserView>();\n\n  // tslint:disable-next-line:variable-name\n  private _data: IUserView | IUserViewFull;\n\n  public readonly reportEntityTypeEnum: typeof ReportEntityTypeEnum = ReportEntityTypeEnum;\n\n  constructor(\n    private readonly usersService: UsersService,\n    private readonly showcasesService: ShowcasesService,\n    private readonly router: Router\n  ) {\n    super();\n  }\n\n  public hide(): void {\n    const d = this.data;\n    this.usersService.hide$(d.meta.id, d.hidden).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      d.hidden = !d.hidden;\n      if (d.hidden) {\n        this.gone.next(d);\n      }\n    });\n  }\n\n  public setBanned(ban: boolean): void {\n    this.usersService.ban$(this.data.meta.id, ban).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n  }\n\n  public setCompany(company: boolean): void {\n    this.usersService.setCompanyStatus$(this.data.meta.id, company).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.data.info.company.isCompany = company;\n      this.data.info.company.confirmed = company;\n    });\n  }\n\n  public edit(): void {\n    this.router.navigate(['/user', this.data.meta.id, 'edit']);\n  }\n\n  public hasRole(role: string): boolean {\n    const data = this.data as IUserViewFull;\n    return data.roles && data.roles.indexOf(role) >= 0;\n  }\n\n  public delete(): void {\n    const d = this.data;\n    this.usersService.delete$(d.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.gone.next(d);\n    });\n  }\n\n  public setRole(role: string, status: boolean): void {\n    const data = this.data as IUserViewFull;\n    if (data) {\n      this.usersService.setRole$(data.meta.id, role, status).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        if (status && !this.hasRole(role)) { data.roles.push(role); }\n        if (!status && this.hasRole(role)) { data.roles.splice(data.roles.indexOf(role), 1); }\n      });\n    }\n  }\n\n  public showcase(): void {\n    this.usersService.showcase$(this.data.meta.id).pipe(\n      switchMap((_: ICreatedObject) => this.showcasesService.navigate$(_))\n    ).subscribe();\n  }\n}\n","<app-ui-dots-menu>\n    <app-ui-dots-menu-item icon=\"do-not-show\" text=\"{{ 'COMMON.REMOVE_FROM_NEWSFEED' | translate }}\" (click)=\"hide()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item icon=\"report\" text=\"{{ 'COMMON.TO_FILE_A_COMPLAINT' | translate }}\" appReport\n                           [object]=\"{ type: reportEntityTypeEnum.USER, id: data.meta.id }\" (report)=\"gone.next(data)\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\" icon=\"group\"\n                           [text]=\"this.data.info.company.isCompany ? ('COMMON.TO_MAKE_A_USER' | translate) : ('COMMON.TO_MAKE_A_COMPANY' | translate)\"\n                           (click)=\"setCompany(!this.data.info.company.isCompany)\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\" icon=\"lock\" [text]=\"data.banned ? ('COMMON.UNBLOCK' | translate) : ('COMMON.BLOCK' | translate)\" (click)=\"setBanned(!data.banned); data.banned = !data.banned\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\" icon=\"report\" text=\"{{ 'COMMON.REMOVE'  | translate}}\" (click)=\"delete()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\" icon=\"star\" [text]=\"'COMMON.PLACE_AT_DISPLAY_WINDOW' | translate\" (click)=\"showcase()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"['ROLE_SUPERUSER', 'ROLE_CHIEF_EDITOR']\" icon=\"user\" [text]=\"'COMMON.EDIT' | translate\"\n                           (click)=\"edit()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\" icon=\"user\" [text]=\"hasRole('ROLE_PRIVILEGED_USER') ? ('COMMON.WITHDRAW_APPROVAL' | translate) : ('COMMON.APPROVE_THE_AUTHOR' | translate)\"\n                           (click)=\"setRole('ROLE_PRIVILEGED_USER', !hasRole('ROLE_PRIVILEGED_USER'))\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"['ROLE_CHIEF_EDITOR', 'ROLE_SUPERUSER']\" icon=\"user\" [text]=\"hasRole('ROLE_CHIEF_EDITOR') ? ('COMMON.REMOVE_EDITOR' | translate) : ('COMMON.TO_PROVIDE_EDITORS' | translate)\"\n                           (click)=\"setRole('ROLE_CHIEF_EDITOR', !hasRole('ROLE_CHIEF_EDITOR'))\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"['ROLE_SUPERUSER']\" icon=\"user\" [text]=\"hasRole('ROLE_SUPERUSER') ? ('COMMON.REMOVE_ADMIN' | translate) : ('COMMON.TO_PROVIDE_ADMINISTRATIVE' | translate)\"\n                           (click)=\"setRole('ROLE_SUPERUSER', !hasRole('ROLE_SUPERUSER'))\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"['ROLE_SUPERUSER']\" icon=\"user\" [text]=\"hasRole('ROLE_SALES') ? ('COMMON.TO_REMOVE_A_SALES' | translate) : ('COMMON.TO_SET_A_SALES' | translate)\"\n                           (click)=\"setRole('ROLE_SALES', !hasRole('ROLE_SALES'))\"></app-ui-dots-menu-item>\n</app-ui-dots-menu>\n","import { Injectable } from '@angular/core';\nimport { BaseStatus } from '@api/classes/base-status/base-status.class';\nimport { IUploadImageResponse } from '@api/schemas/image/upload-image-response.interface';\nimport { IJobQuery } from '@api/schemas/job/job-query.interface';\nimport { IJobViewFull } from '@api/schemas/job/job-view-full.interface';\nimport { IJobView } from '@api/schemas/job/job-view.interface';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { ApiService } from '@api/services/api.service';\nimport qs from 'qs';\n\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { fileToFormData } from '@api/functions/file-to-formdata.function';\nimport { BaseStatusActionEnum } from '@api/classes/base-status/base-status-action.enum';\nimport { IJobPatch } from '@api/schemas/job/job-patch.inetrface';\nimport { Store } from '@ngxs/store';\n\n\nconst CONTROLLER_ENDPOINT = 'jobs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class JobsService extends BaseStatus {\n  constructor(\n    private readonly api: ApiService,\n    protected readonly store: Store\n  ) {\n    super(api, CONTROLLER_ENDPOINT, store);\n  }\n\n  public get$(page: number = 0, query: IJobQuery = {}): Observable<IPageResponse<IJobView>> {\n    return this.api.get$<IPageResponse<IJobView>>(`${ CONTROLLER_ENDPOINT }?${ qs.stringify({ ...query, page }) }`, true);\n  }\n\n  public count$(query: Omit<IJobQuery, 'page'> = {}): Observable<{ count: number }> {\n    return this.api.get$<{ count: number }>(`${ CONTROLLER_ENDPOINT }/count?${ qs.stringify(query) }`, true);\n  }\n\n  public getSingle$(id: number): Observable<IJobViewFull> {\n    return this.api.get$<IJobViewFull>(`${ CONTROLLER_ENDPOINT }/${ id }`, true);\n  }\n\n  public getBookmarked$(userId: number, page: number): Observable<IPageResponse<IJobView>> {\n    return this.apiService.get$<IPageResponse<IJobView>>(`${ CONTROLLER_ENDPOINT }/${ userId }/bookmarks`, false, { page });\n  }\n\n  public create$(): Observable<number> {\n    return this.api.post$<{ id: number }>(CONTROLLER_ENDPOINT).pipe(map((_: { id: number }) => _.id));\n  }\n\n  public patch$(id: number, patch: IJobPatch): Observable<IJobViewFull> {\n    return this.api.patch$<IJobViewFull>(`${ CONTROLLER_ENDPOINT }/${ id }`, patch);\n  }\n\n  public updateImage$(id: number, image: File): Observable<IUploadImageResponse> {\n    return this.api.put$<IUploadImageResponse>(`${ CONTROLLER_ENDPOINT }/${ id }/image`, fileToFormData(image));\n  }\n\n  public delete$(id: number): Observable<never> {\n    return this.api.delete$(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public submit$(id: number): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.SUBMIT);\n  }\n\n  public publish$(id: number): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.PUBLISH);\n  }\n\n  public withdraw$(id: number): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.PUBLISH, true);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { ReplaySubject, Observable, of, MonoTypeOperatorFunction } from 'rxjs';\nimport { environment } from '@env';\nimport { first, catchError, map, switchMap } from 'rxjs/operators';\nimport { TokenService } from '@app/services/token.service';\nimport { FingerprintService } from './fingerprint.service';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\nimport { IHeaders } from '@api/interfaces/headers.interface';\nimport { AnyParamsType } from '@api/types/params.type';\nimport { toAngularParams } from '@api/functions/to-angular-params.function';\nimport { ApiMethodEnum } from '@api/enums/api-method.enum';\nimport { PlatformService } from '@shared/services/platform.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n  private freshHeaders$: ReplaySubject<IHeaders> = null;\n\n  constructor(\n    private readonly http: HttpClient,\n    private readonly tokens: TokenService,\n    private readonly finger: FingerprintService,\n    private readonly platformService: PlatformService\n  ) { }\n\n  private get headers(): IHeaders {\n    let result: IHeaders = {};\n    if (!this.tokens.empty) {\n      result = { Authorization: `Bearer ${this.tokens.access}` };\n    }\n    return result;\n  }\n\n  private simpleMethod$<T>(method: ApiMethodEnum, params: any): Observable<T> {\n    return this.refresh$(params.allowAnonymous).pipe(\n      switchMap((_: IHeaders) => {\n        let result: Observable<any>;\n        switch (method) {\n          case ApiMethodEnum.GET:\n            result = this.http.get(environment.apiUrl + params.url, { headers: _, params: toAngularParams(params.params) });\n            break;\n          case ApiMethodEnum.POST:\n            result = this.http.post(environment.apiUrl + params.url, params.body, { headers: _ });\n            break;\n          case ApiMethodEnum.PATCH:\n            result = this.http.patch(environment.apiUrl + params.url, params.body, { headers: _ });\n            break;\n          case ApiMethodEnum.PUT:\n            result = this.http.put(environment.apiUrl + params.url, params.body, { headers: _ });\n            break;\n          case ApiMethodEnum.DELETE:\n            result = this.http.delete(environment.apiUrl + params.url, { headers: _ });\n            break;\n        }\n        return result;\n      }),\n      this.catch401(),\n      map((_: any) => _ as T),\n    );\n  }\n\n  private refresh$(allowAnonymous: boolean): Observable<IHeaders> {\n    let result: Observable<IHeaders>;\n\n    if (this.tokens.empty) {\n      if (!allowAnonymous) {\n        throw new Error('Access Denied: Trying to access non-anonymous API without authentication');\n      }\n      result = of(this.headers);\n    } else if (!this.tokens.expired) {\n      result = of(this.headers);\n    } else if (this.freshHeaders$) {\n      result = this.freshHeaders$;\n    } else {\n      const $: ReplaySubject<IHeaders> = new ReplaySubject<IHeaders>(1);\n      this.freshHeaders$ = $;\n      if (this.platformService.isBrowser) {\n        this.http.post(`${ environment.apiUrl }token/refresh`, {\n          refreshToken: this.tokens.refresh,\n        }).subscribe({\n          error: () => {\n            this.freshHeaders$.next({});\n            this.freshHeaders$ = null;\n            this.tokens.clear();\n          },\n          next: (tokens: IApiTokens) => {\n            this.freshHeaders$.next({ Authorization: `Bearer ${ tokens.access }` });\n            this.freshHeaders$ = null;\n            this.tokens.save(tokens);\n          },\n        });\n      } else if (this.platformService.isServer) {\n        this.freshHeaders$.next({});\n        this.freshHeaders$ = null;\n        this.tokens.clear();\n      }\n\n      result = $.pipe(first());\n    }\n\n    return result;\n  }\n\n  private catch401<T>(): MonoTypeOperatorFunction<T> {\n    return (source: Observable<T>) => {\n      return source.pipe(catchError((error: any) => {\n        if (error instanceof HttpErrorResponse && error.status === 401) {\n          this.tokens.clear();\n        }\n        throw error;\n      }));\n    };\n  }\n\n  public fingerprintAnonymousRequest$(base: string, hasQuery: boolean = false): Observable<string> {\n    let result: Observable<string>;\n    if (this.tokens.empty) {\n      const add: string = (hasQuery ? '&' : '?') + 'f=';\n      result = this.finger.fingerprint$.pipe(map((fp: string) => base + add + fp));\n    } else {\n      result = of(base);\n    }\n    return result;\n  }\n\n  public get$<T>(url: string, allowAnonymous: boolean = false, params?: AnyParamsType): Observable<T> {\n    return this.simpleMethod$(ApiMethodEnum.GET, { url, allowAnonymous, params });\n  }\n\n  public post$<T = never>(url: string, body?: any, allowAnonymous: boolean = false): Observable<T> {\n    return this.simpleMethod$(ApiMethodEnum.POST, { url, body, allowAnonymous });\n  }\n\n  public put$<T = never>(url: string, body?: any, allowAnonymous: boolean = false): Observable<T> {\n    return this.simpleMethod$(ApiMethodEnum.PUT, { url, body, allowAnonymous });\n  }\n\n  public patch$<T = never>(url: string, body?: any, allowAnonymous: boolean = false): Observable<T> {\n    return this.simpleMethod$(ApiMethodEnum.PATCH, { url, body, allowAnonymous });\n  }\n\n  public delete$<T = never>(url: string, allowAnonymous: boolean = false): Observable<T> {\n    return this.simpleMethod$(ApiMethodEnum.DELETE, { url, allowAnonymous });\n  }\n}\n","import { BrowserModule, BrowserTransferStateModule } from '@angular/platform-browser';\nimport { LOCALE_ID, NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { LayoutModule } from './layout/layout.module';\nimport { I18nModule } from '@app/modules/i18n/i18n.module';\nimport { TransferHttpCacheModule } from '@nguniversal/common';\nimport { CookieService } from 'ngx-cookie-service';\nimport { NgxsModule } from '@ngxs/store';\n\nimport localeRu from '@angular/common/locales/ru';\nimport { registerLocaleData } from '@angular/common';\nimport { environment } from '@env';\nimport { UserStatsState } from '@app/store/user-stats/user-stats.state';\nregisterLocaleData(localeRu, 'ru');\n\nexport function HttpLoaderFactory(httpClient: HttpClient): TranslateHttpLoader {\n  return new TranslateHttpLoader(httpClient, (environment.production ? environment.url : '') + '/assets/i18n/', '.json');\n}\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule.withServerTransition({ appId: 'serverApp' }),\n    AppRoutingModule,\n    HttpClientModule,\n    I18nModule,\n    TransferHttpCacheModule,\n    BrowserTransferStateModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient],\n      },\n    }),\n    LayoutModule,\n    NgxsModule.forRoot([UserStatsState], {\n      developmentMode: !environment.production\n    })\n  ],\n  providers: [\n    { provide: LOCALE_ID, useValue: 'ru' },\n    CookieService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { SessionService } from '../session.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { ROLES } from './roles.const';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PermissionService {\n  public readonly roles: typeof ROLES = ROLES;\n\n  constructor(private readonly sessionService: SessionService) { }\n\n  public get isLoggedIn(): boolean {\n    return this.sessionService.loggedIn$.value;\n  }\n\n  public hasAnyRole(user: IUserViewFull, ...roles: (string | string[])[]): boolean {\n    let result = false;\n\n    if (user && user.roles && user.roles.includes(this.roles.SUPERUSER)) {\n      result = true;\n    } else if (user && user.roles && roles) {\n      for (const role of roles.reduce((s: string[], i: string | string[]) => {\n        if (Array.isArray(i)) {\n          s.push(...i);\n        } else {\n          s.push(i);\n        }\n        return s;\n      }, [])) {\n        if (user.roles.includes(role)) {\n          result = true;\n        }\n      }\n    }\n\n    return result;\n  }\n\n  public hasAnyRole$(...roles: (string | string[])[]): Observable<boolean> {\n    return this.sessionService.user$.pipe(map((user: IUserViewFull) => this.hasAnyRole(user, ...roles)));\n  }\n}\n","import { Component, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\nimport { LoginService } from '@app/services/login.service';\nimport { IAuthError } from '@api/interfaces/auth-error.interface';\nimport { WRONG_SUBJECT_ERROR, WRONG_PASSWORD_ERROR, WRONG_CREDENTIALS_ERROR, USERNAME_TAKEN, EMAIL_TAKEN } from '@api/constants/errors.const';\nimport { UsersService } from '@api/routes/users.service';\nimport { SocialLoginService } from '@layout/shared/services/social-login/social-login.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { LOGIN_FORM } from './login-form.const';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { RegisterModeEnum } from './register-mode.enum';\nimport { FormGroup } from '@angular/forms';\nimport { of } from 'rxjs';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { switchMap, filter, tap, catchError, takeUntil } from 'rxjs/operators';\nimport { AuthHandlerService } from '@app/services/auth-handler.service';\n\n\n@Component({\n  selector: 'app-login-form',\n  templateUrl: './login-form.component.html',\n  styleUrls: ['./login-form.component.scss']\n})\nexport class LoginFormComponent extends AbstractComponent implements OnDestroy {\n  public readonly registerModeEnum: typeof RegisterModeEnum = RegisterModeEnum;\n  public readonly loginForm: FormGroup = LOGIN_FORM.loginForm;\n  public readonly recoveryForm: FormGroup = LOGIN_FORM.recoveryForm;\n  public readonly registerForm: FormGroup = LOGIN_FORM.registerForm;\n\n  public recovered = false;\n  public recError = false;\n  public registerMode: RegisterModeEnum = RegisterModeEnum.LOGIN;\n\n  constructor(\n    private readonly loginService: LoginService,\n    private readonly authService: AuthHandlerService,\n    private readonly usersService: UsersService,\n    private readonly userDropdownService: UserDropdownService,\n    private readonly router: Router,\n    public readonly socialLoginService: SocialLoginService\n  ) {\n    super();\n  }\n\n  public onSubmitLogin(): void {\n    const value = this.loginForm.value;\n    this.authService.login$(value.subject, value.password).pipe(\n      switchMap((tokens: IApiTokens) => this.loginService.login$(tokens)),\n      filter((_: IUserView) => !!_),\n      tap(() => this.router.navigate(['/all'])),\n      catchError((error: IAuthError) => {\n        switch (error.cause) {\n          case WRONG_SUBJECT_ERROR:\n            this.loginForm.controls.subject.setErrors({ wrongSubject: true });\n            break;\n          case WRONG_PASSWORD_ERROR:\n            this.loginForm.controls.password.setErrors({ wrongPassword: true });\n            break;\n          case WRONG_CREDENTIALS_ERROR:\n            this.loginForm.controls.password.setErrors({ wrongCredentials: true });\n            break;\n          default:\n            this.loginForm.setErrors({ backend: true });\n            break;\n        }\n        return of(null);\n      }),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe();\n  }\n\n  public onSubmitRecovery(): void {\n    const value = this.recoveryForm.value;\n    this.usersService.resetInit$(value.email).pipe(\n      tap(() => {\n        this.recovered = true;\n        this.recError = false;\n      }),\n      catchError(() => {\n        this.recError = true;\n        return of(null);\n      }),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe();\n  }\n\n  public onSubmitRegister(): void {\n    const value = this.registerForm.value;\n    const names = value.name.match(/^(\\S+) (\\S+)/);\n    this.usersService.register$(names[1], names[2], value.email, value.password, value.username).pipe(\n      switchMap((tokens: IApiTokens) => this.loginService.login$(tokens)),\n      filter((_: IUserView) => !!_),\n      tap(() => this.router.navigate(['/all'])),\n      catchError((error: IAuthError) => {\n        switch (error.cause) {\n          case USERNAME_TAKEN:\n            this.registerForm.controls.username.setErrors({ taken: true });\n            break;\n          case EMAIL_TAKEN:\n            this.registerForm.controls.email.setErrors({ taken: true });\n            break;\n          default:\n            if (error.error && error.error.status === 409) {\n              this.registerForm.controls.email.setErrors({ taken: true });\n              this.registerForm.controls.username.setErrors({ taken: true });\n            }\n            break;\n        }\n        return of(null);\n      }),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe();\n  }\n\n  public toggleUserMenu(): void {\n    this.userDropdownService.setShowDropdown(false);\n  }\n\n  public setRegisterMode(mode: RegisterModeEnum): void {\n    this.registerMode = mode;\n  }\n}\n","<div class=\"column-1\">\n    <div class=\"logo-register\">\n        <img src=\"assets/diskurs-media.png\" class=\"logo\">\n        <button class=\"button-1\" (click)=\"registerMode === registerModeEnum.LOGIN ? setRegisterMode(registerModeEnum.REGISTER) : setRegisterMode(registerModeEnum.LOGIN)\">\n            {{ registerMode === registerModeEnum.REGISTER ? ('COMMON.LOGIN' | translate) : ('COMMON.CREATE_AN_ACCOUNT' | translate) }}\n        </button>\n    </div>\n    <div class=\"body-1\">\n        {{ 'COMMON.LOGIN_TEXT_1' | translate }}\n        <br>\n        <br>\n        {{ 'COMMON.LOGIN_TEXT_2' | translate }}\n        <br>\n        <br>\n        {{ 'COMMON.LOGIN_TEXT_3' | translate }}\n    </div>\n</div>\n<div class=\"column-2\" [ngClass]=\"{ 'register-mode': registerMode }\">\n    <ng-container [ngTemplateOutlet]=\"registerMode === registerModeEnum.REGISTER ? register : registerMode === registerModeEnum.LOGIN ? login : recover\"></ng-container>\n</div>\n  \n<ng-template #login>\n    <div class=\"form-title\">\n        {{ 'COMMON.LOGIN_' | translate }}\n        <svg name=\"btn-cross\" (click)='toggleUserMenu()'></svg>\n    </div>\n    <ng-container [ngTemplateOutlet]=\"fastLogin\"></ng-container>\n    <form [formGroup]=\"loginForm\" (submit)=\"onSubmitLogin()\">\n        <div class=\"input-group\" [ngClass]=\"{ error: loginForm.controls.subject.invalid }\">\n            <label class=\"caption\">\n                {{ loginForm.controls.subject.errors?.wrongSubject ? ('COMMON.INVALID_LOGIN_EMAIL' | translate) : ('COMMON.EMAIL_OR_NAME' | translate) }}\n            </label>\n            <div class=\"v-center\">\n                <input type=\"text\" formControlName=\"subject\" minlength=\"3\">\n                <svg name=\"mail\" class=\"f-gray\"></svg>\n            </div>\n        </div>\n        <div class=\"input-group\" [ngClass]=\"{ 'error': loginForm.controls['password'].invalid }\">\n            <label class=\"caption\">\n                {{ loginForm.controls['password'].errors?.wrongPassword ? ('COMMON.INVALID_PASSWORD' | translate) : ('COMMON.PASSWORD' | translate) }}\n            </label>\n            <div class=\"v-center\">\n                <input type=\"password\" formControlName=\"password\" minlength=\"8\" maxlength=\"128\">\n                <svg name=\"lock\" class=\"f-gray\"></svg>\n            </div>\n        </div>\n        <div class=\"remember-me-container body-3\">\n            <div>\n                <label class=\"control control-checkbox\">\n                    {{ 'COMMON.REMEMBER_ME' | translate }}\n                    <input id=\"input-login-remember-me\" type=\"checkbox\" formControlName=\"remember\" checked=\"checked\">\n                    <div class=\"control_indicator\"></div>\n                </label>\n            </div>\n            <div style=\"cursor: pointer;\">\n                <span (click)=\"setRegisterMode(registerModeEnum.RECOVER); $event.stopPropagation()\">{{ 'COMMON.FORGET_YOUR_PASSWORD' | translate }}</span>\n            </div>\n        </div>\n        <div class=\"input-submit\">\n            <button id=\"input-login-submit\" type=\"submit\" class=\"button-1\" [disabled]=\"!loginForm.valid || loginForm.pristine\">\n                {{ 'COMMON.LOGIN' | translate }}\n            </button>\n        </div>\n    </form>\n    <div class=\"privacy\">\n        <span class=\"caption\">{{ 'COMMON.BY_USING_YACHTSMAN' | translate }}<a [routerLink]=\"['/news/11']\" ><u>{{ 'COMMON.BY_USING_YACHTSMAN2' | translate }}</u></a></span>\n    </div>\n</ng-template>\n  \n<ng-template #fastLogin>\n    <div class=\"caption f-login-text center-lines\">\n        {{ 'COMMON.FAST_LOGIN' | translate }}\n    </div>\n    <div class=\"social-login-buttons button-2\">\n        <div class=\"sl-vk\" (click)=\"socialLoginService.loginWithVk()\">\n            <svg name=\"social/simple/vk\"></svg>\n            <span>{{ 'COMMON.LOGIN_VIA' | translate }} VKontakte</span>\n        </div>\n        <div class=\"sl-tg\" (click)=\"socialLoginService.goToTgAuthPage()\">\n            <svg name=\"social/simple/tg\"></svg>\n            <span>{{ 'COMMON.LOGIN_VIA' | translate }} Telegram</span>\n        </div>\n        <div class=\"register button-1\" (click)=\"registerMode === registerModeEnum.REGISTER ? setRegisterMode(registerModeEnum.LOGIN) : setRegisterMode(registerModeEnum.REGISTER); $event.stopPropagation()\">\n            <span>{{ registerMode === registerModeEnum.REGISTER ? ('COMMON.LOGIN' | translate)  : ('COMMON.CREATE_AN_ACCOUNT' | translate) }}</span>\n        </div>\n    </div>\n</ng-template>\n  \n<ng-template #register>\n    <div class=\"form-title\">\n        {{ 'COMMON.CREATE_AN_ACCOUNT' | translate }}\n        <svg name=\"btn-cross\" (click)='toggleUserMenu()'></svg>\n    </div>\n    <form [formGroup]=\"registerForm\" (submit)=\"onSubmitRegister()\">\n        <div class=\"input-group\" [ngClass]=\"{ error: registerForm.controls['name'].invalid }\">\n            <label class=\"caption\">{{ 'COMMON.WHATS_YOUR_NAME' | translate }}</label>\n            <div class=\"v-center\">\n                <input type=\"text\" class=\"placehdr-light-gray\" formControlName=\"name\" minlength=\"5\" maxlength=\"25\" [placeholder]=\"'COMMON.ENTER_TWO_WORDS' | translate\">\n                <svg name=\"user\" class=\"f-gray\"></svg>\n            </div>\n        </div>\n        <div class=\"input-group\" [ngClass]=\"{ error: registerForm.controls['email'].invalid }\">\n            <label class=\"caption\">\n                {{ registerForm.controls['email'].errors?.taken ? ('COMMON.ACCOUNT_WITH_EMAIL_TAKEN' | translate) : ('COMMON.EMAIL' | translate) }}\n            </label>\n            <div class=\"v-center\">\n                <input type=\"email\" formControlName=\"email\">\n                <svg name=\"mail\" class=\"f-gray\"></svg>\n            </div>\n        </div>\n        <div class=\"input-group\" [ngClass]=\"{ error: registerForm.controls['username'].invalid }\">\n            <label class=\"caption\">\n                {{ registerForm.controls['username'].errors?.taken ? ('COMMON.USERNAME_TAKEN' | translate) : registerForm.controls['username'].invalid ? ('COMMON.LATIN_ONLY_MIN_3' | translate) : ('COMMON.ALIAS' | translate) }}\n            </label>\n            <div class=\"v-center\">\n                <input type=\"text\" formControlName=\"username\" minlength=\"3\" maxlength=\"26\" [placeholder]=\"'COMMON.ALIAS' | translate\">\n                <svg name=\"globe\" class=\"f-gray\"></svg>\n            </div>\n        </div>\n        <div class=\"input-group\" [ngClass]=\"{ error: registerForm.controls['password'].invalid }\">\n            <label class=\"caption\" [for]=\"'input-login-password'\">\n                {{ registerForm.controls['password'].invalid ? ('COMMON.MIN_8' | translate) : ('COMMON.PASSWORD' | translate) }}\n            </label>\n            <div class=\"v-center\">\n                <input [attr.id]=\"'input-login-password'\" type=\"password\" style=\"font-size: 14px;\" formControlName=\"password\" minlength=\"8\" maxlength=\"128\" [placeholder]=\"'COMMON.PASSWORD_MUST_BE' | translate\">\n                <svg name=\"lock\" class=\"f-gray\"></svg>\n            </div>\n        </div>\n        <div class=\"input-group\" [ngClass]=\"{ error: registerForm.hasError('mismatch') }\">\n            <label class=\"caption\" [for]=\"'input-login-password'\">{{ 'COMMON.CONFIRM_THE_PASSWORD' | translate }}</label>\n            <div class=\"v-center\">\n                <input [attr.id]=\"'input-login-password'\" type=\"password\" formControlName=\"passwordRepeat\" minlength=\"8\" maxlength=\"128\">\n                <svg name=\"lock\" class=\"f-gray\"></svg>\n            </div>\n        </div>\n        <div class=\"input-submit\">\n            <button type=\"submit\" class=\"button-1\" [disabled]=\"!registerForm.valid || registerForm.pristine\">\n                {{ 'COMMON.CREATE_AN_ACCOUNT' | translate }}\n            </button>\n        </div>\n    </form>\n    <ng-container [ngTemplateOutlet]=\"fastLogin\"></ng-container>\n    <div class=\"privacy\">\n        <span class=\"caption\">{{ 'COMMON.BY_USING_YACHTSMAN' | translate }}<a [routerLink]=\"['/news/11']\" ><u>{{ 'COMMON.BY_USING_YACHTSMAN2' | translate }}</u></a></span>\n    </div>\n</ng-template>\n  \n<ng-template #recover>\n    <div class=\"form-title\">\n        {{ 'COMMON.PASSWORD_RECOVERY' | translate }}\n        <svg name=\"btn-cross\" (click)=\"toggleUserMenu()\"></svg>\n    </div>\n    <form [formGroup]=\"recoveryForm\" (submit)=\"onSubmitRecovery()\">\n        <div *ngIf=\"!recovered\" class=\"input-group\" [ngClass]=\"{ error: recoveryForm.controls['email'].invalid || recError }\">\n            <label class=\"caption\">\n                {{ recError ? ('COMMON.EMAIL_IS_INVALID' | translate) : ('COMMON.EMAIL_FOR_RECOVERY' | translate) }}\n            </label>\n            <div class=\"v-center\">\n                <input type=\"email\" formControlName=\"email\">\n                <svg name=\"mail\" class=\"f-gray\"></svg>\n            </div>\n        </div>\n        <p *ngIf=\"!recovered\" class=\"desc-recover\">{{ 'COMMON.PLEASE_ENTER_YOUR_LOGIN' | translate }}</p>\n        <p *ngIf=\"recovered\" class=\"desc-recover\">{{ 'COMMON.RECOVERY_EMAIL' | translate }}</p>\n            <div class=\"input-submit\">\n            <button type=\"submit\" class=\"button-1\" [disabled]=\"!recoveryForm.valid || recoveryForm.pristine\" [hidden]=\"recovered\">\n                {{ 'COMMON.FORGET_YOUR_PASSWORD' | translate }}\n            </button>\n            <button *ngIf=\"recovered\" class=\"button-1\" (click)=\"recovered = false; setRegisterMode(registerModeEnum.LOGIN);\">\n                {{ 'COMMON.CLOSE' | translate }}\n            </button>\n        </div>\n    </form>\n    <ng-container [ngTemplateOutlet]=\"fastLogin\"></ng-container>\n    <div class=\"privacy\">\n        <span class=\"caption\">{{ 'COMMON.BY_USING_YACHTSMAN' | translate }}<a [routerLink]=\"['/news/11']\"><u>{{ 'COMMON.BY_USING_YACHTSMAN2' | translate }}</u></a></span>\n    </div>\n</ng-template>\n","import { Component, EventEmitter, Input, Output, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { forkJoin } from 'rxjs';\nimport { takeUntil, switchMap } from 'rxjs/operators';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { ShowcasesService } from '@api/routes/showcases.service';\nimport { ICreatedObject } from '@api/schemas/object/created-object.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { ReportEntityTypeEnum } from '@api/schemas/report/report-entity-type.enum';\n\n@Component({\n  selector: 'app-action-menu-topic',\n  templateUrl: './action-menu-topic.component.html',\n  styleUrls: ['./action-menu-topic.component.scss'],\n})\nexport class ActionMenuTopicComponent extends AbstractComponent implements OnDestroy {\n  @Input() public data: ITopicView;\n\n  @Output() public readonly gone: EventEmitter<ITopicView> = new EventEmitter<ITopicView>();\n\n  public readonly reportEntityTypeEnum: typeof ReportEntityTypeEnum = ReportEntityTypeEnum;\n\n  constructor(\n    private readonly router: Router,\n    private readonly topicsService: TopicsService,\n    private readonly showcasesService: ShowcasesService\n  ) {\n    super();\n  }\n\n  public hide(): void {\n    const d = this.data;\n    forkJoin([this.topicsService.subscribe$(d.meta.id, true), this.topicsService.hide$(d.meta.id, d.hidden)])\n      .pipe(takeUntil(this.ngOnDestroy$))\n      .subscribe(() => {\n        d.hidden = !d.hidden;\n        if (d.hidden) {\n          this.gone.next(d);\n        }\n    });\n  }\n\n  public showcase(): void {\n    this.topicsService.showcase$(this.data.meta.id).pipe(\n      switchMap((_: ICreatedObject) => this.showcasesService.navigate$(_)),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe();\n  }\n\n  public edit(): void {\n    this.router.navigate(['/topics', this.data.meta.id, 'edit']);\n  }\n}\n","<app-ui-dots-menu>\n    <app-ui-dots-menu-item icon=\"do-not-show\" text=\"{{ 'COMMON.REMOVE_FROM_NEWSFEED' | translate}}\" (click)=\"hide()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item icon=\"report\" text=\"{{ 'COMMON.TO_FILE_A_COMPLAINT' | translate}}\" appReport\n                           [object]=\"{ type: reportEntityTypeEnum.TOPIC, id: data.meta.id }\"\n                           (report)=\"hide()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\" icon=\"edit\" text=\"{{ 'COMMON.EDIT' | translate}}\" (click)=\"edit()\"></app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\" icon=\"star\" [text]=\"'COMMON.PLACE_AT_DISPLAY_WINDOW' | translate\" (click)=\"showcase()\"></app-ui-dots-menu-item>\n</app-ui-dots-menu>\n","export enum FeedOrderEnum {\n    TIME = 'TIME',\n    TITLE = 'TITLE',\n    VIEWS = 'VIEWS',\n    COMMENTS = 'COMMENTS',\n    RATING = 'RATING',\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PersonNamePipe } from './person-name.pipe';\nimport { AccountUrlPipe } from './account-url.pipe';\nimport { CustomDatePipe } from './custom-date.pipe';\nimport { CallPipe } from './call.pipe';\nimport { TrunkPipe } from './trunk.pipe';\nimport { PersonNameShortPipe } from './person-name-short.pipe';\nimport { UrlPipe } from './url.pipe';\nimport { UnsafeUrlPipe } from './unsafe-url.pipe';\nimport { BigNumbersPipe } from './big-numbers.pipes';\nimport { TimeFunctions } from '@shared/functions/time.function';\n\n\n\n@NgModule({\n  declarations: [\n    PersonNamePipe,\n    AccountUrlPipe,\n    CustomDatePipe,\n    CallPipe,\n    TrunkPipe,\n    PersonNameShortPipe,\n    UrlPipe,\n    UnsafeUrlPipe,\n    UnsafeUrlPipe,\n    BigNumbersPipe\n  ],\n  exports: [\n    PersonNamePipe,\n    AccountUrlPipe,\n    CustomDatePipe,\n    CallPipe,\n    TrunkPipe,\n    PersonNameShortPipe,\n    UrlPipe,\n    UnsafeUrlPipe,\n    BigNumbersPipe\n  ],\n  imports: [\n    CommonModule\n  ],\n  providers: [TimeFunctions]\n})\nexport class SharedPipesModule { }\n","import { Component, ChangeDetectionStrategy, HostBinding, Input } from '@angular/core';\n\nconst DEFAULT_SIZE = 24;\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'svg[name]',\n  template:\n    '<svg:use attr.viewBox=\"0 0 {{width}} {{height}}\" attr.width=\"{{width}}px\" attr.height=\"{{height}}px\" [attr.xlink:href]=\"\\'/assets/icons.svg#\\' + name\"/>',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SvgComponent {\n  @HostBinding('attr.width') public hostWidth = `${ DEFAULT_SIZE }px`;\n  @HostBinding('attr.height') public hostHeight = `${ DEFAULT_SIZE }px`;\n  @HostBinding('attr.viewBox') public hostViewBox: string;\n\n  @Input() public name = '';\n\n  @Input('w') public set width(width: number) {\n    this._width = width;\n    this.hostWidth = `${width}px`;\n  }\n  public get width(): number {\n    return this._width;\n  }\n\n  @Input('h') public set height(height: number) {\n    this._height = height;\n    this.hostHeight = `${height}px`;\n  }\n  public get height(): number {\n    return this._height;\n  }\n\n  @Input() public set size(size: number) {\n    this.width = size;\n    this.height = size;\n  }\n\n  // tslint:disable-next-line:variable-name\n  public _width: number = DEFAULT_SIZE;\n  // tslint:disable-next-line:variable-name\n  public _height: number = DEFAULT_SIZE;\n}\n","export enum TopicOrderEnum {\n    NAME = 'NAME',\n    LAST_POST_TIME = 'LAST_POST_TIME',\n    POST_COUNT = 'POST_COUNT',\n    SUB_COUNT = 'SUB_COUNT',\n    RATING = 'RATING',\n}\n","import { Injectable } from '@angular/core';\nimport { ISidebarWrapperParams } from './sidebar-wrapper-params.interface';\nimport { BehaviorSubject } from 'rxjs';\nimport { Router, NavigationEnd, Event } from '@angular/router';\nimport { first, filter } from 'rxjs/operators';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SidebarWrapperService {\n  public readonly params$: BehaviorSubject<ISidebarWrapperParams> = new BehaviorSubject<ISidebarWrapperParams>({ showSidebar: true });\n\n  constructor(private readonly router: Router) {\n    this.router.events.pipe(filter((events: Event) => events instanceof NavigationEnd), first()).subscribe((event: NavigationEnd) => {\n      if (event.urlAfterRedirects.includes('/dashboard/')) {\n        this.params$.next({ showSidebar: false });\n      }\n    });\n  }\n\n  public clear(): void {\n    this.params$.next({ showSidebar: false });\n  }\n}\n","import { IFeedNavDropdown } from './feed-nav-item/feed-nav-dropdown.interface';\n\ninterface IFeedDropdownConstant {\n    popularDropdownConf: IFeedNavDropdown;\n    personalDropdownConf: IFeedNavDropdown;\n}\n\nexport const feedDropdownConstant: IFeedDropdownConstant = {\n    personalDropdownConf: {\n        hasDropdown: true,\n        items: [\n            {\n                text: 'COMMON.MY_AUTHORS',\n                link: ['/'],\n                query: {\n                    sub: 'author',\n                    company: false\n                }\n            },\n            {\n                text: 'COMMON.MY_COMPANIES',\n                link: ['/'],\n                query: {\n                    sub: 'author',\n                    company: true\n                }\n            },\n            {\n                text: 'COMMON.MY_TOPICS',\n                link: ['/'],\n                query: {\n                    sub: 'topic',\n                    company: null\n                }\n            },\n        ]\n    },\n    popularDropdownConf: {\n        hasDropdown: true,\n        items: [\n            {\n                text: 'COMMON.FOR_THE_DAY',\n                link: ['/popular/day'],\n            },\n            {\n                text: 'COMMON.FOR_3_DAYS',\n                link: ['/popular/three-days'],\n            },\n            {\n                text: 'COMMON.FOR_THE_WEEK',\n                link: ['/popular/week'],\n            },\n            {\n                text: 'COMMON.FOR_THE_MONTH',\n                link: ['/popular/month'],\n            },\n            {\n                text: 'COMMON.FOR_THE_YEAR',\n                link: ['/popular/year'],\n            },\n            {\n                text: 'COMMON.FOR_THE_WHOLE_TIME',\n                link: ['/popular/all-time'],\n            },\n            {\n                text: 'COMMON.YACHTSMAN_CHOICE',\n                link: ['/popular/editorschoice'],\n            },\n        ]\n    }\n};\n","import { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { tap } from 'rxjs/operators';\nimport { PermissionService } from '@app/services/permission/permission.service';\n\n@Directive({\n  selector: '[appRoleGuard]',\n})\nexport class RoleGuardDirective {\n  @Input() public set appRoleGuard(guard: string[] | keyof PermissionService['roles']) {\n    this.roles = this.resolveRoles(guard);\n    this.update();\n  }\n  @Input() public set appRoleGuardAnd(and: boolean) {\n    this.and = and;\n    this.update();\n  }\n  @Input() public set appRoleGuardOr(or: boolean) {\n    this.or = or;\n    this.update();\n  }\n\n  private roles: string[] = [];\n  private and: boolean = null;\n  private or: boolean = null;\n\n  constructor(\n    private readonly permissionService: PermissionService,\n    private readonly templateRef: TemplateRef<any>,\n    private readonly viewContainer: ViewContainerRef,\n  ) {}\n\n  public resolveRoles(guard: string[] | keyof PermissionService['roles']): string[] {\n    if (typeof guard === 'string') {\n      const value = this.permissionService.roles[guard];\n      if (typeof value === 'string') {\n        return [value];\n      }\n      return value;\n    }\n    return guard;\n  }\n\n  public update(): void {\n    const and: boolean = this.and !== false;\n    const or: boolean = this.or === true;\n    this.permissionService.hasAnyRole$(this.roles).pipe(\n      tap((hasRole: boolean) => {\n        if (and && (or || hasRole)) {\n          this.viewContainer.clear();\n          this.viewContainer.createEmbeddedView(this.templateRef);\n        } else {\n          this.viewContainer.clear();\n        }\n      }),\n    ).subscribe();\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { TimeFunctions } from '@shared/functions/time.function';\n\n@Pipe({\n  name: 'customDate'\n})\nexport class CustomDatePipe implements PipeTransform {\n  constructor(private readonly timeFunctions: TimeFunctions) { }\n\n  transform(value: number, range?: boolean, news?: boolean): string {\n    let result: string;\n    if (news) {\n      result = this.timeFunctions.timestampToStringNews(value);\n    } else if (!range) {\n      result = this.timeFunctions.timestampToString(value);\n    } else {\n      result = this.timeFunctions.timestampToStringRange(value);\n    }\n    return result;\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { INotification } from '@api/schemas/notification/notification.interface';\nimport { TYPE_MAP } from '@modules/user/pages/user-notifications-page/notification/type-map.const';\nimport { ICommentNotificationBody } from '@api/schemas/notification/comment-notification-body.interface';\nimport { IReplyNotificationBody } from '@api/schemas/notification/reply-notification-body.interface';\nimport { IUserNotificationBody } from '@api/schemas/notification/user-notification-body.interface';\nimport { IShortPostNotificationBody } from '@api/schemas/notification/short-post-notification-body.interface';\nimport { IPostNotificationBody } from '@api/schemas/notification/post-notification-body.interface';\nimport { NotificationsService } from '@api/routes/notifications.service';\nimport { ArticlesService } from '@api/routes/articles.service';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { TagsService } from '@api/routes/tags.service';\nimport { UsersService } from '@api/routes/users.service';\nimport { IReportNotificationBody } from '@api/schemas/notification/report-notification-body.interface';\nimport { takeUntil } from 'rxjs/operators';\nimport { IArticleViewFull } from '@api/schemas/article/article-view-full.interface';\nimport { ITopicViewFull } from '@api/schemas/topic/topic-view-full.interface';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { ITagView } from '@api/schemas/tags/tag-view.interface';\nimport { IReportNotificationBodyNew } from './report-notification-body-new.interface';\nimport { AbstractComponent } from '../abstract-component.class';\nimport { PersonNamePipe } from '@shared/pipes/person-name.pipe';\n\n\nenum ENotificationBodyType {\n  COMMENT_BODY = 'COMMENT_BODY',\n  POST_BODY = 'POST_BODY',\n  SHORT_POST_BODY = 'SHORT_POST_BODY',\n  REPORT = 'REPORT',\n  USER_BODY = 'USER_BODY',\n  ACCOUNT_BANNED = 'ACCOUNT_BANNED',\n  ACCOUNT_UNBANNED = 'ACCOUNT_UNBANNED',\n  WATCHED_COMMENT_REPLY = 'WATCHED_COMMENT_REPLY',\n  COMMENT_MENTION = 'COMMENT_MENTION'\n}\n\n@Component({\n  template: ''\n})\nexport abstract class AbstractNotificationComponent extends AbstractComponent {\n  @Input() public set data(data: INotification) {\n    this.item = data;\n    this.setBodyTypeAndUrl();\n    this.setBody();\n  }\n\n  public readonly TYPE_MAP: typeof TYPE_MAP = TYPE_MAP;\n  public readonly NAME_MAP: { [type: string]: string } = {};\n  public readonly notificationBodyType = ENotificationBodyType;\n\n  public fragment: string = null;\n  public url: any[] = [];\n  public item: any;\n  public bodyType: ENotificationBodyType;\n  public body: any;\n\n  constructor(\n    protected readonly notificationsService: NotificationsService,\n    protected readonly articlesService: ArticlesService,\n    protected readonly topicsService: TopicsService,\n    protected readonly tagsService: TagsService,\n    protected readonly usersService: UsersService,\n    protected readonly personNamePipe: PersonNamePipe\n  ) { super(); }\n\n  private setBodyTypeAndUrl(): void {\n    switch (this.item.type) {\n      case 'comment_reply':\n      case 'post_comment':\n      case 'bookmark_comment':\n        this.fragment = 'comment-' + (this.item.body as ICommentNotificationBody).id;\n        this.url = ['/news', (this.item.body as ICommentNotificationBody).context.id];\n        this.bodyType = ENotificationBodyType.COMMENT_BODY;\n        break;\n      case 'post_submitted':\n        this.url = ['/news', (this.item.body as IPostNotificationBody).id];\n        this.bodyType = ENotificationBodyType.POST_BODY;\n        break;\n      case 'mod_post_blocked':\n      case 'mod_post_unblocked':\n      case 'mod_post_published':\n      case 'mod_post_withdrawn':\n      case 'mod_post_deleted':\n      case 'post_reviewing':\n      case 'post_drafted':\n      case 'editor_message':\n      case 'post_deleted':\n        this.url = ['/news', (this.item.body as IShortPostNotificationBody).id];\n        this.bodyType = ENotificationBodyType.SHORT_POST_BODY;\n        break;\n      case 'content_report':\n        this.bodyType = ENotificationBodyType.REPORT;\n        break;\n      case 'new_subscriber':\n        this.url = ['/user', (this.item.body as IUserNotificationBody).id];\n        this.bodyType = ENotificationBodyType.USER_BODY;\n        break;\n      case 'account_banned':\n        this.bodyType = ENotificationBodyType.ACCOUNT_BANNED;\n        break;\n      case 'account_unbanned':\n        this.bodyType = ENotificationBodyType.ACCOUNT_UNBANNED;\n        break;\n      case 'watched_comment_reply':\n        this.fragment = 'comment-' + (this.item.body as IReplyNotificationBody).reply.id;\n        this.url = ['/news', (this.item.body as IReplyNotificationBody).reply.context.id];\n        this.bodyType = ENotificationBodyType.WATCHED_COMMENT_REPLY;\n        break;\n      case 'comment_mention':\n        this.url = ['/news', (this.item.body as ICommentNotificationBody).context.id];\n        this.bodyType = ENotificationBodyType.COMMENT_MENTION;\n        break;\n      default:\n        this.bodyType = null;\n        break;\n    }\n  }\n\n  private setBody(): void {\n    switch (this.bodyType) {\n      case ENotificationBodyType.USER_BODY:\n        this.body = this.item.body as IUserNotificationBody;\n        break;\n      case ENotificationBodyType.COMMENT_BODY:\n        this.body = this.item.body as ICommentNotificationBody;\n        break;\n      case ENotificationBodyType.POST_BODY:\n        this.body = this.item.body as IPostNotificationBody;\n        break;\n      case ENotificationBodyType.SHORT_POST_BODY:\n        this.body = this.item.body as IShortPostNotificationBody;\n        break;\n      case ENotificationBodyType.REPORT:\n        this.setReportBody();\n        break;\n      default:\n        this.body = null;\n        break;\n    }\n  }\n\n  public setReportBody(): void {\n    const body: IReportNotificationBody = this.item.body as IReportNotificationBody;\n    const ret: IReportNotificationBodyNew = body as IReportNotificationBodyNew;\n    ret.id = body.id;\n    ret.url = body.url;\n    ret.owner = body.owner;\n    if (body.message && !ret.entity) {\n      const tempMessage = typeof body.message === 'string'\n        ? JSON.parse(body.message.replace(/\\\\/g, ''))\n        : body.message;\n      ret.message = tempMessage.message;\n      ret.entity = {\n        name: null,\n        id: null,\n        idMeta: null,\n      };\n      ret.entity.id = +tempMessage.entity.id;\n      switch (tempMessage.entity.name) {\n        case 'news':\n          ret.entity.name = 'публикацию';\n          this.articlesService.getSingle$(ret.entity.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe((article: IArticleViewFull) => {\n            ret.entity.idMeta = article.info.title ? article.info.title : '(Без названия)';\n          });\n          break;\n        case 'topics':\n          ret.entity.name = 'тему';\n          this.topicsService.getOne$(ret.entity.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe((topic: ITopicViewFull) => {\n            ret.entity.idMeta = topic.info.name;\n          });\n          break;\n        case 'user':\n          ret.entity.name = 'пользователя';\n          this.usersService.getSingle$(ret.entity.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe((user: IUserViewFull) => {\n            ret.entity.idMeta = this.personNamePipe.transform(user.info);\n          });\n          break;\n        case 'tags':\n          ret.entity.name = 'тег';\n          this.tagsService.getSingle$(ret.entity.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe((tag: ITagView) => {\n            ret.entity.idMeta = tag.content;\n          });\n          break;\n        default:\n          ret.entity.name = tempMessage.name;\n          ret.entity.idMeta = ret.entity.id.toString();\n      }\n    } else if (!ret.entity) {\n      ret.entity = {\n        name: null,\n        id: null,\n        idMeta: null,\n      };\n    }\n    this.body = ret;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { SessionService } from '@app/services/session.service';\nimport { map, tap } from 'rxjs/operators';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BlockerGuard implements CanActivate {\n  constructor(\n    private readonly sessionService: SessionService,\n    private readonly router: Router\n  ) {}\n\n  canActivate(): Observable<boolean> {\n    return this.sessionService.user$.pipe(\n      map((user: IUserViewFull) => user?.roles.includes('ROLE_SUPERUSER')),\n      tap((res: boolean) => {\n        if (!res) {\n          this.router.navigate(['/blocker']);\n        }\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { SessionService } from '@app/services/session.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SalesGuard implements CanActivate {\n  constructor(\n    private readonly session: SessionService,\n  ) {}\n\n  canActivate(): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n   return this.session.user$.pipe(\n      map((user: IUserViewFull) => (user !== null ? user.roles.indexOf('ROLE_SALES') !== -1 : false))\n    );\n  }\n}\n","import { ICommentViewArticle } from '@api/schemas/comment/comment-view-article.interface';\n\nexport function orderByTime(a: ICommentViewArticle, b: ICommentViewArticle): number {\n    if (a.meta.createdAt > b.meta.createdAt) { return 1; }\n    if (b.meta.createdAt > a.meta.createdAt) { return -1; }\n    return 0;\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, Router, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { first, map } from 'rxjs/operators';\nimport { SessionService } from '@app/services/session.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PersonalFeedGuard implements CanActivate {\n  constructor(private readonly sessionService: SessionService, private readonly router: Router) {}\n\n  canActivate(): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    return this.sessionService.loggedIn$.pipe(\n      first(),\n      map((value: boolean) => (value ? true : this.router.parseUrl('/all'))),\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router } from '@angular/router';\nimport { Observable, of } from 'rxjs';\nimport { catchError, mergeMap } from 'rxjs/operators';\nimport { RecoverPasswordService } from '@api/routes/recovery.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RecoveryGuard implements CanActivate {\n  constructor(private readonly router: Router, private readonly recovery: RecoverPasswordService) {}\n\n  public canActivate(route: ActivatedRouteSnapshot): Observable<boolean> {\n    const code: string = route.queryParams.code;\n    const email: string = route.queryParams.email;\n\n    if (!code || !email) {\n      this.router.navigate(['/']);\n    }\n\n    return this.recovery.check$(code, email).pipe(\n      catchError(() => this.router.navigate(['/'])),\n      mergeMap(() => of(true)),\n    );\n  }\n}\n","import { TranslateCacheService, TranslateCacheSettings } from 'ngx-translate-cache';\nimport { TranslateService } from '@ngx-translate/core';\n\nexport function translateCacheFactory(translateService: TranslateService,\n                                      translateCacheSettings: TranslateCacheSettings): TranslateCacheService {\n    return new TranslateCacheService(translateService, translateCacheSettings);\n}\n","import { Injectable } from '@angular/core';\nimport { AuthService } from '@api/routes/auth.service';\nimport { LoginService } from './login.service';\nimport { Observable, throwError } from 'rxjs';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\nimport { switchMap, catchError } from 'rxjs/operators';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { WRONG_SUBJECT_ERROR, WRONG_PASSWORD_ERROR, UNKNOWN_ERROR } from '@api/constants/errors.const';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthHandlerService {\n  constructor(private readonly authService: AuthService, private readonly loginService: LoginService) { }\n\n  public loginSocial$(method?: string, body?: any): Observable<IUserView>  {\n    return this.authService.loginSocial$(method, body).pipe(\n      switchMap((_: IApiTokens) => this.loginService.login$(_)),\n    );\n  }\n\n  public login$(subject: string, password: string): Observable<IApiTokens> {\n    return this.authService.login$(subject, password).pipe(\n      catchError((error: HttpErrorResponse) => {\n        switch (error.status) {\n          case 404:\n            return throwError({ cause: WRONG_SUBJECT_ERROR });\n          case 401:\n            return throwError({ cause: WRONG_PASSWORD_ERROR });\n          default:\n            return throwError({ cause: UNKNOWN_ERROR, error });\n        }\n      })\n    );\n  }\n}\n","import { Component, EventEmitter, Input, Output, ChangeDetectionStrategy } from '@angular/core';\nimport { ICommentViewArticle } from '@api/schemas/comment/comment-view-article.interface';\nimport { ICommentViewFeed } from '@api/schemas/comment/comment-view-feed.interface';\nimport { ReportEntityTypeEnum } from '@api/schemas/report/report-entity-type.enum';\n\n\n@Component({\n  selector: 'app-action-menu-comment',\n  templateUrl: './action-menu-comment.component.html',\n  styleUrls: ['./action-menu-comment.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ActionMenuCommentComponent {\n  @Input() public data: ICommentViewFeed | ICommentViewArticle;\n  @Input() public own: boolean;\n\n  @Input() public set context(data: number) {\n    this._context = data;\n  }\n\n  public get context(): number {\n    if ('context' in this.data && this.data.context) {\n      return this.data.context.meta.id;\n    }\n    return this._context;\n  }\n\n  public readonly reportEntityTypeEnum: typeof ReportEntityTypeEnum = ReportEntityTypeEnum;\n\n  @Output() public readonly report: EventEmitter<ICommentViewArticle | ICommentViewFeed> =\n    new EventEmitter<ICommentViewArticle | ICommentViewFeed>();\n  @Output() public readonly gone: EventEmitter<void> = new EventEmitter<void>();\n  @Output() public readonly edit: EventEmitter<void> = new EventEmitter<void>();\n  @Output() public readonly deleteEmit: EventEmitter<number> = new EventEmitter<number>();\n\n  // tslint:disable-next-line:variable-name\n  private _context: number;\n\n  constructor() {}\n\n  public delete(): void {\n    this.deleteEmit.emit(this.data.meta.id);\n  }\n}\n","<app-ui-dots-menu>\n    <app-ui-dots-menu-item *ngIf=\"!own\" icon=\"report\" text=\"{{ 'COMMON.TO_FILE_A_COMPLAINT' | translate}}\" appReport\n                           [object]=\"{ type: reportEntityTypeEnum.COMMENT, id: data.meta.id }\" (report)=\"report.next(data)\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or own\" icon=\"edit\" text=\"{{ 'COMMON.EDIT' | translate}}\"\n                           (click)=\"edit.emit()\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or own\" icon=\"report\" text=\"{{ 'COMMON.REMOVE' | translate}}\" (click)=\"delete()\">\n    </app-ui-dots-menu-item>\n</app-ui-dots-menu>\n","export enum LocalStorageKeyEnum {\n    COOKIES_BANNER = 'cookiesBanner',\n    TOKEN_ACCESS = 'token.access',\n    TOKEN_REFRESH = 'token.refresh'\n}\n","export enum UiInputAppearance {\n  bordered = 'bordered',\n  outline = 'outline',\n  extraForm = 'extra-form',\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RangesComponent } from './ranges.component';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { SvgModule } from '../svg/svg.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n\n\n@NgModule({\n  declarations: [RangesComponent],\n  exports: [RangesComponent],\n  imports: [\n    CommonModule,\n    SharedUiModule,\n    SvgModule,\n    TranslateModule.forChild()\n  ]\n})\nexport class RangesModule { }\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/services/api.service';\nimport { Observable } from 'rxjs';\nimport { IUploadImageResponse } from '@api/schemas/image/upload-image-response.interface';\nimport { fileToFormData } from '@api/functions/file-to-formdata.function';\n\nconst CONTROLLER_ENDPOINT = 'upload';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UploadService {\n  constructor(private readonly apiService: ApiService) { }\n\n  public uploadImage$(image: File): Observable<IUploadImageResponse> {\n    return this.apiService.post$<IUploadImageResponse>(`${ CONTROLLER_ENDPOINT }/image`, fileToFormData(image));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IconComponent } from './icon/icon.component';\nimport { ExpandBoxComponent } from './expand-box/expand-box.component';\nimport { RouterModule } from '@angular/router';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { SubscribableViewItemComponent } from './subscribable-view-item/subscribable-view-item.component';\nimport { CardComponent } from './card/card.component';\nimport { FormControlComponent } from './form-control/form-control.component';\nimport { CheckboxComponent } from './checkbox/checkbox.component';\nimport { DropdownMenuComponent } from './dropdown-menu/dropdown-menu.component';\nimport { DropdownMenuItemComponent } from './dropdown-menu/dropdown-menu-item/dropdown-menu-item.component';\nimport { NgScrollbarModule } from 'ngx-scrollbar';\nimport { TextareaComponent } from './textarea/textarea.component';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { IconInputComponent } from './icon-input/icon-input.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { UiInput } from './input/ui-input.directive';\nimport { UiLabelComponent } from './label/label.component';\nimport { UiButtonComponent } from './button/button.component';\nimport { DotsMenuComponent } from './dots-menu/dots-menu.component';\nimport { DotsMenuItemComponent } from './dots-menu/dots-menu-item/dots-menu-item.component';\nimport { AutosizeModule } from 'ngx-autosize';\nimport { SearchComponent } from './search/search.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n\n\n@NgModule({\n  declarations: [\n    IconComponent,\n    ExpandBoxComponent,\n    SubscribableViewItemComponent,\n    CardComponent,\n    FormControlComponent,\n    IconInputComponent,\n    CheckboxComponent,\n    DropdownMenuComponent,\n    DropdownMenuItemComponent,\n    TextareaComponent,\n    UiLabelComponent,\n    UiInput,\n    UiLabelComponent,\n    UiButtonComponent,\n    DotsMenuComponent,\n    DotsMenuItemComponent,\n    SearchComponent\n  ],\n  exports: [\n    IconComponent,\n    UiLabelComponent,\n    IconInputComponent,\n    ExpandBoxComponent,\n    SubscribableViewItemComponent,\n    CardComponent,\n    FormControlComponent,\n    CheckboxComponent,\n    DropdownMenuComponent,\n    DropdownMenuItemComponent,\n    TextareaComponent,\n    UiInput,\n    UiLabelComponent,\n    UiButtonComponent,\n    DotsMenuComponent,\n    DotsMenuItemComponent,\n    SearchComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule,\n    SharedPipesModule,\n    NgScrollbarModule,\n    SvgModule,\n    FormsModule,\n    ReactiveFormsModule,\n    AutosizeModule,\n    TranslateModule.forChild()\n  ]\n})\nexport class SharedUiModule { }\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { IShowcaseView } from '@api/schemas/showcase/showcase-view.interface';\nimport { Observable } from 'rxjs';\nimport { ShowcaseEditBlockService } from '@layout/sidebar-wrapper/live-content/showcase-edit-block.service';\nimport { ShowcasesService } from '@api/routes/showcases.service';\nimport { Router } from '@angular/router';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { IUploadImageResponse } from '@api/schemas/image/upload-image-response.interface';\nimport { IShowcasePatch } from '@api/schemas/showcase/showcase-patch.interface';\nimport { switchMap, takeUntil, tap, filter } from 'rxjs/operators';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\n\n@Component({\n  selector: 'app-showcase-editor',\n  templateUrl: './showcase-editor.component.html',\n  styleUrls: ['./showcase-editor.component.scss']\n})\nexport class ShowcaseEditorComponent extends AbstractComponent implements OnInit, OnDestroy {\n  public id: number = null;\n  public item: IShowcaseView = null;\n  public count = -1;\n  public item$: Observable<IShowcaseView>;\n\n  constructor(\n    private readonly showcasesService: ShowcasesService,\n    private readonly router: Router,\n    public readonly responsive: ResponsiveService,\n    public readonly showcaseEditBlockService: ShowcaseEditBlockService,\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.showcaseEditBlockService.getId$().pipe(\n      tap((_: number) => this.id = _),\n      filter((_: number) => _ !== -1),\n      switchMap((_: number) => this.showcasesService.getSingle$(this.id)),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe((item: IShowcaseView) => this.item = item);\n    this.showcasesService.get$().pipe(takeUntil(this.ngOnDestroy$)).subscribe((_: IPageResponse<IShowcaseView>) => {\n      this.count = _.total + 1;\n    });\n  }\n\n  public uploadCover(cover: File): void {\n    this.showcasesService.updateCover$(this.id, cover).pipe(takeUntil(this.ngOnDestroy$)).subscribe((url: IUploadImageResponse) => {\n      this.item.info.cover = url.url;\n    });\n  }\n\n  public publish(): void {\n    const data: IShowcasePatch = {\n      info: {\n        url: this.item.info.url,\n        title: this.item.info.title,\n        subtitle: this.item.info.subtitle,\n      },\n    };\n    this.showcasesService.patch$(this.id, data).pipe(\n      switchMap(() => this.showcasesService.publish$(this.id)),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe(() => {\n      this.showcaseEditBlockService.refresh$.next();\n      this.showcaseEditBlockService.toggle();\n      this.router.navigate(['/all']);\n    });\n  }\n}\n","<div *ngIf=\"showcaseEditBlockService.getValue().value\" class=\"rect\">\n    <div class=\"w-100\"></div>\n    <div class=\"preview\">\n        <div *ngIf=\"item\" class=\"add-element-on-bord\">\n            <button class=\"add-element-on-bord__close\" title=\"Закрыть\" (click)=\"showcaseEditBlockService.toggle()\">\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.0015 8.98985L13.5371 5.45431C13.816 5.17537 14.2683 5.17537 14.5472 5.45431C14.8262 5.73326 14.8262 6.18552 14.5472 6.46447L11.0117 10L14.5472 13.5355C14.8262 13.8145 14.8262 14.2667 14.5472 14.5457C14.2683 14.8246 13.816 14.8246 13.5371 14.5457L10.0015 11.0102L6.466 14.5457C6.18705 14.8246 5.73479 14.8246 5.45584 14.5457C5.1769 14.2667 5.1769 13.8145 5.45584 13.5355L8.99138 10L5.45584 6.46447C5.1769 6.18552 5.1769 5.73326 5.45584 5.45431C5.73479 5.17537 6.18705 5.17537 6.466 5.45431L10.0015 8.98985Z\" />\n                </svg>\n            </button>\n            <h2 class=\"add-element-on-bord__title\">{{ 'COMMON.PLACING_ELEMENT' | translate }}</h2>\n            <form class=\"add-element-on-bord__form\">\n                <div class=\"add-element-on-bord__group\" style=\"justify-content: left !important;\">\n                    <div class=\"add-element-on-bord__group-title\"><span>{{ 'COMMON.ELEMENT' | translate }} {{ count }}:</span></div>\n                    <div class=\"add-element-on-bord__group-txt\">{{ item.info.title ? item.info.title : 'Элемент витрины ' + count }}</div>\n                </div>\n                <label class=\"add-element-on-bord__group\">\n                    <div class=\"add-element-on-bord__group-title\"><span>{{ 'COMMON.ACTIVE_LINK' | translate }}:</span></div>\n                    <input type=\"url\" class=\"add-element-on-bord__input\" name=\"url\" [(ngModel)]=\"item.info.url\">\n                </label>\n                <div class=\"add-element-on-bord__row\">\n                    <label class=\"add-element-on-bord__group\">\n                        <div class=\"add-element-on-bord__group-title\"><span>{{ 'COMMON.SHORT_ANNOUNCE' | translate}}:</span></div>\n                        <input type=\"text\" class=\"add-element-on-bord__input\" name=\"title\" maxlength=\"64\" [(ngModel)]=\"item.info.title\">\n                        <span style=\"border-bottom: 2px solid rgba(0, 183, 255, 0.3); font-size: 14px; line-height: 16px; color: rgba(0, 183, 255);\">{{ '&nbsp;' + (64 - item.info.title.length) }}</span>\n                    </label>\n                    <label class=\"add-element-on-bord__group add-element-on-bord__group_short\">\n                        <div class=\"add-element-on-bord__group-title\"><span>{{ 'COMMON.TAG' | translate}}:</span></div>\n                        <input type=\"text\" class=\"add-element-on-bord__input\" name=\"subtitle\" maxlength=\"30\" [(ngModel)]=\"item.info.subtitle\">\n                        <span style=\"border-bottom: 2px solid rgba(0, 183, 255, 0.3); font-size: 14px; line-height: 16px; color: rgba(0, 183, 255);\">{{ '&nbsp;' + (30 - item.info.subtitle.length) }}</span>\n                    </label>\n                </div>\n                <div class=\"add-element-on-bord__container\">\n                    <div class=\"add-element-on-bord-upload\">\n                        <label class=\"add-element-on-bord-upload__click\">\n                            <span class=\"add-element-on-bord-upload__icn\">\n                                <svg width=\"17\" height=\"18\" viewBox=\"0 0 17 18\" fill=\"none\">\n                                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M1.88774 7.79446L8.413 1.2692C10.1053 -0.423068 12.849 -0.423068 14.5413 1.2692C16.2335 2.96148 16.2335 5.70519 14.5413 7.39746L8.016 13.9227C6.97109 14.9205 5.31509 14.9062 4.28821 13.8793C3.24681 12.8379 3.24681 11.1494 4.28821 10.108L10.77 3.62623C11.1605 3.2357 11.7937 3.2357 12.1842 3.62623C12.5748 4.01675 12.5748 4.64992 12.1842 5.04044L5.70242 11.5223C5.44207 11.7826 5.44207 12.2047 5.70242 12.4651C5.96277 12.7254 6.38488 12.7254 6.64523 12.4651L13.127 5.98325C14.0383 5.07203 14.0383 3.59464 13.127 2.68342C12.2158 1.77219 10.7384 1.77219 9.82721 2.68342L3.3454 9.16523C1.7833 10.7273 1.7833 13.26 3.3454 14.8221C4.9075 16.3842 7.44016 16.3842 9.00226 14.8221L14.3056 9.51878C14.6961 9.12826 15.3292 9.12826 15.7198 9.51878C16.1103 9.90931 16.1103 10.5425 15.7198 10.933L10.4165 16.2363C8.07332 18.5794 4.27433 18.5794 1.93119 16.2363C-0.397459 13.9077 -0.411869 10.1411 1.88796 7.79468L1.88774 7.79446Z\" />\n                                </svg>\n                            </span>\n                            <span class=\"add-element-on-bord-upload__txt\">{{ 'COMMON.LOAD_THE_IMAGE' | translate}}</span>\n                            <input type=\"file\" (change)=\"uploadCover($event.target['files'][0])\">\n                        </label>\n                        <div class=\"add-element-on-bord-upload__note\">{{ 'COMMON.RECOMMENDED_IMAGE_SIZE__' | translate}} JPG, 295 x 184 px</div>\n                    </div>\n                    <div class=\"add-element-on-bord-preview\">\n                        <div class=\"add-element-on-bord-preview__title\">{{ 'COMMON.PREVIEW' | translate}}</div>\n                        <div *ngIf=\"!item.info.cover\" class=\"add-element-on-bord-preview__frame empty\"></div>\n                        <a *ngIf=\"item.info.cover\" class=\"item clickable prev\" style=\"height: 200px;\">\n                            <main>\n                                <header class=\"last-item-right v-center\">\n                                    {{ item.info.subtitle }}\n                                </header>\n                                <section>\n                                    <h4 *ngIf=\"!(responsive.lt.large | async)\">\n                                        {{ (item.info.title || ('COMMON.TITLE' | translate)) | trunk:50 }}\n                                    </h4>\n                                    <h4 *ngIf=\"responsive.lt.large | async\">\n                                        {{ (item.info.title || ('COMMON.TITLE' | translate)) | trunk:20 }}\n                                    </h4>\n                                </section>\n                                <footer class=\"v-center\">\n                                    <div *ngIf=\"item.info.options\">\n                                        <div *ngIf=\"item.info.options.viewCount\">\n                                            <svg name=\"view\" class=\"f-white\" size=\"18\"></svg>\n                                            <span class=\"caption\">{{ item.info.options.viewCount }}</span>\n                                        </div>\n                                        <div *ngIf=\"item.info.options.postCount\">\n                                            <svg name=\"edit\" class=\"f-white\" size=\"18\"></svg>\n                                            <span class=\"caption\">{{ item.info.options.postCount }}</span>\n                                        </div>\n                                        <div *ngIf=\"item.info.options.subCount\">\n                                            <svg name=\"user\" class=\"f-white\" size=\"18\"></svg>\n                                            <span class=\"caption\">{{ item.info.options.subCount }}</span>\n                                        </div>\n                                    </div>\n                                </footer>\n                            </main>\n                            <div class=\"overlay\"></div>\n                            <img class=\"background\" [src]=\"item.info.cover\"/>\n                        </a>\n                    </div>\n                    <div class=\"add-element-on-bord__bar\">\n                        <button class=\"add-element-on-bord__reset\" type=\"reset\" (click)=\"showcaseEditBlockService.toggle()\">{{ 'COMMON.UNDO' | translate}}</button>\n                        <button class=\"add-element-on-bord__submit\" type=\"submit\">\n                            <span (click)=\"publish()\">{{ 'COMMON.PLACE_AT_DISPLAY_WINDOW' | translate }}</span>\n                            <span>\n                                <svg width=\"19\" height=\"21\" viewBox=\"0 0 19 21\" fill=\"none\">\n                                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.20898 14.5C5.34299 14.5 2.20898 11.366 2.20898 7.5C2.20898 3.63401 5.34299 0.5 9.20898 0.5C13.075 0.5 16.209 3.63401 16.209 7.5C16.209 11.366 13.075 14.5 9.20898 14.5ZM14.209 7C14.209 4.70056 12.1086 2.5 9.70898 2.5C9.43284 2.5 9.20898 2.72386 9.20898 3C9.20898 3.27614 9.43284 3.5 9.70898 3.5C11.5456 3.5 13.209 5.2427 13.209 7C13.209 7.27614 13.4328 7.5 13.709 7.5C13.9851 7.5 14.209 7.27614 14.209 7ZM18.1687 17.8032C18.3101 18.1331 18.0681 18.5001 17.7091 18.5001H14.9162L13.0626 20.3537C12.8213 20.595 12.4145 20.529 12.2619 20.2237L9.91275 15.8448C12.3267 15.6426 14.4359 14.3685 15.7628 12.5L18.1687 17.8032ZM6.15674 20.2237C6.00411 20.529 5.59729 20.595 5.35597 20.3537L3.50242 18.5001H0.709523C0.350565 18.5001 0.10855 18.1331 0.24995 17.8032L2.70923 12.5006C4.03633 14.3689 6.14557 15.6428 8.55954 15.8449L6.15674 20.2237Z\" />\n                                </svg>\n                            </span>\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n","import { AfterViewInit, Component, ElementRef, Input, ViewChild, OnDestroy, ChangeDetectorRef } from '@angular/core';\nimport { IMenuState } from '@layout/shared/interfaces/menu-state.interface';\n\nimport { fromEvent } from 'rxjs';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/operators';\n\n\n@Component({\n  selector: 'app-ui-dropdown-menu',\n  templateUrl: './dropdown-menu.component.html',\n  styleUrls: ['./dropdown-menu.component.scss']\n})\nexport class DropdownMenuComponent extends AbstractComponent implements AfterViewInit, OnDestroy {\n  @ViewChild('dropdown') private dropdown: ElementRef;\n\n  @Input() public width: number;\n  @Input() public height: number;\n  @Input() public dropdownExtraClass = '';\n\n  public state: IMenuState = { shown: false, sub: null };\n\n  constructor(private elementRef: ElementRef, private readonly cdr: ChangeDetectorRef) { super(); }\n\n  public ngAfterViewInit(): void {\n    const menuItems: HTMLElement[] = Array.from(this.elementRef.nativeElement.querySelectorAll('app-ui-dropdown-menu-item'));\n    menuItems.forEach((item: HTMLElement) => item.addEventListener('click', this.toggle.bind(this)));\n  }\n\n  public toggle(): void {\n    if (this.state.shown) {\n      requestAnimationFrame(() => {\n        this.state.sub.unsubscribe();\n        this.state.shown = false;\n        this.cdr.markForCheck();\n      });\n    } else {\n      this.state.shown = true;\n      setTimeout(() => {\n        this.state.sub = fromEvent(document, 'click', {\n          capture: true,\n        }).pipe(takeUntil(this.ngOnDestroy$)).subscribe((e: FocusEvent) => {\n          if (this.dropdown && !this.dropdown.nativeElement.contains(e.target)) {\n            requestAnimationFrame(() => {\n              this.state.sub.unsubscribe();\n              this.state.shown = false;\n              this.cdr.markForCheck();\n            });\n          }\n        });\n      }, 0);\n    }\n  }\n}\n","<div class=\"has-dropdown v-center\" [class.open]=\"state.shown\">\n    <div (click)=\"toggle()\">\n        <ng-content select=\".head\"></ng-content>\n    </div>\n    <ng-container *ngIf=\"!height && !width\">\n        <ng-container *ngTemplateOutlet=\"standart\"></ng-container>\n    </ng-container>\n    <ng-container *ngIf=\"!height && width\">\n        <ng-container *ngTemplateOutlet=\"custom\"></ng-container>\n    </ng-container>\n    <ng-container *ngIf=\"height\">\n        <ng-container *ngTemplateOutlet=\"scrollbar\"></ng-container>\n    </ng-container>\n</div>\n\n<ng-template #standart>\n    <div #dropdown [class]=\"'dropdown ' + dropdownExtraClass\" style=\"z-index: 5;\" tabindex=\"-1\" [ngClass]=\"{hidden: !state.shown}\">\n        <div class=\"structural fade-2\">\n            <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #custom>\n    <div #dropdown [class]=\"'dropdown ' + dropdownExtraClass\" style=\"z-index: 5;\" tabindex=\"-1\" [ngClass]=\"{hidden: !state.shown}\" [ngStyle]=\"{'width.px': this.width + 40, 'height.px': this.height + 40}\">\n        <div class=\"structural fade-2\">\n            <ng-container *ngTemplateOutlet=\"content\" [ngStyle]=\"{'width.px': this.width}\"></ng-container>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #scrollbar>\n    <div #dropdown [class]=\"'dropdown ' + dropdownExtraClass\" style=\"z-index: 5;\" tabindex=\"-1\" [ngClass]=\"{hidden: !state.shown}\" [ngStyle]=\"{'width.px': this.width + 40, 'height.px': this.height + 40}\">\n        <div class=\"structural fade-2\">\n            <ng-scrollbar [ngStyle]=\"{'width.px': this.width, 'height.px': this.height}\">\n                <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n            </ng-scrollbar>\n        </div>\n    </div>\n</ng-template>\n\n<ng-template #content>\n    <ng-content></ng-content>\n</ng-template>\n","import { Injectable, Injector } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  CanActivateChild,\n  Data,\n  Router,\n  RouterStateSnapshot,\n} from '@angular/router';\nimport { Observable, of } from 'rxjs';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { switchMap, tap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MasterGuard implements CanActivate, CanActivateChild {\n\n  private route: ActivatedRouteSnapshot;\n  private state: RouterStateSnapshot;\n  private executor: 'canActivate' | 'canActivateChild';\n  private relation: 'OR' | 'AND' = 'AND';\n\n  constructor(private readonly injector: Injector,\n              private readonly platformService: PlatformService,\n              private readonly router: Router) {\n  }\n\n  public canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | boolean {\n    if (this.platformService.isServer) {\n      return of(true);\n    }\n    this.executor = 'canActivate';\n    this.route = route;\n    this.state = state;\n    return this.middleware().pipe(tap((res: boolean) => {\n      if (!res && this.route.data.alternativeRoute) {\n        this.router.navigateByUrl(this.route.data.alternativeRoute);\n      }\n    }));\n  }\n\n  public canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | boolean {\n    if (this.platformService.isServer) {\n      return of(true);\n    }\n    this.executor = 'canActivateChild';\n    this.route = route;\n    this.state = state;\n    return this.middleware();\n  }\n\n  private middleware(): Observable<boolean> {\n\n    const data = this.findDataWithGuards(this.route);\n\n    if (!data.guards || !data.guards.length) {\n      return of(true);\n    }\n\n    if (typeof this.route.data.guardsRelation === 'string') {\n      this.relation = this.route.data.guardsRelation.toUpperCase() === 'OR' ? 'OR' : 'AND';\n    } else {\n      this.relation = (data.guardsRelation === 'string' && data.guardsRelation.toUpperCase() === 'OR') ? 'OR' : 'AND';\n    }\n\n    return this.executeGuards(data.guards);\n  }\n\n  private findDataWithGuards(route: ActivatedRouteSnapshot): Data {\n\n    if (route.data.guards) {\n      return route.data;\n    }\n\n    // tslint:disable:no-bitwise\n    if ( (route.routeConfig.canActivateChild && ~route.routeConfig.canActivateChild.findIndex((guard: any) => this instanceof guard))\n      || (route.routeConfig.canActivate && ~route.routeConfig.canActivate.findIndex((guard: any) => this instanceof guard)) ) {\n      return route.data;\n    }\n    // tslint:enable:no-bitwise\n\n    return this.findDataWithGuards(route.parent);\n  }\n\n  private executeGuards(guards: any, guardIndex: number = 0): Observable<boolean> {\n    return this.activateGuard(guards[guardIndex]).pipe(\n      switchMap((result: boolean) => {\n        if (this.relation === 'AND' && !result) {\n          return of(false);\n        }\n        if (this.relation === 'OR' && result) {\n          return of(true);\n        }\n        if (guardIndex < guards.length - 1) {\n          return this.executeGuards(guards, guardIndex + 1);\n        } else {\n          return of(result);\n        }\n      })\n    );\n  }\n\n  private activateGuard(token: any): Observable<boolean> {\n    const guard = this.injector.get<any>(token);\n\n    let result: Observable<boolean> | boolean;\n    switch (this.executor) {\n      case 'canActivate':\n        result = guard.canActivate(this.route, this.state);\n        break;\n\n      case 'canActivateChild':\n        result = guard.canActivateChild(this.route, this.state);\n        break;\n\n      default:\n        result = guard.canActivate(this.route, this.state);\n        break;\n    }\n\n    if (typeof result === 'boolean') {\n      return of(result);\n    }\n\n    return result;\n  }\n}\n","export enum BannerPlaceEnum {\n    HEADER = 'HEADER',\n    FEED1 = 'FEED1',\n    FEED2 = 'FEED2',\n    FEED3 = 'FEED3',\n    PUBLICATION_ABOVE_COMMENTS = 'PUBLICATION_ABOVE_COMMENTS',\n    PUBLICATION_BELOW_COMMENTS = 'PUBLICATION_BELOW_COMMENTS',\n    PUBLICATION_SIDEBAR = 'PUBLICATION_SIDEBAR',\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\nimport { WysiwygEditorComponent } from './wysiwyg-editor/wysiwyg-editor.component';\nimport { PaginationComponent } from './pagination/pagination.component';\nimport { CommentSectionComponent } from './comment-section/comment-section.component';\nimport { SharedUiModule } from '@shared/ui/shared-ui.module';\nimport { CommentEditorComponent } from './comment-section/comment-editor/comment-editor.component';\nimport { CommentComponent } from './comment-section/comment/comment.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { SharedPipesModule } from '@shared/pipes/shared-pipes.module';\nimport { ActionMenuCommentComponent } from './action-menu/action-menu-comment/action-menu-comment.component';\nimport { VotingComponent } from './voting/voting.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ShareComponent } from './share/share.component';\nimport { CommonDirectivesModule } from '@shared/directives/directives.module';\nimport { ActionMenuArticleComponent } from './action-menu/action-menu-article/action-menu-article.component';\nimport { AdBannerComponent } from './ad-banner/ad-banner.component';\nimport { SvgModule } from '@shared/modules/svg/svg.module';\nimport { ActionMenuEventComponent } from './action-menu/action-menu-event/action-menu-event.component';\nimport { ContactCompactListComponent } from './contact-compact-list/contact-compact-list.component';\nimport { ActionMenuJobComponent } from './action-menu/action-menu-job/action-menu-job.component';\nimport { FileUploadComponent } from './file-upload/file-upload.component';\nimport { ActionMenuTagComponent } from './action-menu/action-menu-tag/action-menu-tag.component';\nimport { ActionMenuTopicComponent } from './action-menu/action-menu-topic/action-menu-topic.component';\nimport { ActionMenuUserComponent } from './action-menu/action-menu-user/action-menu-user.component';\nimport { RangesModule } from '@shared/modules/ranges/ranges.module';\nimport { FiltersModule } from '@shared/modules/filters/filters.module';\n\n\n\n@NgModule({\n  declarations: [\n    WysiwygEditorComponent,\n    CommentSectionComponent,\n    CommentEditorComponent,\n    CommentComponent,\n    ActionMenuCommentComponent,\n    VotingComponent,\n    ShareComponent,\n    ContactCompactListComponent,\n    ActionMenuJobComponent,\n    ActionMenuArticleComponent,\n    ActionMenuEventComponent,\n    AdBannerComponent,\n    PaginationComponent,\n    FileUploadComponent,\n    ActionMenuTagComponent,\n    ActionMenuTopicComponent,\n    ActionMenuUserComponent\n  ],\n  exports: [\n    WysiwygEditorComponent,\n    SvgModule,\n    ActionMenuJobComponent,\n    CommentSectionComponent,\n    CommentEditorComponent,\n    CommentComponent,\n    ActionMenuEventComponent,\n    ContactCompactListComponent,\n    ActionMenuCommentComponent,\n    VotingComponent,\n    ShareComponent,\n    ActionMenuArticleComponent,\n    AdBannerComponent,\n    SharedPipesModule,\n    PaginationComponent,\n    FileUploadComponent,\n    ActionMenuTagComponent,\n    ActionMenuTopicComponent,\n    ActionMenuUserComponent\n  ],\n  imports: [\n    SvgModule,\n    CommonModule,\n    CKEditorModule,\n    SharedUiModule,\n    RouterModule,\n    SharedPipesModule,\n    FormsModule,\n    ReactiveFormsModule,\n    TranslateModule.forChild(),\n    CommonDirectivesModule,\n    SvgModule,\n    RangesModule,\n    FiltersModule\n  ]\n})\nexport class SharedComponentsModule { }\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { PlatformLocation } from '@angular/common';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { environment } from '@env';\n\n@Pipe({\n  name: 'url',\n})\nexport class UrlPipe implements PipeTransform {\n  constructor(\n    private readonly router: Router,\n    private readonly platformLocation: PlatformLocation,\n    private readonly platformService: PlatformService\n  ) {}\n\n  transform(value: any[] | null, fragment?: string): string {\n    if (value === null) {\n      const href = this.platformService.isServer ? environment.url : (this.platformLocation as any).location.href;\n      return href + (fragment ? '#' + fragment : '');\n    }\n    const origin = this.platformService.isServer ? environment.url : (this.platformLocation as any).location.origin;\n    return `${ origin }${ this.router.serializeUrl(this.router.createUrlTree(value)) }${ fragment ? `#${ fragment }` : '' }`;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { IUserQuery } from '@api/schemas/user/user-query.interface';\nimport { ApiService } from '@api/services/api.service';\nimport { BaseStatus } from '@api/classes/base-status/base-status.class';\nimport { Observable, throwError, Subscriber } from 'rxjs';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { map, catchError, switchMap } from 'rxjs/operators';\nimport { IUploadImageResponse } from '@api/schemas/image/upload-image-response.interface';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { ICommentViewFeed } from '@api/schemas/comment/comment-view-feed.interface';\nimport qs from 'qs';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { environment } from '@env';\nimport { EMAIL_TAKEN, USERNAME_TAKEN, UNKNOWN_ERROR } from '@api/constants/errors.const';\nimport { fileToFormData } from '@api/functions/file-to-formdata.function';\nimport { IFacebookLoginResponse } from '@layout/shared/services/social-login/facebook-login-response.interface';\nimport { BaseStatusActionEnum } from '@api/classes/base-status/base-status-action.enum';\nimport { Store } from '@ngxs/store';\n\ndeclare const FB: any;\nconst CONTROLLER_ENDPOINT = 'users';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UsersService extends BaseStatus {\n  constructor(\n    protected readonly apiService: ApiService,\n    protected readonly store: Store,\n    private readonly http: HttpClient\n  ) {\n    super(apiService, CONTROLLER_ENDPOINT, store);\n  }\n\n  private uploadImage$(image: File, url: string): Observable<IUploadImageResponse> {\n    return this.apiService.put$<IUploadImageResponse>(url, fileToFormData(image));\n  }\n\n  public get$(page: number = 0, query: IUserQuery = {}): Observable<IPageResponse<IUserView>> {\n    return this.apiService.get$<IPageResponse<IUserView>>(CONTROLLER_ENDPOINT, true, { locale: 'RUSSIAN', ...query, company: false, page });\n  }\n\n  public getSingle$(id: number | string): Observable<IUserViewFull> {\n    if (typeof id === 'string' && /^\\d+$/.test(id)) {\n      id = parseInt(id, 10);\n    }\n    return this.apiService.get$<IUserViewFull>(`${ CONTROLLER_ENDPOINT }/${ typeof id === 'number' ? `id${ id }` : id }`, true);\n  }\n\n  public me$(): Observable<IUserViewFull> {\n    return this.apiService.get$<IUserViewFull>(`${ CONTROLLER_ENDPOINT }/me`);\n  }\n\n  public comments$(page: number = 0, id: number, query?: any): Observable<IPageResponse<ICommentViewFeed>> {\n    return this.apiService.get$<IPageResponse<ICommentViewFeed>>(`${ CONTROLLER_ENDPOINT }/${ id }/comments?${ qs.stringify({ page, ...query }) }`, true);\n  }\n\n  public importFBPicture$(body: any): Observable<IUploadImageResponse> {\n    return this.apiService.put$<IUploadImageResponse>(`${ CONTROLLER_ENDPOINT }/me/picture/import/facebook`, body);\n  }\n\n  public commentCount$(id: number): Observable<number> {\n    return this.apiService.get$<{ count: any }>(`${ CONTROLLER_ENDPOINT }/${ id }/comments/count`, true)\n      .pipe(map((_: { count: any }) => _.count));\n  }\n\n  public updateProfile$(update: any, id?: number): Observable<never> {\n    return this.apiService.patch$<never>(id ? `${ CONTROLLER_ENDPOINT }/private/${ id }` : `${ CONTROLLER_ENDPOINT }/me`, update, false);\n  }\n\n  public setUsername$(username: string, id?: number): Observable<never> {\n    return this.apiService.put$<never>(id ? `${ CONTROLLER_ENDPOINT }/private/${ id }/username`\n      : `${ CONTROLLER_ENDPOINT }/me/username`, { username });\n  }\n\n  public delete$(id: number): Observable<never> {\n    return this.apiService.delete$<never>(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public setRole$(id: number, role: string, status: boolean): Observable<never> {\n    return status\n      ? this.apiService.post$<never>(`${ CONTROLLER_ENDPOINT }/${ id }/roles/${ role }`)\n      : this.apiService.delete$(`${ CONTROLLER_ENDPOINT }/${ id }/roles/${ role }`);\n  }\n\n  public connectSocial$(currentMethod: string, currentBody: any): Observable<any> {\n    return this.apiService.post$<any>(`${ CONTROLLER_ENDPOINT }/me/connect/${ currentMethod }`, currentBody);\n  }\n\n  public resetInit$(email: string): Observable<never> {\n    return this.apiService.post$<never>(`${ CONTROLLER_ENDPOINT }/reset`, { email }, true);\n  }\n\n  public resetCheck$(hash: string, email: string): Observable<never> {\n    return this.apiService.get$<never>(`${ CONTROLLER_ENDPOINT }/reset?hash=${ hash }&email=${ email }`, true);\n  }\n\n  public resetChange$(hash: string, email: string, password: string): Observable<never> {\n    return this.apiService.post$<never>(`${ CONTROLLER_ENDPOINT }/reset/change`, { email, password, hash }, true);\n  }\n\n  public setUserRole$(id: number, role: string, status: boolean): Observable<never> {\n    return status\n      ? this.apiService.post$(`${ CONTROLLER_ENDPOINT }/${ id }/roles/${ role }`)\n      : this.apiService.delete$(`${ CONTROLLER_ENDPOINT }/${ id }/roles/${ role }`);\n  }\n\n  public registerSocial$(currentMethod: string, currentBody: any): Observable<IApiTokens> {\n    return this.http.post<IApiTokens>(`${ environment.apiUrl + CONTROLLER_ENDPOINT }/register/social/${ currentMethod }`, currentBody);\n  }\n\n  public register$(firstName: string, lastName: string, email: string, password: string, username?: string): Observable<IApiTokens> {\n    return this.http.post<IApiTokens>(environment.apiUrl + `${ CONTROLLER_ENDPOINT }/register`,\n      { firstName, lastName, username, password, email, }).pipe(\n      catchError((error: HttpErrorResponse) => {\n        switch (error.error.message) {\n          case 'Username already in use':\n            return throwError({ cause: USERNAME_TAKEN });\n          case 'Email address already in use':\n            return throwError({ cause: EMAIL_TAKEN });\n          default:\n            return throwError({ cause: UNKNOWN_ERROR, error });\n        }\n      })\n    );\n  }\n\n  public ban$(id: number, banned: boolean): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.BAN, !banned);\n  }\n\n  public setCompanyStatus$(id: number, company: boolean): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.COMPANY, !company);\n  }\n\n  public updateCover$(file: File, id?: number): Observable<IUploadImageResponse> {\n    return this.uploadImage$(file, id ? `${ CONTROLLER_ENDPOINT }/private/${ id }/cover` : `${ CONTROLLER_ENDPOINT }/me/cover`);\n  }\n\n  public updateAvatar$(file: File, id?: number): Observable<IUploadImageResponse> {\n    return this.uploadImage$(file, id ? `${ CONTROLLER_ENDPOINT }/private/${ id }/picture` : `${ CONTROLLER_ENDPOINT }/me/picture`);\n  }\n\n  public setFBPicture$(): Observable<IUploadImageResponse> {\n    return new Observable<any>((subscriber: Subscriber<any>) => {\n      FB.login((response: IFacebookLoginResponse) => {\n        if (response.status === 'connected') {\n          subscriber.next({\n            signedRequest: response.authResponse.signedRequest,\n          });\n          subscriber.complete();\n        } else {\n          subscriber.error(response.status);\n        }\n      });\n    }).pipe(switchMap((body: any) => this.apiService.put$(`${ CONTROLLER_ENDPOINT }/me/picture/import/facebook`, body)));\n  }\n}\n","export enum PublicationStageEnum {\n    DRAFT = 'DRAFT',\n    REVIEWING = 'REVIEWING',\n    PUBLISHED = 'PUBLISHED',\n    BLOCKED = 'BLOCKED',\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'call'\n})\nexport class CallPipe implements PipeTransform {\n  transform(value: any, handler: (value: any) => any, context?: any): any {\n    return handler.call(context, value);\n  }\n}\n","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\nimport { IFeedNavDropdown } from './feed-nav-item/feed-nav-dropdown.interface';\nimport { feedDropdownConstant } from './feed-dropdown.const';\nimport { Observable, of } from 'rxjs';\nimport { FeedSourceEnum } from '@shared/enums/feed-source.enum';\nimport { FeedService } from '@api/routes/feed.service';\nimport { map, takeUntil, distinctUntilChanged, mergeMap } from 'rxjs/operators';\nimport { SessionService } from '@app/services/session.service';\nimport { HomepageService } from '@shared/services/homepage.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { UnreadFilterEnum } from '@api/schemas/feed/unread-filter.enum';\nimport { HeaderStatsSyncService } from '@layout/shared/services/header-stats-sync.service';\n\n@Component({\n  selector: 'app-feed-nav',\n  templateUrl: './feed-nav.component.html',\n  styleUrls: ['./feed-nav.component.scss']\n})\nexport class FeedNavComponent extends AbstractComponent implements OnInit, OnDestroy {\n  @Input() public isSecondHeader = false;\n\n  public readonly personalDropdownConf: IFeedNavDropdown = feedDropdownConstant.personalDropdownConf;\n  public readonly popularDropdownConf: IFeedNavDropdown = feedDropdownConstant.popularDropdownConf;\n  public readonly feedSourceEnum: typeof FeedSourceEnum = FeedSourceEnum;\n\n  public unreadPersonal$: Observable<number>;\n  public unreadPopular$: Observable<number>;\n\n  public feedSource$: Observable<FeedSourceEnum>;\n\n  public readonly handleClick: CallableFunction = () => {\n    if (!this.session.loggedIn$.value) {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n\n  constructor(\n    private readonly feedService: FeedService,\n    private readonly session: SessionService,\n    private readonly userDropdownService: UserDropdownService,\n    public readonly homepageService: HomepageService,\n    private readonly headerStatSyncService: HeaderStatsSyncService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    const user$ = this.session.user$.pipe(\n      distinctUntilChanged((a: IUserViewFull, b: IUserViewFull) => (!a && !b) || (a && b && a.meta.id === b.meta.id)),\n      takeUntil(this.ngOnDestroy$),\n    );\n\n    this.unreadPersonal$ = this.headerStatSyncService.articlesCountSyncEvent$.pipe(\n      mergeMap(() => user$),\n      mergeMap((user: IUserViewFull) =>\n        (user ? this.feedService.countUnread$(UnreadFilterEnum.SUB) : of(null))),\n      map((res: any) => (res ? res.count : null)),\n      takeUntil(this.ngOnDestroy$),\n    );\n\n    this.unreadPopular$ = this.headerStatSyncService.articlesCountSyncEvent$.pipe(\n      mergeMap(() => user$),\n      mergeMap((user: IUserViewFull) => (user ? this.feedService.countUnread$() : of(null))),\n      map((_: any) => (_ ? _.count : null)),\n      takeUntil(this.ngOnDestroy$),\n    );\n  }\n}\n","<div class=\"v-center\">\n    <div style=\"height: 100%;\">\n        <app-feed-nav-item\n            [selected]=\"(homepageService.feedSource$ | async) === feedSourceEnum.PERSONAL\"\n            [link]=\"['/']\"\n            [dropdownConf]=\"personalDropdownConf\"\n            [count]=\"unreadPersonal$ | async\"\n            [text]=\"'COMMON.MY_NEWSFEED'\"\n            [isSecondHeader]=\"isSecondHeader\"\n            [handleClick]=\"handleClick\" \n            class=\"feed-nav__left\">\n        </app-feed-nav-item>\n    </div>\n\n    <div style=\"height: 100%;\">\n        <app-feed-nav-item\n            [selected]=\"(homepageService.feedSource$ | async) === feedSourceEnum.ALL\"\n            [link]=\"['/all']\"\n            [dropdownConf]=\"{ hasDropdown: false }\"\n            [count]=\"unreadPopular$ | async\"\n            [isSecondHeader]=\"isSecondHeader\"\n            [text]=\"'COMMON.PUBLICATIONS'\" \n            class=\"feed-nav__middle\">\n        </app-feed-nav-item>\n    </div>\n\n    <div style=\"height: 100%;\">\n        <app-feed-nav-item\n            [selected]=\"(homepageService.feedSource$ | async) === feedSourceEnum.POPULAR\"\n            [link]=\"['/popular']\"\n            [dropdownConf]=\"popularDropdownConf\"\n            [isSecondHeader]=\"isSecondHeader\"\n            [text]=\"'COMMON.POPULAR'\" \n            [dropAction]=\"true\"\n            class=\"feed-nav__right\">\n        </app-feed-nav-item>\n    </div>\n</div>\n","export enum LocaleEnum {\n    RUSSIAN = 'RUSSIAN',\n    ENGLISH = 'ENGLISH',\n    ALL = 'ALL'\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/services/api.service';\nimport { Observable } from 'rxjs';\nimport { ReportEntityTypeEnum } from '@api/schemas/report/report-entity-type.enum';\n\nconst CONTROLLER_ENDPOINT = 'report';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ReportService {\n  constructor(private readonly api: ApiService) {}\n\n  public send$(type: ReportEntityTypeEnum, id: number, message?: string): Observable<never> {\n    return this.api.post$(CONTROLLER_ENDPOINT, { type, id, message });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BaseStatus } from '@api/classes/base-status/base-status.class';\nimport { ApiService } from '@api/services/api.service';\nimport { ITagQuery } from '@api/schemas/tags/tag-query.interface';\nimport { Observable, of } from 'rxjs';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { ITagView } from '@api/schemas/tags/tag-view.interface';\nimport { CachedGetMany } from '@api/classes/cached-get-many.class';\nimport { map, catchError } from 'rxjs/operators';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { Store } from '@ngxs/store';\n\nconst CONTROLLER_ENDPOINT = 'tags';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TagsService extends BaseStatus {\n  private readonly manyCache: CachedGetMany<ITagView> =\n    new CachedGetMany<ITagView>(this.apiService, CONTROLLER_ENDPOINT, this.platformService);\n\n  constructor(\n    protected readonly apiService: ApiService,\n    protected readonly store: Store,\n    private readonly platformService: PlatformService\n  ) {\n    super(apiService, CONTROLLER_ENDPOINT, store);\n  }\n\n  public get$(page: number = 0, query: ITagQuery = {}): Observable<IPageResponse<ITagView>> {\n    return this.apiService.get$<IPageResponse<ITagView>>(CONTROLLER_ENDPOINT, true, { ...query, page });\n  }\n\n  public getSingle$(id: number): Observable<ITagView> {\n    return this.apiService.get$<ITagView>(`${ CONTROLLER_ENDPOINT }/${ id }`, true);\n  }\n\n  public create$(content: string): Observable<number> {\n    return this.apiService.post$<{ id: number }>(`${ CONTROLLER_ENDPOINT }`,\n      { content: content.toLowerCase().replace(/\\s+/g, '') }).pipe(map((_: { id: number }) => _.id));\n  }\n\n  public markAsViewed$(id: number): Observable<never> {\n    return this.apiService.post$<never>(`${ CONTROLLER_ENDPOINT }/${ id }/view`, false);\n  }\n\n  public delete$(id: number): Observable<never> {\n    return this.apiService.delete$<never>(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public find$(content: string): Observable<number | null> {\n    return this.apiService.get$<{ id: any }>(`${ CONTROLLER_ENDPOINT }?id&content=${ encodeURIComponent(content.toLowerCase().replace(/\\s+/g, '')) }`).pipe(\n      map((_: { id: any }) => _.id),\n      catchError((err: any) => {\n        if (err.status === 404) {\n          return of(null);\n        }\n        throw err;\n      }),\n    );\n  }\n\n  public getMultiple$(ids: number[]): Observable<ITagView[]> {\n    return this.manyCache.get$(ids);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport Fingerprint2 from 'fingerprintjs2';\nimport { Observable, from, of } from 'rxjs';\nimport { publishReplay, map, refCount } from 'rxjs/operators';\nimport { PlatformService } from '@shared/services/platform.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FingerprintService {\n  private fingerprintObservable$: Observable<string>;\n\n  constructor(private readonly platformService: PlatformService) {}\n\n  public get fingerprint$(): Observable<string> {\n    if (!this.fingerprintObservable$) {\n      if (this.platformService.isBrowser) {\n        this.fingerprintObservable$ = from(Fingerprint2.getPromise()).pipe(\n          map((components: Fingerprint2.Component[]) => Fingerprint2.x64hash128(components.join(''), 31)),\n          publishReplay(1),\n          refCount(),\n        );\n      } else {\n        this.fingerprintObservable$ = of('');\n      }\n    }\n\n    return this.fingerprintObservable$;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FiltersComponent } from './filters.component';\n\n\n\n@NgModule({\n  declarations: [FiltersComponent],\n  exports: [FiltersComponent],\n  imports: [\n    CommonModule\n  ]\n})\nexport class FiltersModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nexport function translateLoaderFactory(httpClient: HttpClient): TranslateHttpLoader {\n    return new TranslateHttpLoader(httpClient);\n}\n","import {\n  Component,\n  EventEmitter,\n  OnInit,\n  Output,\n  Input,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef\n} from '@angular/core';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { FormControl, Validators } from '@angular/forms';\n\n\n@Component({\n  selector: 'app-comment-editor',\n  templateUrl: './comment-editor.component.html',\n  styleUrls: ['./comment-editor.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CommentEditorComponent implements OnInit {\n  @Output() public readonly send: EventEmitter<string> = new EventEmitter<string>();\n  @Output() public readonly closeButton: EventEmitter<never> = new EventEmitter<never>();\n\n  @Input() public mainBlock = true;\n  @Input() public isLogged!: boolean;\n\n  public collapsed = true;\n\n  public commentFormControl = new FormControl('', [\n    Validators.required,\n    Validators.maxLength(1000)\n  ]);\n\n  constructor(\n    private readonly userDropdownService: UserDropdownService,\n    private readonly cd: ChangeDetectorRef\n  ) {}\n\n  public clear(): void {\n    this.commentFormControl.setValue('');\n    this.collapse();\n  }\n\n  public collapse(): void {\n    this.collapsed = true;\n    this.cd.markForCheck();\n  }\n\n  ngOnInit(): void {\n    this.mainBlock ? (this.collapsed = true) : (this.collapsed = false);\n  }\n\n  public submit(): void {\n    if (this.isLogged) {\n      this.send.emit(this.commentFormControl.value);\n      this.clear();\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n      this.collapse();\n    }\n  }\n\n  public close(event: any): void {\n    event.stopPropagation();\n    if (!this.mainBlock) {\n      this.closeButton.emit();\n    } else {\n      this.collapse();\n    }\n  }\n}\n","<div #main [ngClass]=\"{active: !collapsed}\" tabindex=\"-1\" (click)=\"textarea.focus()\">\n  <div class=\"text\">\n    <textarea [formControl]=\"commentFormControl\"\n              #textarea class=\"subtitle-2\"\n              [placeholder]=\"'COMMON.TO_WRITE' | translate\"\n              (focus)=\"collapsed = false\"\n    ></textarea>\n    <div class=\"close\" (click)=\"close($event)\">\n      <svg name=\"btn-cross\"></svg>\n    </div>\n  </div>\n  <div class=\"controls v-center\">\n    <button class=\"button-2 align-right\"\n            [disabled]=\"commentFormControl.invalid\"\n            (click)=\"submit()\">\n            {{ 'COMMON.SEND' | translate}}\n    </button>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/services/api.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { INotificationOrigin } from '@api/schemas/notification/notification-origin.interface';\nimport { INotification } from '@api/schemas/notification/notification.interface';\nimport { INotSetting } from '@api/schemas/notification/not-setting.interface';\n\nconst CONTROLLER_ENDPOINT = 'notifications';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NotificationsService {\n  constructor(private readonly api: ApiService) {}\n\n  public unreadCount$(): Observable<number> {\n    return this.api.get$<{ count: number }>(`${ CONTROLLER_ENDPOINT }/count`).pipe(map((_: { count: number }) => _.count));\n  }\n\n  public markRead$(id: number): Observable<never> {\n    return this.api.post$(`${ CONTROLLER_ENDPOINT }/${ id }/read`);\n  }\n\n  public postSettings$(body: INotSetting[]): Observable<never> {\n    return this.api.post$(`${ CONTROLLER_ENDPOINT }/settings`, body);\n  }\n\n  public getSettings$(): Observable<INotSetting[]> {\n    return this.api.get$<INotSetting[]>(`${ CONTROLLER_ENDPOINT }/settings`);\n  }\n\n  public get$(page: number, order?: string): Observable<IPageResponse<INotification>> {\n    return this.api.get$<IPageResponse<INotificationOrigin>>(\n      CONTROLLER_ENDPOINT, false, { page: page.toString(), order }\n    ).pipe(\n      map((_: IPageResponse<INotificationOrigin>) => {\n        const ret: IPageResponse<INotification> = {\n          content: [],\n          page: _.page,\n          total: _.total,\n          totalPages: _.totalPages,\n        };\n        _.content.forEach((e: INotificationOrigin) => {\n          if (e.type === 'content_report') {\n            ret.content.push({\n              ...e,\n              body: {\n                ...JSON.parse(e.body.replace(/\"message\".*\"owner\"/g, '\"owner\"')),\n                message: e.body\n                  .match(/\"message\".*\"owner\"/g)[0]\n                  .replace('\"message\":\"', '')\n                  .replace('\",\"owner\"', ''),\n              },\n              read: e.read,\n            });\n          } else {\n            ret.content.push({ ...e, body: JSON.parse(e.body), read: e.read });\n          }\n        });\n        return ret;\n      }),\n    );\n  }\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { distinctUntilChanged, filter, map, switchMap, takeUntil } from 'rxjs/operators';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { SessionService } from '@app/services/session.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { ICommentViewArticle } from '@api/schemas/comment/comment-view-article.interface';\nimport { SortModes } from './comment-section.const';\nimport { ISortMode } from './sort-mode.const';\nimport { CommentsService } from '@api/routes/comments.service';\nimport { ArticlesService } from '@api/routes/articles.service';\nimport { ICommentViewFeed } from '@api/schemas/comment/comment-view-feed.interface';\nimport { TranslateService } from '@ngx-translate/core';\n\n\n@Component({\n  selector: 'app-comment-section',\n  templateUrl: './comment-section.component.html',\n  styleUrls: ['./comment-section.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CommentSectionComponent extends AbstractComponent implements OnInit {\n  @ViewChild('floatingEditor', { static: true }) public floatingEditor: ElementRef;\n  @ViewChild('commentView', { static: true }) public commentView: ElementRef;\n\n  @Output() public readonly addCommentEmit: EventEmitter<void> = new EventEmitter<void>();\n  @Output() public readonly addWatchtEmit: EventEmitter<void> = new EventEmitter<void>();\n\n  @Input() public isLogged!: boolean;\n  @Input() public user: IUserViewFull;\n  @Input() public id!: number;\n  @Input() public set articleComments(value: any) {\n    this.comments = value;\n    this.comments$.next(this.comments);\n  }\n\n  private childrenOfCache: { [id: number]: Observable<ICommentViewArticle[]> } = {};\n\n  public comments: ICommentViewArticle[];\n  public replyingTo: number;\n  public sortModes = SortModes;\n  public rootComments$: Observable<ICommentViewArticle[]>;\n\n  public readonly comments$: BehaviorSubject<ICommentViewArticle[]> = new BehaviorSubject<ICommentViewArticle[]>(null);\n  public readonly sortMode$: BehaviorSubject<ISortMode> = new BehaviorSubject<ISortMode>(this.sortModes[0]);\n\n  constructor(\n    private readonly commentsService: CommentsService,\n    private readonly ref: ChangeDetectorRef,\n    private readonly articlesService: ArticlesService,\n    public readonly sessionService: SessionService,\n    public translationServise: TranslateService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    const sortMode$ = this.sortMode$.pipe(distinctUntilChanged());\n\n    this.rootComments$ = this.comments$.pipe(\n      filter((res: ICommentViewArticle[]) => !!res),\n      switchMap((comments: ICommentViewArticle[]) =>\n        sortMode$.pipe(map((mode: ISortMode) =>\n          comments.filter((comment: ICommentViewArticle) =>\n            !comment.parent || !comment.parent.meta.id).sort(mode.sort)))\n      ));\n  }\n\n  public childrenOf$(id: number): Observable<ICommentViewArticle[]> {\n    if (!this.childrenOfCache[id]) {\n      const sortMode$ = this.sortMode$.pipe(distinctUntilChanged());\n\n      this.childrenOfCache[id] = combineLatest([sortMode$, this.comments$.pipe(filter((c: ICommentViewArticle[]) => c !== null))]).pipe(\n        map(([mode, comments]: [ISortMode, ICommentViewArticle[]]) => {\n          return comments.filter((x: ICommentViewArticle) => x.parent && x.parent.meta.id === id).sort(mode.sort);\n        }),\n      );\n    }\n\n    return this.childrenOfCache[id];\n  }\n\n  public hasUndeletedChildren$(id: number): Observable<boolean> {\n    return this.comments$.pipe(\n      map((comments: ICommentViewArticle[]) => comments.filter(\n        (x: ICommentViewArticle) => x.parent && x.parent.meta.id === id && (!x.meta.deletedAt\n          || this.hasUndeletedChildren(x.meta.id, comments))).length > 0\n      ),\n    );\n  }\n\n  private hasUndeletedChildren(id: number, comments: ICommentViewArticle[]): boolean {\n    return comments.filter((x: ICommentViewArticle) => x.parent && x.parent.meta.id === id && (!x.meta.deletedAt\n      || this.hasUndeletedChildren(x.meta.id, comments))).length > 0;\n  }\n\n  public retCommString(comments: number): string {\n    const num = (Math.abs(comments) % 100) % 10;\n    let result;\n    if (comments > 10 && comments < 20) {\n      result = this.translationServise.instant('COMMON.COMMENTS_');\n    } else if (num > 1 && num < 5) {\n      result = this.translationServise.instant('COMMON.COMMENTS___');\n    } else if (num === 1) {\n      result = this.translationServise.instant('COMMON.COMMENTS__');\n    } else {\n      result = this.translationServise.instant('COMMON.COMMENTS_');\n    }\n    return result;\n  }\n\n  public reply(comment: ICommentViewArticle): void {\n    const commentEl: HTMLElement = this.commentView.nativeElement.querySelector(`app-comment[data-id=\"${comment.meta.id}\"]`) as HTMLElement;\n    commentEl.parentElement.insertBefore(this.floatingEditor.nativeElement, commentEl.nextSibling);\n    this.floatingEditor.nativeElement.classList.remove('hidden');\n    this.floatingEditor.nativeElement.querySelector('textarea').focus();\n    this.replyingTo = parseInt(commentEl.dataset.id, 10);\n    this.ref.markForCheck();\n  }\n\n  public closeReply(): void {\n    this.floatingEditor.nativeElement.classList.add('hidden');\n    this.ref.markForCheck();\n  }\n\n  public sendComment$(text: string, parent: number = null): Observable<ICommentViewArticle> {\n    return parent !== null\n      ? this.articlesService.replyToComment$(this.id, parent, text)\n      : this.articlesService.createComment$(this.id, text);\n  }\n\n  public sendComment(text: string): void {\n    this.sendComment$(text, null)\n      .pipe(takeUntil(this.ngOnDestroy$))\n      .subscribe((comment: ICommentViewArticle) => {\n        this.comments.push(comment);\n        this.comments$.next(this.comments);\n        this.addCommentEmit.emit();\n    });\n  }\n\n  public sendReply(text: string): void {\n    this.sendComment$(text, this.replyingTo).pipe(takeUntil(this.ngOnDestroy$))\n      .subscribe((comment: ICommentViewArticle) => {\n        this.comments.push(comment);\n        this.comments$.next(this.comments);\n        this.floatingEditor.nativeElement.classList.add('hidden');\n        this.addCommentEmit.emit();\n        this.ref.markForCheck();\n    });\n  }\n\n  public watch($event: ICommentViewArticle | ICommentViewFeed): void {\n    if (this.isLogged) {\n      this.commentsService.watch$($event.meta.id, !$event.watch).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        this.addWatchtEmit.emit();\n      });\n    }\n  }\n\n  public countEvent(commentId: any): void {\n    this.comments = this.comments.filter((comment: ICommentViewArticle) => comment.meta.id !== commentId);\n    this.comments$.next(this.comments);\n  }\n\n  public filterDeleted(array: ICommentViewArticle[]): ICommentViewArticle[] {\n    return array.filter((_: ICommentViewArticle) => !_.meta.deletedAt);\n  }\n}\n","<div>\n    <div class=\"header v-center margin-bottom-20\">\n        <h5 class=\"margin-right-20\">\n            {{ filterDeleted((comments || [])).length + ' ' + retCommString((comments || []).length) }}\n        </h5>\n        <div>\n            <svg name=\"bell\" class=\"f-gray not-allowed\"></svg>\n        </div>\n        <app-ui-dropdown-menu class=\"align-right\">\n            <div class=\"head v-center\">\n                <span class=\"button-1 margin-right-4 hidden-mobile\">{{ (sortMode$ | async).name | translate }}</span>\n                <svg name=\"dropdown\" size=\"12\" class=\"f-primary\"></svg>\n            </div>\n            <app-ui-dropdown-menu-item *ngFor=\"let s of sortModes\" (click)=\"sortMode$.next(s)\">\n                <div style=\"display: flex;\">\n                    <div style=\"width: 24px;\">\n                        <svg *ngIf=\"(sortMode$ | async).name == s.name\"\n                             name=\"chevron/right\" size=\"24\"\n                             class=\"f-primary\" style=\"bottom: 3px;\n                             position: relative;\">\n                        </svg>\n                    </div>\n                    {{ s.name | translate }}\n                </div>\n            </app-ui-dropdown-menu-item>\n        </app-ui-dropdown-menu>\n    </div>\n    <div class=\"margin-bottom-20\">\n        <app-comment-editor #editor1\n                            [isLogged]=\"isLogged\"\n                            (send)=\"sendComment($event)\"\n                            (closeButton)=\"editor1.collapse()\">\n        </app-comment-editor>\n    </div>\n    <div #commentView class=\"item-space-20 margin-bottom-20\">\n        <ng-container *ngFor=\"let c of rootComments$ | async\" [ngTemplateOutlet]=\"commentRecursive\"\n            [ngTemplateOutletContext]=\"{comment: c, depth: 0, parent: null}\"></ng-container>\n        <div #floatingEditor class=\"hidden\">\n            <app-comment-editor #editor2\n                                [isLogged]=\"isLogged\"\n                                [mainBlock]=\"false\"\n                                (send)=\"sendReply($event)\"\n                                (closeButton)=\"closeReply()\">\n            </app-comment-editor>\n        </div>\n    </div>\n</div>\n\n<ng-template #commentRecursive let-comment=\"comment\" let-depth=\"depth\" let-parent=\"parent\">\n    <app-comment \n        *ngIf=\"!comment.meta.deletedAt || (hasUndeletedChildren$(comment.meta.id) | async)\"\n        [ownID]=\"user?.meta.id\"\n        [attr.id]=\"'comment-' + comment.meta.id\" \n        [attr.data-id]=\"comment.meta.id\" \n        [comment]=\"comment\"\n        [isLogged]=\"isLogged\"\n        [depth]=\"depth\" \n        [parent]=\"parent\" \n        [context]=\"id\" \n        (reply)=\"reply(comment)\"\n        (watchEmit)=\"watch($event)\"\n        (deleteComment)=\"countEvent($event)\">\n    </app-comment>\n    <ng-container *ngFor=\"let c of childrenOf$(comment.meta.id) | async\" [ngTemplateOutlet]=\"commentRecursive\"\n        [ngTemplateOutletContext]=\"{comment: c, depth: depth + 1, parent: comment}\"></ng-container>\n</ng-template>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ReportBlockService } from './report-block.service';\nimport { Router, Event, NavigationEnd } from '@angular/router';\nimport { ReportService } from '@api/routes/report.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/operators';\nimport { IReportObject } from './report-object.interface';\n\n@Component({\n  selector: 'app-report-block',\n  templateUrl: './report-block.component.html',\n  styleUrls: ['./report-block.component.scss']\n})\nexport class ReportBlockComponent extends AbstractComponent implements OnInit, OnDestroy {\n  public object: IReportObject;\n  public message = '';\n\n  constructor(\n    private readonly reportService: ReportService,\n    private readonly router: Router,\n    public readonly reportBlockService: ReportBlockService,\n  ) { super(); }\n\n  ngOnInit(): void {\n    this.router.events.pipe(takeUntil(this.ngOnDestroy$)).subscribe((event: Event) => {\n      if (event instanceof NavigationEnd) {\n        this.message = '';\n      }\n    });\n  }\n\n  public report(): void {\n    this.object = this.reportBlockService.object;\n    this.reportService.send$(this.object.type, this.object.id, this.message).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.reportBlockService.report();\n    });\n  }\n}\n","<div *ngIf=\"reportBlockService.state$() | async\" class=\"rect\">\n    <div class=\"w-100\"></div>\n    <div class=\"preview\">\n        <div class=\"system-alert\">\n            <div class=\"system-alert__wrap\">\n                <button class=\"system-alert__close\" [title]=\"'COMMON.CLOSE' | translate\" (click)=\"reportBlockService.toggle()\">\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\n                        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.0015 8.98985L13.5371 5.45431C13.816 5.17537 14.2683 5.17537 14.5472 5.45431C14.8262 5.73326 14.8262 6.18552 14.5472 6.46447L11.0117 10L14.5472 13.5355C14.8262 13.8145 14.8262 14.2667 14.5472 14.5457C14.2683 14.8246 13.816 14.8246 13.5371 14.5457L10.0015 11.0102L6.466 14.5457C6.18705 14.8246 5.73479 14.8246 5.45584 14.5457C5.1769 14.2667 5.1769 13.8145 5.45584 13.5355L8.99138 10L5.45584 6.46447C5.1769 6.18552 5.1769 5.73326 5.45584 5.45431C5.73479 5.17537 6.18705 5.17537 6.466 5.45431L10.0015 8.98985Z\" />\n                    </svg>\n                </button>\n                <h2 class=\"system-alert__title\">{{ 'COMMON.REPORT_FORM' | translate}}</h2>\n                <label class=\"add-element-on-bord__group\">\n                    <input type=\"text\" class=\"add-element-on-bord__input\" name=\"title\" [placeholder]=\"'COMMON.REPORT_PLACEHOLDER' | translate\" maxlength=\"300\" [(ngModel)]=\"message\">\n                    <span style=\"border-bottom: 2px solid rgba(0, 183, 255, 0.3); font-size: 14px; line-height: 16px; color: rgba(0, 183, 255); padding-bottom: 3px;\">{{ '&nbsp;' + (300 - message.length) }}</span>\n                </label>\n                <p class=\"system-alert__txt \">{{ 'COMMON.REPORT_DESCRIPTION' | translate}}<br><br>{{ 'COMMON.REPORT_DESCRIPTION_' | translate}}</p>\n                <div class=\"system-alert__bar\">\n                    <button class=\"system-alert__confirm\" (click)=\"report(); reportBlockService.toggle()\">{{ 'COMMON.REPORT' | translate}}</button>\n                    <button class=\"system-alert__reset\" (click)=\"reportBlockService.toggle()\">{{ 'COMMON.UNDO' | translate}}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, Output, Input, EventEmitter, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'app-file-upload',\n  templateUrl: './file-upload.component.html',\n  styleUrls: ['./file-upload.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FileUploadComponent {\n  @Input() public id = '';\n  // tslint:disable-next-line:no-output-on-prefix\n  @Output() public readonly onChange: EventEmitter<any> = new EventEmitter<any>();\n}\n","<div class=\"file-upload\">\n    <svg name=\"attach\"></svg>\n    <label [for]=\"id\">{{ 'COMMON.LOAD_AN_IMAGE' | translate }}</label>\n    <input type=\"file\"\n        accept=\"image/*\"\n        [id]=\"id\"\n        (change)=\"onChange.emit($any($event.target).files)\">\n</div>\n","import { Component, Input, EventEmitter, Output, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'app-ui-subscribable-view-item',\n  templateUrl: './subscribable-view-item.component.html',\n  styleUrls: ['./subscribable-view-item.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SubscribableViewItemComponent {\n  @Input() public showAdd = true;\n  @Input() public disableAdd = false;\n  @Input() public item: any;\n\n  @Output() public readonly actionEvent: EventEmitter<never> = new EventEmitter<never>();\n\n  public collapsed = true;\n\n  constructor() {}\n\n  public emitActionEvent(): boolean {\n    this.actionEvent.emit();\n    return true;\n  }\n\n  public toggleCollapse(): void {\n    this.collapsed = !this.collapsed;\n  }\n}\n","<app-ui-icon *ngIf=\"item.info.name\" class=\"margin-right-10\" [src]=\"item.info.picture\" [textAlternative]=\"item.info.name\"></app-ui-icon>\n<app-ui-icon *ngIf=\"item.info.company\" class=\"margin-right-10\" [src]=\"item.info.picture\" [textAlternative]=\"item.info.company.name\"></app-ui-icon>\n<span *ngIf=\"item.info.name\" class=\"subtitle-1 ellipsis\" style=\"max-width: 140px;\">{{ item.info.name }}</span>\n<span *ngIf=\"item.info.company\" class=\"subtitle-1\" style=\"max-width: 140px;\">{{ item.info.company.name }}</span>\n<div class=\"align-right\">\n    <svg\n        *ngIf=\"showAdd\"\n        class=\"icon-24\"\n        name=\"btn-add\"\n        (click)=\"emitActionEvent(); $event.stopPropagation()\"\n    ></svg>\n    <div *ngIf=\"!showAdd\" class=\"icon-24 v-center\" (click)=\"emitActionEvent(); $event.stopPropagation()\">\n        <svg\n            name=\"tick\"\n            size=\"15\"\n        ></svg>\n    </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/services/api.service';\nimport { BaseStatus } from '@api/classes/base-status/base-status.class';\nimport { IUserQuery } from '@api/schemas/user/user-query.interface';\nimport { Observable } from 'rxjs';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { ICommentViewFeed } from '@api/schemas/comment/comment-view-feed.interface';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { map } from 'rxjs/operators';\nimport { ICompanyView } from '@api/schemas/company/company-view.interface';\nimport { ICompanyViewFull } from '@api/schemas/company/company-view-full.interface';\nimport { IJobQuery } from '@api/schemas/job/job-query.interface';\nimport { IEventQuery } from '@api/schemas/event/event-query.interface';\nimport { IEventView } from '@api/schemas/event/event-view.interface';\nimport { IJobView } from '@api/schemas/job/job-view.interface';\nimport { Store } from '@ngxs/store';\n\nconst CONTROLLER_ENDPOINT = 'companies';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CompaniesService extends BaseStatus {\n  constructor(\n    protected readonly apiService: ApiService,\n    protected readonly store: Store\n  ) {\n    super(apiService, CONTROLLER_ENDPOINT, store);\n  }\n\n  public get$(page: number = 0, query: IUserQuery = {}): Observable<IPageResponse<ICompanyView>> {\n    return this.apiService.get$<IPageResponse<ICompanyView>>(CONTROLLER_ENDPOINT, true, { ...query, company: true, page });\n  }\n\n  public getSingle$(id: number): Observable<ICompanyViewFull> {\n    return this.apiService.get$<ICompanyViewFull>(`${ CONTROLLER_ENDPOINT }/${ id }`, true);\n  }\n\n  public createCompany$(): Observable<never> {\n    return this.apiService.post$<never>(CONTROLLER_ENDPOINT, false);\n  }\n\n  public delete$(id: number): Observable<never> {\n    return this.apiService.delete$<never>(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public comments$(page: number = 0, id: number): Observable<IPageResponse<ICommentViewFeed>> {\n    return this.apiService.get$<IPageResponse<ICommentViewFeed>>(`${ CONTROLLER_ENDPOINT }/${ id }/comments?page=${ page }`, true);\n  }\n\n  public events$(id: number, page: number = 0, query: IEventQuery): Observable<IPageResponse<IEventView>> {\n    return this.apiService.get$<IPageResponse<IEventView>>(`${ CONTROLLER_ENDPOINT }/${ id }/events`, true, { ...query, page });\n  }\n\n  public jobs$(id: number, page: number = 0, query: IJobQuery): Observable<IPageResponse<IJobView>> {\n    return this.apiService.get$<IPageResponse<IJobView>>(`${ CONTROLLER_ENDPOINT }/${ id }/jobs`, true, { ...query, page });\n  }\n\n  public members$(id: number, page: number = 0): Observable<IPageResponse<IUserView>> {\n    return this.apiService.get$<IPageResponse<IUserView>>(`${ CONTROLLER_ENDPOINT }/${ id }/members?page=${ page }`, true);\n  }\n\n  public toggleMember$(companyId: number, userId: number, remove?: boolean): Observable<never> {\n    return remove\n      ? this.apiService.delete$<never>(`${ CONTROLLER_ENDPOINT }/${ companyId }/members/${ userId }`)\n      : this.apiService.post$<never>(`${ CONTROLLER_ENDPOINT }/${ companyId }/members/${ userId }`);\n  }\n\n  public jobCount$(id: number, query: IJobQuery = {}): Observable<number> {\n    return this.apiService.get$<{ count: number }>(`${ CONTROLLER_ENDPOINT }/${ id }/jobs/count`, true, query)\n      .pipe(map((_: { count: number }) => _.count));\n  }\n\n  public jobCountNew$(id: number, query: IJobQuery = {}): Observable<number> {\n    return this.apiService.get$<{ jobCount: number }>(`${ CONTROLLER_ENDPOINT }/${ id }`, true, query)\n      .pipe(map((_: { jobCount: number }) => _.jobCount));\n  }\n\n  public eventCount$(id: number, query: IEventQuery = {}): Observable<number> {\n    return this.apiService.get$<{ count: number }>(`${ CONTROLLER_ENDPOINT }/${ id }/events/count`, true, query)\n      .pipe(map((_: { count: number }) => _.count));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, of, ReplaySubject } from 'rxjs';\nimport { distinctUntilChanged, map, switchMap, catchError } from 'rxjs/operators';\nimport { TokenService } from './token.service';\nimport { UsersService } from '@api/routes/users.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\n\ninterface IClaims {\n  [key: string]: any;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SessionService {\n  public readonly userIdSubject$: BehaviorSubject<number> = new BehaviorSubject<number>(null);\n  public readonly userId$: ReplaySubject<number> = new ReplaySubject<number>(1);\n  public readonly user$: ReplaySubject<IUserViewFull> = new ReplaySubject<IUserViewFull>(1);\n\n  public readonly loggedIn$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\n\n  public get userId(): number | null {\n    return this.userIdSubject$.value;\n  }\n\n  constructor(\n    private readonly usersService: UsersService,\n    private readonly tokenService: TokenService\n  ) {\n    this.initUser();\n\n    this.userId$.subscribe(this.userIdSubject$);\n    this.user$.pipe(map((user: IUserViewFull) => !!user)).subscribe(this.loggedIn$);\n  }\n\n  private initUser(): void {\n    this.tokenService.claims.pipe(\n      distinctUntilChanged((x: IClaims, y: IClaims) => {\n        return !((x === null) !== (y === null) || (x && y && x.sub !== y.sub));\n      }),\n      map((claims: IClaims) => (claims ? +claims.sub : null))\n    ).subscribe(this.userId$);\n\n    this.userId$.pipe(\n      switchMap((id: number) => (id ? this.usersService.me$() : of(null))),\n      catchError(() => {\n        return of(null);\n      })\n    ).subscribe(this.user$);\n  }\n\n  public clear(): void {\n    this.tokenService.clear();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BaseStatus } from '@api/classes/base-status/base-status.class';\nimport { ApiService } from '@api/services/api.service';\nimport { Observable } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { ICreatedObject } from '@api/schemas/object/created-object.interface';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { IArticleViewFull } from '@api/schemas/article/article-view-full.interface';\nimport { ICommentViewArticle } from '@api/schemas/comment/comment-view-article.interface';\nimport { fileToFormData } from '@api/functions/file-to-formdata.function';\nimport { BaseStatusActionEnum } from '@api/classes/base-status/base-status-action.enum';\nimport { Store } from '@ngxs/store';\n\nconst CONTROLLER_ENDPOINT = 'articles';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ArticlesService extends BaseStatus {\n  constructor(\n    protected readonly apiService: ApiService,\n    protected readonly store: Store\n  ) {\n    super(apiService, CONTROLLER_ENDPOINT, store);\n  }\n\n  public getSingle$(id: number): Observable<IArticleViewFull> {\n    return this.apiService.fingerprintAnonymousRequest$(`${ CONTROLLER_ENDPOINT }/${ id }`, false)\n      .pipe(switchMap((url: string) => this.apiService.get$<IArticleViewFull>(url, true)));\n  }\n\n  public create$(): Observable<number> {\n    return this.apiService.post$<ICreatedObject>(CONTROLLER_ENDPOINT).pipe(map((_: ICreatedObject) => _.id));\n  }\n\n  public copy$(id: number): Observable<number> {\n    return this.apiService.post$<ICreatedObject>(`${ CONTROLLER_ENDPOINT }/${ id }/clone`).pipe(map((_: ICreatedObject) => _.id));\n  }\n\n  public delete$(id: number): Observable<never> {\n    return this.apiService.delete$<never>(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public comments$(id: number): Observable<IPageResponse<ICommentViewArticle>> {\n    return this.apiService.get$<IPageResponse<ICommentViewArticle>>(`${ CONTROLLER_ENDPOINT }/${ id }/comments`, true);\n  }\n\n  public updateTitle$(id: number, title: string): Observable<never> {\n    return this.apiService.put$<never>(`${ CONTROLLER_ENDPOINT }/${ id }/title`, { title });\n  }\n\n  public updateSummary$(id: number, summary: any): Observable<never> {\n    return this.apiService.put$<never>(`${ CONTROLLER_ENDPOINT }/${ id }/summary`, { summary });\n  }\n\n  public updateCover$(id: number, cover: File): Observable<never> {\n    return this.apiService.put$<never>(`${ CONTROLLER_ENDPOINT }/${ id }/cover`, fileToFormData(cover));\n  }\n\n  public putSource$(id: number, source: string): Observable<never> {\n    return this.apiService.put$<never>(`${ CONTROLLER_ENDPOINT }/${ id }/source`, { data: source ? source : '' });\n  }\n\n  public getSource$(id: number): Observable<string> {\n    return this.apiService.get$<{ data: any }>(`${ CONTROLLER_ENDPOINT }/${ id }/source`).pipe(map((_: { data: any }) => _.data));\n  }\n\n  public putTopics$(id: number, topics: number[]): Observable<never> {\n    return this.apiService.put$<never>(`${ CONTROLLER_ENDPOINT }/${ id }/topics`, { topics });\n  }\n\n  public putTags$(id: any, tags: number[]): Observable<never> {\n    return this.apiService.put$<never>(`${ CONTROLLER_ENDPOINT }/${ id }/tags`, { tags });\n  }\n\n  public commentsForArticle$(id: number): Observable<ICommentViewArticle[]> {\n    return this.apiService.get$<ICommentViewArticle[]>(`${ CONTROLLER_ENDPOINT }/${ id }/comments`, true);\n  }\n\n  public createComment$(id: number, content: string): Observable<ICommentViewArticle> {\n    return this.apiService.post$<ICommentViewArticle>(`${ CONTROLLER_ENDPOINT }/${ id }/comments`, { content });\n  }\n\n  public replyToComment$(id: number, parent: number, content: string): Observable<ICommentViewArticle> {\n    return this.apiService.post$<ICommentViewArticle>(`${ CONTROLLER_ENDPOINT }/${ id }/comments/${ parent }/reply`, { content });\n  }\n\n  public pin$(id: number, undo: boolean): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.PIN, undo);\n  }\n\n  public publish$(id: number, undo?: boolean): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.PUBLISH, undo);\n  }\n\n  public promote$(id: number, undo: boolean = false): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.PROMOTE, undo);\n  }\n\n  public block$(id: number, undo: boolean = false): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.BLOCK, undo);\n  }\n\n  public submit$(id: number, undo: boolean = false): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.SUBMIT, undo);\n  }\n}\n","import { Subject, fromEvent } from 'rxjs';\n\nexport class ScrollTrigger {\n    public readonly scroll$: Subject<never> = new Subject<never>();\n\n    constructor(private threshold: number = 50) {\n        this.initScrollTrigger();\n    }\n\n    private initScrollTrigger(): void {\n        fromEvent(window, 'scroll').subscribe(() => this.scrollHandler());\n    }\n\n    private scrollHandler(): void {\n        if (document.body.scrollHeight - window.innerHeight - window.pageYOffset <= this.threshold) {\n            this.scroll$.next();\n        }\n    }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IArticleView } from '@api/schemas/article/article-view.interface';\nimport { PublicationStageEnum } from '@api/schemas/article/publication-stage.enum';\nimport { ArticlesService } from '@api/routes/articles.service';\nimport { SessionService } from '@app/services/session.service';\nimport { UserDropdownService } from '@layout/shared/services/user-dropdown.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { from } from 'rxjs';\nimport { takeUntil, switchMap } from 'rxjs/operators';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { ChangeDetectorRef } from '@angular/core';\nimport { ShowcasesService } from '@api/routes/showcases.service';\nimport { ICreatedObject } from '@api/schemas/object/created-object.interface';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { ReportEntityTypeEnum } from '@api/schemas/report/report-entity-type.enum';\n\n@Component({\n  selector: 'app-action-menu-article',\n  templateUrl: './action-menu-article.component.html',\n  styleUrls: ['./action-menu-article.component.scss']\n})\nexport class ActionMenuArticleComponent extends AbstractComponent implements OnInit {\n  @Output() public readonly gone: EventEmitter<IArticleView> = new EventEmitter<IArticleView>();\n  @Output() public readonly goneBookmarked: EventEmitter<[IArticleView, string]> = new EventEmitter<[IArticleView, string]>();\n  @Output() public readonly pinned: EventEmitter<[IArticleView, ITopicView]> = new EventEmitter<[IArticleView, ITopicView]>();\n  @Output() public readonly gonePromote: EventEmitter<IArticleView> = new EventEmitter<IArticleView>();\n\n  @Input() public user: IUserViewFull;\n  @Input() public isLogged: boolean;\n  @Input() public topic: ITopicView;\n\n  @Input() public set data(data: IArticleView) {\n    this._data = data;\n    this.isHidden = data.hidden;\n    this.isPromoteDefault = data.promotions.default;\n    this.isBookmarkYou = data.bookmarks.you;\n    this.me = this.sessionService.userId && data && data.author.meta.id === this.sessionService.userId;\n  }\n  public get data(): IArticleView {\n    return this._data;\n  }\n\n  // tslint:disable-next-line:variable-name\n  private _data: IArticleView;\n  private isHidden: boolean;\n\n  public readonly reportEntityTypeEnum: typeof ReportEntityTypeEnum = ReportEntityTypeEnum;\n\n  public me = false;\n  public company = false;\n  public isPromoteDefault: boolean;\n  public isBookmarkYou: boolean;\n\n  constructor(\n    public readonly userDropdownService: UserDropdownService,\n    private readonly sessionService: SessionService,\n    private readonly articlesService: ArticlesService,\n    private readonly router: Router,\n    private readonly showcasesService: ShowcasesService,\n    private readonly ref: ChangeDetectorRef\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.sessionService.user$.pipe(takeUntil(this.ngOnDestroy$)).subscribe((user: IUserViewFull) => {\n      this.me = user && this._data && user.meta.id === this._data.author.meta.id;\n      this.company = user.info.company.isCompany;\n    });\n  }\n\n  public bookmark(): void {\n    if (this.isLogged) {\n      this.articlesService.bookmark$(this.data.meta.id, this.data.bookmarks.you).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n        this.isBookmarkYou = !this.isBookmarkYou;\n        this.ref.markForCheck();\n        if (this.isBookmarkYou) {\n          this.data.bookmarks.count++;\n        } else {\n          this.data.bookmarks.count--;\n          this.goneBookmarked.next([this.data, 'article']);\n        }\n        this.data.bookmarks.you = !this.data.bookmarks.you;\n      });\n    } else {\n      this.userDropdownService.setShowDropdown(true);\n    }\n  }\n\n  public hide(): void {\n    this.articlesService.hide$(this.data.meta.id, this.data.hidden).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.isHidden = !this.isHidden;\n      if (this.isHidden) {\n        this.gone.next(this.data);\n      }\n    });\n  }\n\n  public showcase(): void {\n    this.articlesService.showcase$(this.data.meta.id).pipe(\n      switchMap((created: ICreatedObject) => this.showcasesService.navigate$(created as any)),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe();\n  }\n\n  public pin(op: boolean): void {\n    this.articlesService.pin$(this.data.meta.id, !op).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.data.pinned = op;\n      this.pinned.emit(op ? [this.data, this.topic] : null);\n    });\n  }\n\n  public promote(state: boolean): void {\n    this.articlesService.promote$(this.data.meta.id, !state).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.isPromoteDefault = !this.isPromoteDefault;\n      if (!this.isPromoteDefault) this.gonePromote.next(this.data);\n      this.ref.markForCheck();\n    });\n  }\n\n  public edit(): void {\n    from(this.router.navigate(['/news', this.data.meta.id, 'edit'])).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n  }\n\n  public withdraw(): void {\n    this.articlesService.publish$(this.data.meta.id, true).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.gone.next(this.data);\n    });\n  }\n\n  public delete(): void {\n    this.articlesService.delete$(this.data.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => this.gone.emit(this.data));\n  }\n\n  public publish(): void {\n    this.articlesService.publish$(this.data.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.gone.next(this.data);\n    });\n  }\n\n  public submit(): void {\n    this.articlesService.submit$(this.data.meta.id).pipe(takeUntil(this.ngOnDestroy$)).subscribe();\n  }\n\n  public block(apply: boolean): void {\n    this.articlesService.block$(this.data.meta.id, !apply).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => {\n      this.data.status.publicationStage = apply ? PublicationStageEnum.BLOCKED : PublicationStageEnum.DRAFT;\n    });\n  }\n}\n","<app-ui-dots-menu *appLoggedIn>\n    <app-ui-dots-menu-item *ngIf=\"!me\"\n                       icon=\"do-not-show\"\n                       [text]=\"'COMMON.REMOVE_FROM_NEWSFEED' | translate\"\n                       (click)=\"hide()\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *ngIf=\"data.status.publicationStage === 'PUBLISHED'\"\n                       icon=\"bookmark\"\n                       [text]=\"data.bookmarks.you ? ('COMMON.REMOVE' | translate)  : ('COMMON.TO_BOOKMARKS' | translate)\"\n                       (click)=\"bookmark()\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *ngIf=\"!me\"\n                       icon=\"report\"\n                       [text]=\"'COMMON.TO_FILE_A_COMPLAINT' | translate\"\n                       appReport\n                       [object]=\"{ type: reportEntityTypeEnum.ARTICLE, id: data.meta.id }\"\n                       (report)=\"hide()\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *ngIf=\"me && data.status.publicationStage === 'PUBLISHED'\"\n                       icon=\"star\"\n                       [text]=\"data.pinned ? ('COMMON.UNPIN' | translate) : ('COMMON.TO_PIN' | translate)\"\n                       (click)=\"pin(!data.pinned)\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or me and data.status.publicationStage !== 'DRAFT'\"\n                       icon=\"edit\"\n                       [text]=\"'COMMON.TO_DRAFTS' | translate\"\n                       (click)=\"withdraw()\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *ngIf=\"data.status.publicationStage === 'DRAFT' && me\"\n                       icon=\"view\"\n                       [text]=\"'COMMON.SEND_TO_MODERATION' | translate\"\n                       (click)=\"submit()\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'PRIV_USER$'; and data.status.publicationStage !== 'PUBLISHED' && data.status.publicationStage !== 'BLOCKED' && !company\"\n                       icon=\"globe\"\n                       [text]=\"'COMMON.PUBLISH' | translate\"\n                       (click)=\"publish()\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *ngIf=\"company && data.status.publicationStage !== 'PUBLISHED' && data.status.publicationStage !== 'BLOCKED'\"\n                       icon=\"globe\"\n                       [text]=\"'COMMON.PUBLISH' | translate\"\n                       (click)=\"publish()\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or me\"\n                       icon=\"edit\"\n                       [text]=\"'COMMON.EDIT'  | translate\"\n                       (click)=\"edit()\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\"\n                       icon=\"star\"\n                       [text]=\"'COMMON.PLACE_AT_DISPLAY_WINDOW' | translate\"\n                       (click)=\"showcase()\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'\"\n                       icon=\"star\"\n                       text=\"{{ (isPromoteDefault ? 'COMMON.REMOVE_FROM_YACHTSMAN' : 'COMMON.ADD_TO_YACHTSMAN') | translate }}\"\n                       (click)=\"promote(!data.promotions.default)\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; and data.status.publicationStage !== 'BLOCKED'\"\n                       icon=\"lock\"\n                       [text]=\"'COMMON.BLOCK' | translate\"\n                       (click)=\"block(true)\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; and data.status.publicationStage === 'BLOCKED'\"\n                       icon=\"lock\"\n                       [text]=\"'COMMON.UNBLOCK' | translate\"\n                       (click)=\"block(false)\">\n    </app-ui-dots-menu-item>\n    <app-ui-dots-menu-item *appRoleGuard=\"'EDITOR$'; or me\"\n                       icon=\"report\"\n                       [text]=\"'COMMON.REMOVE' | translate\"\n                       (click)=\"delete()\">\n    </app-ui-dots-menu-item>\n</app-ui-dots-menu>\n","import { Routes } from '@angular/router';\nimport { SuperUserGuard, SalesGuard, RecoveryGuard, UserGuard } from '@shared/guards/guards';\nimport { MasterGuard } from '@shared/guards/master.guard';\nimport { BlockerGuard } from './blocker/blocker.guard';\n\nexport const BLOCKER_ROUTES: Routes = [\n  {\n    path: 'blocker',\n    pathMatch: 'full',\n    loadChildren: () => import('./blocker/blocker.module').then((module: any) => module.BlockerModule)\n  },\n  {\n    path: '',\n    canActivate: [BlockerGuard],\n    children: [\n      {\n        path: '404',\n        pathMatch: 'full',\n        loadChildren: () => import('./modules/not-found/not-found.module').then((module: any) => module.NotFoundModule)\n      },\n      {\n        path: '',\n        loadChildren: () => import('./modules/homepage/homepage.module').then((module: any) => module.HomepageModule)\n      },\n      {\n        path: '',\n        loadChildren: () => import('./modules/content-overview/content-overview.module').then((module: any) => module.ContentOverviewModule)\n      },\n      {\n        path: 'news',\n        loadChildren: () => import('./modules/news/news.module').then((module: any) => module.NewsModule)\n      },\n      {\n        path: 'tags',\n        loadChildren: () => import('./modules/tags/tags.module').then((module: any) => module.TagsModule)\n      },\n      {\n        path: 'events',\n        loadChildren: () => import('./modules/events/events.module').then((module: any) => module.EventsModule)\n      },\n      {\n        path: 'jobs',\n        loadChildren: () => import('./modules/jobs/jobs.module').then((module: any) => module.JobsModule),\n      },\n      {\n        path: 'search',\n        loadChildren: () => import('./modules/search/search.module').then((module: any) => module.SearchModule),\n      },\n      {\n        path: 'user/:id',\n        loadChildren: () => import('./modules/user/user.module').then((module: any) => module.UserModule),\n        canActivate: [MasterGuard],\n        data: { guards: [UserGuard], guardsRelation: 'AND'},\n      },\n      {\n        path: 'company/:id',\n        loadChildren: () => import('./modules/user/user.module').then((module: any) => module.UserModule)\n      },\n      {\n        path: 'topics/:id',\n        loadChildren: () => import('./modules/topics/topics.module').then((module: any) => module.TopicsModule)\n      },\n      {\n        path: 'dashboard',\n        loadChildren: () => import('./modules/dashboard/dashboard.module').then((module: any) => module.DashboardModule),\n        canActivate: [MasterGuard],\n        data: { guards: [SuperUserGuard, SalesGuard], guardsRelation: 'OR', alternativeRoute: '/all' },\n      },\n      {\n        path: 'recovery',\n        loadChildren: () => import('./modules/recovery/recovery.module').then((module: any) => module.RecoveryModule),\n        canActivate: [MasterGuard],\n        data: { guards: [RecoveryGuard], guardsRelation: 'AND'},\n      },\n      {\n        path: '**',\n        redirectTo: '404'\n      }\n    ]\n  }\n];\n\nexport const DEFAULT_ROUTES: Routes = [\n  {\n    path: '404',\n    pathMatch: 'full',\n    loadChildren: () => import('./modules/not-found/not-found.module').then((module: any) => module.NotFoundModule)\n  },\n  {\n    path: '',\n    loadChildren: () => import('./modules/homepage/homepage.module').then((module: any) => module.HomepageModule)\n  },\n  {\n    path: '',\n    loadChildren: () => import('./modules/content-overview/content-overview.module').then((module: any) => module.ContentOverviewModule)\n  },\n  {\n    path: 'news',\n    loadChildren: () => import('./modules/news/news.module').then((module: any) => module.NewsModule)\n  },\n  {\n    path: 'tags',\n    loadChildren: () => import('./modules/tags/tags.module').then((module: any) => module.TagsModule)\n  },\n  {\n    path: 'events',\n    loadChildren: () => import('./modules/events/events.module').then((module: any) => module.EventsModule)\n  },\n  {\n    path: 'jobs',\n    loadChildren: () => import('./modules/jobs/jobs.module').then((module: any) => module.JobsModule),\n  },\n\n  {\n    path: 'search',\n    loadChildren: () => import('./modules/search/search.module').then((module: any) => module.SearchModule),\n  },\n  {\n    path: 'user/:id',\n    loadChildren: () => import('./modules/user/user.module').then((module: any) => module.UserModule),\n    canActivate: [MasterGuard],\n    data: { guards: [UserGuard], guardsRelation: 'AND'},\n  },\n  {\n    path: 'company/:id',\n    loadChildren: () => import('./modules/user/user.module').then((module: any) => module.UserModule)\n  },\n  {\n    path: 'topics/:id',\n    loadChildren: () => import('./modules/topics/topics.module').then((module: any) => module.TopicsModule)\n  },\n  {\n    path: 'dashboard',\n    loadChildren: () => import('./modules/dashboard/dashboard.module').then((module: any) => module.DashboardModule),\n    canActivate: [MasterGuard],\n    data: { guards: [SuperUserGuard, SalesGuard], guardsRelation: 'OR', alternativeRoute: '/all' },\n  },\n  {\n    path: 'recovery',\n    loadChildren: () => import('./modules/recovery/recovery.module').then((module: any) => module.RecoveryModule),\n    canActivate: [MasterGuard],\n    data: { guards: [RecoveryGuard], guardsRelation: 'AND'},\n  },\n  {\n    path: '**',\n    redirectTo: '404'\n  }\n];\n","import { Injectable } from '@angular/core';\nimport { SessionService } from '@app/services/session.service';\nimport { TokenService } from '@app/services/token.service';\nimport { Observable } from 'rxjs';\nimport { IApiTokens } from '@app/interfaces/api-tokens.interface';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { skip, first } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginService {\n  constructor(private readonly session: SessionService, private readonly tokens: TokenService) {}\n\n  public login$(tokens: IApiTokens): Observable<IUserView> {\n    this.tokens.save(tokens);\n    return this.session.user$.pipe(skip(1), first());\n  }\n}\n","export enum FeedSourceEnum {\n    ALL = 'ALL',\n    POPULAR = 'POPULAR',\n    PERSONAL = 'PERSONAL',\n    PROMOTED = 'PROMOTED',\n    NONE = 'NONE'\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { IUserViewBase } from '@api/schemas/user/user-view-base.interface';\n\n@Pipe({\n  name: 'personName'\n})\nexport class PersonNamePipe implements PipeTransform {\n  transform(value: { firstName: string; lastName: string; company?: IUserViewBase['info']['company'] }): string {\n    let result: string;\n    if (value.company && value.company.isCompany && value.company.confirmed) {\n      result = value.company.name ? `${ value.company.name }` : '';\n    } else {\n      result = `${ value.firstName } ${ value.lastName }`;\n    }\n    return result;\n  }\n}\n","import { Directive, ElementRef, Input, AfterContentInit } from '@angular/core';\n\nimport { UiInputAppearance } from './ui-input-appearance.enum';\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: 'input[uiInput]',\n  host: {\n    class: 'ui-input',\n  },\n})\n// tslint:disable-next-line:directive-class-suffix\nexport class UiInput implements AfterContentInit {\n  @Input() public appearance: UiInputAppearance = UiInputAppearance.outline;\n\n  constructor(private readonly elementRef: ElementRef<HTMLInputElement>) {}\n\n  ngAfterContentInit(): void {\n    this.setAppearanceClass();\n  }\n\n  private setAppearanceClass(): void {\n    this.elementRef.nativeElement.classList.add(`ui-input-${this.appearance}`);\n  }\n}\n","export enum EUserStatsProperty {\n    TOPICS = 'topics',\n    AUTHORS = 'authors',\n    COMPANIES = 'companies',\n    PROMOTED = 'promoted',\n    POSTS = 'posts',\n    DRAFTS = 'drafts',\n    COMMENTS = 'comments'\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { IUserViewBase } from '@api/schemas/user/user-view-base.interface';\n\n@Pipe({\n  name: 'accountUrl'\n})\nexport class AccountUrlPipe implements PipeTransform {\n  transform(value: IUserViewBase, sub?: string): any {\n    const result: any[] = [value.info.company.isCompany ? '/company' : '/user', value.info.username ? value.info.username : value.meta.id];\n    if (sub) {\n      result.push(sub);\n    }\n    return result;\n  }\n}\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport { LocalStorageKeyEnum } from '@shared/enums/local-storage-key.enum';\nimport { Router, NavigationEnd, RouterEvent } from '@angular/router';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { BannerPlaceEnum } from '@api/schemas/advertisement/banner-place.enum';\nimport { MoreMenuWrapperComponent } from '@shared/modules/more-menu/more-menu-wrapper/more-menu-wrapper.component';\nimport { MoreMenuService } from '@shared/modules/more-menu/more-menu.service';\n\n@Component({\n  selector: 'app-layout',\n  templateUrl: './layout.component.html',\n  styleUrls: ['./layout.component.scss']\n})\nexport class LayoutComponent extends AbstractComponent implements OnInit, OnDestroy {\n  @ViewChild('globalMenu', { static: true }) public wrapper: MoreMenuWrapperComponent;\n\n  public readonly BannerPlaceEnum: typeof BannerPlaceEnum = BannerPlaceEnum;\n\n  constructor(\n    private readonly router: Router,\n    private readonly platformService: PlatformService,\n    public readonly moreMenuService: MoreMenuService\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    if (this.platformService.isBrowser) {\n      this.router.events.pipe(filter((event: RouterEvent) => event instanceof NavigationEnd))\n        .pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe(() =>\n          window.scrollTo(0, 0));\n      this.moreMenuService.wrapper = this.wrapper;\n\n      const cookiesBannerStatus: boolean = !!localStorage.getItem(LocalStorageKeyEnum.COOKIES_BANNER);\n\n      if (!cookiesBannerStatus) {\n        localStorage.setItem(LocalStorageKeyEnum.COOKIES_BANNER, 'false');\n      }\n    }\n  }\n}\n","<div class=\"content\">\n    <div style=\"display: flex; justify-content: center;\">\n        <app-ad-banner [place]=\"BannerPlaceEnum.HEADER\"></app-ad-banner>\n    </div>\n    \n    <app-sidebar-wrapper></app-sidebar-wrapper>\n</div>\n\n<div class=\"wrapper\">\n    <div class=\"header\">\n        <div class=\"content\">\n            <app-header></app-header>\n        </div>\n    </div>\n</div>\n\n<app-more-menu-wrapper #globalMenu></app-more-menu-wrapper>\n<app-login-social-connect></app-login-social-connect>\n<app-dynamic-meta-tags></app-dynamic-meta-tags>\n<app-report-block></app-report-block>\n<app-cookies-banner></app-cookies-banner>\n<app-showcase-editor></app-showcase-editor>\n","import { ChangeDetectionStrategy, Component, EventEmitter, HostBinding, Input, Output } from '@angular/core';\nimport { VoteAction, VoteStyle, VoteStyleNames } from './voting.const';\n\n@Component({\n  selector: 'app-voting',\n  templateUrl: './voting.component.html',\n  styleUrls: ['./voting.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class VotingComponent {\n  @Output() public readonly vote: EventEmitter<VoteAction> = new EventEmitter<VoteAction>();\n\n  @HostBinding('class.article') public hostClassArticle: boolean;\n  @HostBinding('class.comment') public hostClassComment: boolean;\n  @HostBinding('class.can-vote') public hostClassCanVote: boolean;\n\n  @Input() public castVote: number;\n  @Input() public up: number;\n  @Input() public down: number;\n  @Input() public disabled = false;\n\n  @Input() public set style(style: VoteStyle) {\n    this.hostClassArticle = style === VoteStyleNames.ARTICLE;\n    this.hostClassComment = style === VoteStyleNames.COMMENT;\n  }\n\n  public handleVote(vote: VoteAction): void {\n    this.vote.emit(vote);\n  }\n}\n","<ng-container *ngIf=\"hostClassArticle\" class=\"article\">\n  <div class=\"vote down\" [ngClass]=\"{cast: castVote === -1}\" (click)=\"handleVote('down')\">\n    <svg class=\"inactive\" name=\"vote/vote-down\"></svg>\n    <svg class=\"active\" name=\"vote/vote-down-active\"></svg>\n  </div>\n  <span class=\"score subtitle-1\"\n        [ngClass]=\"{negative: down > up}\">{{ down > up ? (up - down) : ('+' + (up - down)) }}</span>\n  <div class=\"vote up\" [ngClass]=\"{cast: castVote === 1}\" (click)=\"handleVote('up')\">\n    <svg class=\"inactive\" name=\"vote/vote-up\"></svg>\n    <svg class=\"active\" name=\"vote/vote-up-active\"></svg>\n  </div>\n</ng-container>\n<ng-container *ngIf=\"hostClassComment\" class=\"comment\">\n  <svg name=\"chevron/down\" class=\"vote down\" [ngClass]=\"{cast: castVote === -1}\" (click)=\"handleVote('down')\"></svg>\n  <span class=\"score subtitle-2\"\n        [ngClass]=\"{negative: down > up}\">{{ down > up ? (up - down) : ('+' + (up - down)) }}</span>\n  <svg name=\"chevron/up\" class=\"vote up\" [ngClass]=\"{cast: castVote === 1}\" (click)=\"handleVote('up')\"></svg>\n</ng-container>\n","export function fileToFormData(file: File): FormData {\n    const formData: FormData = new FormData();\n    formData.append('file', file);\n    return formData;\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { environment } from '@env';\nimport { BLOCKER_ROUTES, DEFAULT_ROUTES } from './routes.const';\n\n\nconst routes: Routes = environment.blocker ? BLOCKER_ROUTES : DEFAULT_ROUTES;\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy', initialNavigation: 'enabled', anchorScrolling: 'enabled' })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { Router, Event, NavigationStart } from '@angular/router';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { SessionService } from '@app/services/session.service';\nimport { SidebarWrapperService } from './sidebar-wrapper.service';\nimport { filter, takeUntil } from 'rxjs/operators';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\n\n@Component({\n  selector: 'app-sidebar-wrapper',\n  templateUrl: './sidebar-wrapper.component.html',\n  styleUrls: ['./sidebar-wrapper.component.scss']\n})\nexport class SidebarWrapperComponent extends AbstractComponent implements OnInit {\n  public readonly homeRoute: string = this.router.url;\n\n  public liveContent =  true;\n  public trending = true;\n\n  public verticalMenu: any = {\n    left: false,\n    right: false,\n    article: false\n  };\n\n  constructor(\n    private readonly router: Router,\n    public readonly sidebarWrapperService: SidebarWrapperService,\n    public readonly responsive: ResponsiveService,\n    public readonly session: SessionService,\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.router.events.pipe(\n      filter((event: Event) => event instanceof NavigationStart),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe(() => {\n      this.verticalMenu = {\n        left: false,\n        right: false,\n        article: false\n      };\n    });\n  }\n\n  public isOpen(menu: { [menu: string]: boolean }): boolean {\n    return Object.values(menu).indexOf(true) !== -1;\n  }\n\n  public toggleVerticalMenu(name: string): void {\n    const result: any = { ...this.verticalMenu };\n    for (const menu of Object.keys(result)) {\n      result[menu] = menu === name ? !result[menu] : false;\n    }\n    this.verticalMenu = result;\n  }\n\n  public closeVerticalMenu(): void {\n    const result: any = { ...this.verticalMenu };\n    for (const menu of Object.keys(result)) {\n      result[menu] = false;\n    }\n    this.verticalMenu = result;\n  }\n\n  public scrollTop(): void {\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n  }\n}\n","<ng-container *ngIf=\"(sidebarWrapperService.params$ | async).showSidebar; else contentOnly\">\n    <div *ngIf=\"responsive.lt.large | async\" class=\"overlay secondary-header scrollbar-none\">\n        <div class=\"overlay-background\" [ngClass]=\"{ 'shown': verticalMenu | call : isOpen }\" (click)=\"closeVerticalMenu()\"></div>\n        <app-toolbar>\n            <div class=\"btn\" (click)=\"toggleVerticalMenu('left')\">\n                <svg name=\"list\" class=\"f-primary\"></svg>\n            </div>\n            <app-feed-nav [isSecondHeader]=\"true\"></app-feed-nav>\n            <div class=\"button-1 v-center fade-1 clickable hide-lt-medium\" (click)=\"toggleVerticalMenu('right')\">\n                <span class=\"margin-right-4\">{{'COMMON.THE_MOST_CURRENT' | translate}}</span>\n                <svg name=\"dropdown\" size=\"12\" class=\"f-primary\"></svg>\n            </div>\n            <div class=\"hide-ge-medium\" (click)=\"toggleVerticalMenu('right')\">\n                <svg name=\"comment\" class=\"f-primary\" size=\"25\">\n                </svg>\n            </div>\n            <div class=\"left-sidebar inside\" [ngClass]=\"{ 'hidden': !verticalMenu.left }\">\n                <ng-container [ngTemplateOutlet]=\"(sidebarWrapperService.params$ | async).article ? articleSidebar : leftSidebar\"></ng-container>\n            </div>\n            <div *ngIf=\"(sidebarWrapperService.params$ | async).trending\" class=\"right-sidebar inside\" [ngClass]=\"{ 'hidden': !verticalMenu.right }\">\n                <ng-container [ngTemplateOutlet]=\"rightSidebar\"></ng-container>\n            </div>\n        </app-toolbar>\n    </div>\n\n    <ng-container *ngIf=\"(responsive.lt.large | async) && !(responsive.lt.medium | async) && (sidebarWrapperService.params$ | async).article\">\n        <div class=\"trending sidebar-article scrollbar-none\"  [ngClass]=\"{ 'shown': verticalMenu.article }\">\n            <div class=\"content\">\n                <ng-scrollbar [appearance]=\"'standard'\" class=\"empty-size\">\n                    <div class=\"block\">\n                        <ng-container [ngTemplateOutlet]=\"articleSidebar\" style=\"width: 100%\"></ng-container>\n                    </div>\n                </ng-scrollbar>\n            </div>\n            <div class=\"collapse\" (click)=\"toggleVerticalMenu('article')\">\n                <div class=\"icon-expand\">\n                    <svg name=\"chevron/right\" fill=\"white\"></svg>\n                </div>\n                <div class=\"icon-collapse\">\n                    <svg name=\"chevron/left\" fill=\"white\"></svg>\n                </div>\n            </div>\n        </div>\n    </ng-container>\n    \n    <ng-container *ngIf=\"(sidebarWrapperService.params$ | async) as params\">\n        <div *ngIf=\"params.trending && (!params.article && (responsive.large | async) || params.article && !(responsive.lt.large | async))\"\n            class=\"trending sidebar scrollbar-none\"  [ngClass]=\"{ 'shown': verticalMenu.right }\">\n            <div class=\"collapse\" (click)=\"toggleVerticalMenu('right')\">\n                <div class=\"icon-expand\">\n                    <svg name=\"chevron/left\" fill=\"white\"></svg>\n                </div>\n                <div class=\"icon-collapse\">\n                    <svg name=\"chevron/right\" fill=\"white\"></svg>\n                </div>\n            </div>\n            <div class=\"content\">\n                <ng-scrollbar [appearance]=\"'standard'\" class=\"empty-size\">\n                    <div class=\"block\">\n                        <ng-container [ngTemplateOutlet]=\"rightSidebar\" style=\"width: 100%\"></ng-container>\n                    </div>\n                </ng-scrollbar>\n            </div>\n        </div>\n    </ng-container>\n    \n    <div *ngIf=\"verticalMenu.right && (homeRoute === '/all' || homeRoute === '/') && !(responsive.lt.large | async)\" class=\"temnota\"></div>\n      \n    <app-live-content *ngIf=\"(sidebarWrapperService.params$ | async).live\" class=\"scrollbar-none\"></app-live-content>\n      \n    <div class=\"content\">\n        <div *ngIf=\"(responsive.width$ | async) >= responsive.breakpoints.large\" class=\"navigation block pos-sticky scroll-block scrollbar-none\">\n            <ng-scrollbar [appearance]=\"'standard'\">\n                <div *ngIf=\"(sidebarWrapperService.params$ | async) as params\" class=\"block nav\">\n                    <ng-container *ngIf=\"params.navigation\" [ngTemplateOutlet]=\"leftSidebar\"></ng-container>\n                    <ng-container *ngIf=\"params.article\" [ngTemplateOutlet]=\"articleSidebar\"></ng-container>\n                </div>\n            </ng-scrollbar>\n        </div>\n      \n        <div [ngClass]=\"(sidebarWrapperService.params$ | async).trending && !(sidebarWrapperService.params$ | async).article ? 'ng-content' : 'ng-content-wide'\">\n            <div class=\"content\">\n                <router-outlet></router-outlet>\n            </div>\n        </div>\n      \n      \n        <div *ngIf=\"(responsive.width$ | async) >= responsive.breakpoints.xlarge && (sidebarWrapperService.params$ | async).trending && !(sidebarWrapperService.params$ | async).article\" class=\"trending block pos-sticky scroll-block scrollbar-none\">\n            <ng-scrollbar [appearance]=\"'standard'\">\n                <div class=\"block\">\n                    <div class=\"block trand\">\n                        <ng-container [ngTemplateOutlet]=\"rightSidebar\"></ng-container>\n                    </div>\n                </div>\n            </ng-scrollbar>\n        </div>\n    </div>\n</ng-container>\n  \n<ng-template #leftSidebar>\n    <app-navigation-sidebar></app-navigation-sidebar>\n    <ul class=\"structural sidebar-list mt-30 pos-sticky\">\n        <li class=\"clickable pos-sticky bg-grey\" (click)=\"scrollTop()\">\n            <div class=\"v-center last-item-right\">\n                <span class=\"subtitle-2 fade-2\">{{ 'COMMON.UP' | translate }}</span>\n                <svg name=\"chevron/up\" class=\"ui-icon\"></svg>\n            </div>\n        </li>\n    </ul>\n</ng-template>\n<ng-template #rightSidebar>\n    <app-trending-sidebar></app-trending-sidebar>\n</ng-template>\n<ng-template #articleSidebar>\n    <app-article-info-sidebar [data$]=\"sidebarWrapperService.params$\"></app-article-info-sidebar>\n</ng-template>\n<ng-template #contentOnly>\n    <router-outlet></router-outlet>\n</ng-template>\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '@api/services/api.service';\nimport { ICreatedObject } from '@api/schemas/object/created-object.interface';\nimport { Observable, of } from 'rxjs';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { IShowcaseView } from '@api/schemas/showcase/showcase-view.interface';\nimport { fileToFormData } from '@api/functions/file-to-formdata.function';\nimport { IUploadImageResponse } from '@api/schemas/image/upload-image-response.interface';\nimport { IShowcasePatch } from '@api/schemas/showcase/showcase-patch.interface';\nimport { ShowcaseEditBlockService } from '@layout/sidebar-wrapper/live-content/showcase-edit-block.service';\n\nconst CONTROLLER_ENDPOINT = 'showcases';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShowcasesService {\n  constructor(private readonly apiService: ApiService, private readonly showcaseEBS: ShowcaseEditBlockService) {}\n\n  public get$(page: number = 0, all?: boolean): Observable<IPageResponse<IShowcaseView>> {\n    return this.apiService.get$<IPageResponse<IShowcaseView>>(CONTROLLER_ENDPOINT, !all, { page, all });\n  }\n\n  public getSingle$(id: number): Observable<IShowcaseView> {\n    return this.apiService.get$<IShowcaseView>(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public storeView$(id: number): Observable<never> {\n    return this.apiService.post$<never>(`${ CONTROLLER_ENDPOINT }/${ id }/view`);\n  }\n\n  public create$(): Observable<ICreatedObject> {\n    return this.apiService.post$<ICreatedObject>(CONTROLLER_ENDPOINT);\n  }\n\n  // Management\n\n  public updateCover$(id: number, image: File): Observable<IUploadImageResponse> {\n    return this.apiService.put$<IUploadImageResponse>(`${ CONTROLLER_ENDPOINT }/${ id }/cover`, fileToFormData(image));\n  }\n\n  public patch$(id: number, patch: IShowcasePatch): Observable<IShowcaseView> {\n    return this.apiService.patch$<IShowcaseView>(`${ CONTROLLER_ENDPOINT }/${ id }`, patch);\n  }\n\n  public delete$(id: number): Observable<never> {\n    return this.apiService.delete$<never>(`${ CONTROLLER_ENDPOINT }/${ id }`);\n  }\n\n  public publish$(id: number): Observable<never> {\n    return this.apiService.post$<never>(`${ CONTROLLER_ENDPOINT }/${ id }/publish`);\n  }\n\n  public withdraw$(id: number): Observable<never> {\n    return this.apiService.delete$<never>(`${ CONTROLLER_ENDPOINT }/${ id }/publish`);\n  }\n\n  // -----------\n\n  public navigate$(created: ICreatedObject): Observable<boolean> {\n    this.showcaseEBS.setId(created.id);\n    this.showcaseEBS.toggle();\n    return of(true);\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { DynamicMetaTagsService } from './dynamic-meta-tags.service';\nimport { Title, Meta, MetaDefinition } from '@angular/platform-browser';\nimport { takeUntil, map, filter } from 'rxjs/operators';\nimport { IMetaInfo } from './meta-info.interface';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\n\n@Component({\n  selector: 'app-dynamic-meta-tags',\n  template: ''\n})\nexport class DynamicMetaTagsComponent extends AbstractComponent implements OnInit, OnDestroy {\n  constructor(private readonly dynamicMetaTagsService: DynamicMetaTagsService, private readonly title: Title, private readonly meta: Meta) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.dynamicMetaTagsService.metaInfo$.pipe(\n      filter((metaInfo: IMetaInfo) => !!metaInfo),\n      map((metaInfo: IMetaInfo) => this.setInfo(metaInfo)),\n      takeUntil(this.ngOnDestroy$)\n    ).subscribe();\n  }\n\n  private setInfo(data: IMetaInfo): void {\n    this.title.setTitle(data.title);\n    data.tags.forEach((tag: MetaDefinition) => {\n      this.meta.updateTag(tag);\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { State, Action, StateContext, StateToken } from '@ngxs/store';\nimport { IUserStatsState } from './interfaces/user-stats-state.interface';\nimport { USER_STATS_STATE } from './consts/users-stats-state.const';\nimport { TopicsService } from '@api/routes/topics.service';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { ITopicView } from '@api/schemas/topic/topic-view.interface';\nimport { tap, map } from 'rxjs/operators';\nimport { UsersService } from '@api/routes/users.service';\nimport { LocaleEnum } from '@api/schemas/locale/locale.enum';\nimport { IUserView } from '@api/schemas/user/user-view.interface';\nimport { Observable, combineLatest } from 'rxjs';\nimport { CompaniesService } from '@api/routes/companies.service';\nimport { ICompanyView } from '@api/schemas/company/company-view.interface';\nimport { SessionService } from '@app/services/session.service';\nimport { IEventView } from '@api/schemas/event/event-view.interface';\nimport { IJobView } from '@api/schemas/job/job-view.interface';\nimport { EventsService } from '@api/routes/events.service';\nimport { JobsService } from '@api/routes/jobs.service';\nimport { FeedService } from '@api/routes/feed.service';\nimport { IUserViewFull } from '@api/schemas/user/user-view-full.interface';\nimport { PublicationStageEnum } from '@api/schemas/article/publication-stage.enum';\nimport { AddToProperty } from './actions/add-to-property.action';\nimport { UpdateProperty } from './actions/update-property.action';\nimport { EUserStatsProperty } from './enums/user-stats-property.enum';\n\n\nexport const USER_STATS_STATE_TOKEN = new StateToken<IUserStatsState>('userStats');\n\n@State<IUserStatsState>({\n  name: USER_STATS_STATE_TOKEN,\n  defaults: USER_STATS_STATE\n})\n@Injectable()\nexport class UserStatsState {\n  constructor(\n    private readonly topicsService: TopicsService,\n    private readonly usersService: UsersService,\n    private readonly companiesService: CompaniesService,\n    private readonly sessionService: SessionService,\n    private readonly eventsService: EventsService,\n    private readonly jobsService: JobsService,\n    private readonly feedService: FeedService\n  ) {}\n\n  @Action(AddToProperty)\n  public incrementTopics(ctx: StateContext<IUserStatsState>, action: AddToProperty): void {\n    const state = ctx.getState();\n    const newState = { ...state };\n    newState[action.property] += action.addNumber;\n    ctx.setState(newState);\n  }\n\n  @Action(UpdateProperty)\n  public updateProperty(ctx: StateContext<IUserStatsState>, action: UpdateProperty): Observable<IPageResponse<any>> | Observable<number> {\n    switch (action.property) {\n      case EUserStatsProperty.TOPICS:\n        return this.topicsService.get$(0, { sub: true }).pipe(tap((response: IPageResponse<ITopicView>) => {\n          const state = ctx.getState();\n          ctx.setState({\n            ...state,\n            topics: response.total\n          });\n        }));\n      case EUserStatsProperty.AUTHORS:\n        return this.usersService.get$(0, { sub: true, locale: LocaleEnum.ALL }).pipe(tap((response: IPageResponse<IUserView>) => {\n          const state = ctx.getState();\n          ctx.setState({\n            ...state,\n            authors: response.total\n          });\n        }));\n      case EUserStatsProperty.COMPANIES:\n        return this.companiesService.get$(0, { sub: true }).pipe(tap((response: IPageResponse<ICompanyView>) => {\n          const state = ctx.getState();\n          ctx.setState({\n            ...state,\n            companies: response.total\n          });\n        }));\n      case EUserStatsProperty.PROMOTED:\n        return combineLatest([\n          this.feedService.count$({ bookmark: true, bookmarked: this.sessionService.userId }),\n          this.eventsService.getBookmarked$(this.sessionService.userId, 0),\n          this.jobsService.getBookmarked$(this.sessionService.userId, 0)\n        ]).pipe(\n          map(([articles, events, jobs]: [number, IPageResponse<IEventView>, IPageResponse<IJobView>]) =>\n            articles + events.total + jobs.total),\n          tap((count: number) => {\n            const state = ctx.getState();\n            ctx.setState({\n              ...state,\n              promoted: count\n            });\n          })\n        );\n      case EUserStatsProperty.POSTS:\n        return this.usersService.getSingle$(this.sessionService.userId).pipe(\n          map((user: IUserViewFull) => user?.postCount),\n          tap((count: number) => {\n            const state = ctx.getState();\n            ctx.setState({\n              ...state,\n              posts: count\n            });\n          })\n        );\n      case EUserStatsProperty.DRAFTS:\n        return this.feedService.count$({ author: this.sessionService.userId, stage: [PublicationStageEnum.DRAFT] }).pipe(\n          tap((count: number) => {\n            const state = ctx.getState();\n            ctx.setState({\n              ...state,\n              drafts: count\n            });\n          })\n        );\n      case EUserStatsProperty.COMMENTS:\n        return this.usersService.commentCount$(this.sessionService.userId).pipe(tap((response: number) => {\n          const state = ctx.getState();\n          ctx.setState({\n            ...state,\n            comments: response\n          });\n        }));\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\nimport { IMetaInfo } from './meta-info.interface';\nimport { AdministrationService } from '@api/routes/administration.service';\nimport { IPreviewManagementView } from '@api/schemas/dashboard/preview-management-view.interface';\nimport { Router } from '@angular/router';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DynamicMetaTagsService {\n  private default: IMetaInfo;\n\n  public readonly metaInfo$: ReplaySubject<IMetaInfo> = new ReplaySubject<IMetaInfo>(1);\n\n  constructor(private readonly administrationService: AdministrationService, private readonly router: Router) {\n    this.administrationService.getPreview$().subscribe((preview: IPreviewManagementView) => {\n      this.default = {\n        title: preview.title,\n        tags: [\n          { property: 'og:title', content: preview.title },\n          { name: 'description', content: preview.description },\n          { property: 'og:description', content: preview.description },\n          { property: 'og:image', content: preview.image },\n          { property: 'og:url', content: preview.siteName },\n          { property: 'og:type', content: 'website' },\n          { property: 'og:site_name', content: 'Diskurs.Media' },\n          { name: 'twitter:card', content: 'summary' },\n          { name: 'twitter:title', content: preview.title },\n          { name: 'twitter:description', content: preview.description },\n          { name: 'twitter:image', content: preview.image }\n        ]\n      };\n      const isSpecialUrl: boolean = this.router.url.includes('/news/') || this.router.url.includes('/user/')\n        || this.router.url.includes('/company/') || this.router.url.includes('/jobs/')\n        || this.router.url.includes('/events/') || this.router.url.includes('/topics/');\n      if (!isSpecialUrl) {\n        this.metaInfo$.next(this.default);\n      }\n    });\n  }\n\n  public setToDefault(): void {\n    this.metaInfo$.next(this.default);\n  }\n}\n","import { Observable, of } from 'rxjs';\nimport { catchError, tap } from 'rxjs/operators';\nimport { ApiService } from '@api/services/api.service';\nimport { ICreatedObject } from '@api/schemas/object/created-object.interface';\nimport { BaseStatusActionEnum } from './base-status-action.enum';\nimport { VoteActionValues } from '@shared/components/voting/voting.const';\nimport { Store } from '@ngxs/store';\nimport { EUserStatsProperty } from '@app/store/user-stats/enums/user-stats-property.enum';\nimport { AddToProperty } from '@app/store/user-stats/actions/add-to-property.action';\n\nexport class BaseStatus {\n  constructor(\n    protected readonly apiService: ApiService,\n    private readonly url: string,\n    protected readonly store: Store\n  ) {}\n\n  protected toggleStatus$<T = never>(id: number, action: BaseStatusActionEnum, undo?: boolean, body?: any): Observable<T | never> {\n    return undo\n      ? this.apiService.delete$<never>(`${ this.url }/${ id }/${ action }`)\n      : this.apiService.post$<T>(`${ this.url }/${ id }/${ action }`, body);\n  }\n\n  public hide$(id: number, undo?: boolean): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.HIDE, undo);\n  }\n\n  public bookmark$(id: number, undo?: boolean): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.BOOKMARK, undo).pipe(\n      tap(() => this.store.dispatch(new AddToProperty(undo ? -1 : 1, EUserStatsProperty.PROMOTED)))\n    );\n  }\n\n  public subscribe$(id: number, undo?: boolean): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.SUBSCRIBE, undo);\n  }\n\n  public vote$(id: number, undo: boolean, vote?: VoteActionValues): Observable<never> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.VOTE, undo, { value: vote });\n  }\n\n  /**\n   * Accepted resources:\n   * Article, User, Company, Tag, Topic, Job, Event\n   */\n  public showcase$(id: number): Observable<ICreatedObject> {\n    return this.toggleStatus$<ICreatedObject>(id, BaseStatusActionEnum.SHOWCASE);\n  }\n\n  public view$(id: number): Observable<void> {\n    return this.toggleStatus$(id, BaseStatusActionEnum.VIEW).pipe(\n      catchError((err: any) => {\n        if (err.status === 409) {\n          return of(null);\n        }\n      }),\n    );\n  }\n}\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\n\n@Component({\n  selector: 'app-share',\n  templateUrl: './share.component.html',\n  styleUrls: ['./share.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ShareComponent {\n  @Input() public url: string;\n  @Input() public spec = false;\n  @Input() public wide = false;\n\n  public open = false;\n}\n","<svg *ngIf=\"!spec\" name=\"share\" size=\"20\" class=\"icon f-gray\" [class.open]=\"open\" (click)=\"open = !open\"></svg>\n<ul class=\"structural\" [class.hidden]=\"!open && !spec\" [class.wide]=\"wide\">\n    <ng-container [ngTemplateOutlet]=\"share\"\n                  [ngTemplateOutletContext]=\"{ baseUrl: 'https://twitter.com/intent/tweet?url=', icon: 'twitter' }\"></ng-container>\n    <ng-container [ngTemplateOutlet]=\"share\"\n                  [ngTemplateOutletContext]=\"{ baseUrl: 'https://vk.com/share.php?url=', icon: 'vk' }\"></ng-container>\n    <ng-container [ngTemplateOutlet]=\"shareTg\"\n                  [ngTemplateOutletContext]=\"{ baseUrl: 'tg://msg_url?url=' }\"></ng-container>\n</ul>\n\n<ng-template #share let-baseUrl=\"baseUrl\" let-icon=\"icon\">\n    <li>\n        <a [href]=\"baseUrl + url | unsafeUrl\" target=\"_blank\">\n            <svg name=\"social/{{icon}}\" size=\"20\"></svg>\n        </a>\n    </li>\n</ng-template>\n\n<ng-template #shareTg let-baseUrl=\"baseUrl\" let-icon=\"icon\">\n    <li>\n        <a [href]=\"baseUrl + url | unsafeUrl\" target=\"_blank\">\n            <img src=\"assets/icons/uncorrect/telegram.png\" style =\"width: 20px; height: 20px;\" alt=\"\">\n        </a>\n    </li>\n</ng-template>\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MoreMenuComponent } from './more-menu.component';\nimport { MoreMenuWrapperComponent } from './more-menu-wrapper/more-menu-wrapper.component';\nimport { MoreMenuDirective } from './more-menu.directive';\nimport { SharedComponentsModule } from '@shared/components/shared-components.module';\n\n@NgModule({\n  declarations: [MoreMenuComponent, MoreMenuWrapperComponent, MoreMenuDirective],\n  imports: [CommonModule, SharedComponentsModule],\n  exports: [MoreMenuComponent, MoreMenuWrapperComponent, MoreMenuDirective],\n})\nexport class MoreMenuModule {}\n","import { ElementRef } from '@angular/core';\nimport { fromEvent, MonoTypeOperatorFunction } from 'rxjs';\nimport { IMenuState } from '../interfaces/menu-state.interface';\n\nexport function toggleFn(\n  state: IMenuState,\n  ref: () => ElementRef,\n  pipeFn: MonoTypeOperatorFunction<FocusEvent>,\n  onCloseFn?: CallableFunction\n): (() => void) {\n  const x: any = () => {\n    if (state.shown) {\n      state.sub.unsubscribe();\n      state.shown = false;\n      onCloseFn();\n    } else {\n      state.shown = true;\n      setTimeout(() => {\n        ref().nativeElement.focus();\n        state.sub = fromEvent(document, 'blur', {\n          capture: true,\n        }).pipe(pipeFn).subscribe((e: FocusEvent) => {\n          if (!ref().nativeElement.contains(e.relatedTarget)) {\n            state.sub.unsubscribe();\n            state.shown = false;\n            onCloseFn();\n          }\n        });\n      }, 0);\n    }\n  };\n  return x;\n}\n","import { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\nimport { TranslateLoader, TranslateModule, TranslateService } from '@ngx-translate/core';\nimport { TranslateCacheModule, TranslateCacheService, TranslateCacheSettings } from 'ngx-translate-cache';\nimport { PlatformService } from '@shared/services/platform.service';\nimport { translateLoaderFactory } from './functions/translate-loader-factory.function';\nimport { translateCacheFactory } from './functions/translate-cache-factory.function';\n\n@NgModule({\n  imports: [\n    HttpClientModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: translateLoaderFactory,\n        deps: [HttpClient],\n      },\n    }),\n    TranslateCacheModule.forRoot({\n      cacheService: {\n        provide: TranslateCacheService,\n        useFactory: translateCacheFactory,\n        deps: [TranslateService, TranslateCacheSettings],\n      },\n      cacheMechanism: 'Cookie',\n    }),\n  ],\n  exports: [TranslateModule],\n})\nexport class I18nModule {\n  constructor(\n    private readonly translate: TranslateService,\n    private readonly translateCacheService: TranslateCacheService,\n    private readonly platformService: PlatformService\n  ) {\n    this.translateCacheService.init();\n    this.translate.addLangs(['en', 'ru']);\n    this.translate.setDefaultLang('ru');\n    const browserLang = this.translateCacheService.getCachedLanguage() || this.translate.getBrowserLang();\n    this.translate.use(this.platformService.isBrowser ? (browserLang.match(/en|ru/) ? browserLang : 'en') : 'ru');\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LetDirective } from './let.directive';\nimport { ReportDirective } from './report.directive';\nimport { RoleGuardDirective } from './role-guard.directive';\nimport { LoggedInDirective } from './logged-in.directive';\n\n@NgModule({\n  declarations: [ReportDirective, RoleGuardDirective, LetDirective, LoggedInDirective],\n  exports: [ReportDirective, RoleGuardDirective, LetDirective, LoggedInDirective],\n})\nexport class CommonDirectivesModule {}\n","import { Component, ElementRef, HostListener, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { ResponsiveService } from '@app/services/responsive.service';\nimport { AbstractComponent } from '@shared/classes/abstract-component.class';\nimport { takeUntil } from 'rxjs/internal/operators/takeUntil';\nimport { AdvertisementService } from '@api/routes/advertisement.service';\nimport { IPageResponse } from '@api/schemas/page/page-response.interface';\nimport { IBannerReturnView } from '@api/schemas/advertisement/banner-return-view.interface';\nimport { BannerPlaceEnum } from '@api/schemas/advertisement/banner-place.enum';\nimport { IBannerPageableContent } from '@modules/dashboard/pages/ads-management-page/banner-pageable-content.interface';\nimport { PlatformService } from '@shared/services/platform.service';\n\n@Component({\n  selector: 'app-ad-banner',\n  templateUrl: './ad-banner.component.html',\n  styleUrls: ['./ad-banner.component.scss'],\n})\nexport class AdBannerComponent extends AbstractComponent implements OnInit, OnDestroy {\n\n  constructor(\n    private readonly advertisementService: AdvertisementService,\n    private readonly platformService: PlatformService,\n    public readonly responsive: ResponsiveService\n  ) {\n    super();\n  }\n\n  @ViewChild('adElem', { static: false }) public adElem: ElementRef;\n\n  @Input() public place: BannerPlaceEnum;\n  @Input() public sidebar = false;\n\n  public ad: IBannerPageableContent = {\n    content: [],\n    currentPage: 0,\n    totalPages: 1,\n    contentLoading: false,\n  };\n  public adNum = 0;\n  public adViewedProp = false;\n\n  ngOnInit(): void {\n    if (this.place && this.platformService.isBrowser) {\n      this.getAd();\n    }\n  }\n\n  @HostListener('window:scroll', ['$event']) public onScroll(): void {\n    if (!this.adViewedProp && this.ad.content[0] && this.adElem) {\n      this.adViewed();\n    }\n  }\n\n  public fetchAd(): void {\n    if ((this.ad.content === [] || this.ad.currentPage + 1 <= this.ad.totalPages) && !this.ad.contentLoading) {\n      this.ad.contentLoading = true;\n      this.advertisementService.get$(this.ad.currentPage, this.place)\n        .pipe(takeUntil(this.ngOnDestroy$))\n        .subscribe((banners: IPageResponse<IBannerReturnView>) => {\n          this.ad.content.push(...banners.content);\n          this.ad.totalPages = banners.totalPages;\n          this.ad.currentPage++;\n          this.ad.contentLoading = false;\n          if (this.ad.currentPage + 1 <= this.ad.totalPages) {\n            this.getAd();\n          } else {\n            if (this.ad.content[0]) {\n              if (!localStorage.getItem('ad-' + this.place)) {\n                localStorage.setItem('ad-' + this.place, '1');\n                this.adNum = 0;\n              } else {\n                this.adNum = parseInt(localStorage.getItem('ad-' + this.place), 10) - 1;\n                if (this.adNum + 1 < this.ad.content.length) {\n                  this.adNum++;\n                } else {\n                  this.adNum = 0;\n                }\n                localStorage.setItem('ad-' + this.place, this.adNum + 1 + '');\n              }\n            }\n          }\n          if (this.place === BannerPlaceEnum.HEADER) {\n            setTimeout(() => this.adElem ? this.adViewed() : () => {});\n          }\n        });\n    }\n  }\n\n  public getAd(): void {\n    this.fetchAd();\n  }\n\n  public adViewed(): void {\n    const rect = this.adElem.nativeElement.getBoundingClientRect();\n    const viewHeight = Math.max(document.documentElement.clientHeight, window.innerHeight);\n    if (!(rect.bottom < 0 || rect.top - viewHeight >= 0) && !this.adViewedProp) {\n      this.advertisementService.view$(this.ad.content[this.adNum].id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() => { });\n      this.adViewedProp = true;\n    }\n  }\n\n  public adClicked(): void {\n    this.advertisementService.click$(this.ad.content[this.adNum].id).pipe(takeUntil(this.ngOnDestroy$)).subscribe(() =>\n      window.open(this.ad.content[this.adNum].url, '_blank')\n    );\n  }\n}\n","<div #adElem *ngIf=\"ad && ad.content && ad.content[0]\" (click)=\"adClicked()\" class=\"ad\">\n  <div *ngIf=\"!sidebar; else side\">\n    <img *ngIf=\"ad.content[adNum].picture; else elseBlock\" [src]=\"ad.content[adNum].picture\" alt=\"\">\n    <ng-template #elseBlock>\n      <div class=\"alternative-img\"></div>\n    </ng-template>\n    <div class=\"ad-container\">\n      <div *ngIf=\"!(responsive.lt.medium | async)\" class=\"ad-btn\">\n        <span>{{ ad.content[adNum].text }}</span>\n        <svg name=\"chevron/right\" size=\"25\" fill=\"#92929D\"></svg>\n      </div>\n    </div>\n  </div>\n</div>\n\n<ng-template #side>\n  <div>\n    <img [src]=\"ad.content[adNum].picture\" style=\"border-radius: 15px\" alt=\"\">\n    <div class=\"ad-container\">\n      <span *ngIf=\"ad.content[adNum].text\" class=\"sidebar-text\" style=\"max-width: 260px; text-align: left; padding-top: 300px;\">{{ ad.content[adNum].text }}</span>\n    </div>\n  </div>\n</ng-template>\n","export enum ErrorMessageEnum {\n    NOT_FOUND = 'not found'\n}\n","import '@angular/compiler';\n\nimport { AppModule } from './app/app.module';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nif (environment.production) {\n  enableProdMode();\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  platformBrowserDynamic().bootstrapModule(AppModule)\n  .catch((err: any) => console.error(err));\n});\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}